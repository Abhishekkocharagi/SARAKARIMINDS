[{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\academy-dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[460,463],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[460,463],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'loading' is assigned a value but never used.","line":14,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchStats'. Either include it or remove the dependency array.","line":26,"column":8,"nodeType":"ArrayExpression","endLine":26,"endColumn":35,"suggestions":[{"desc":"Update the dependencies array to be: [user, authLoading, router, fetchStats]","fix":{"range":[836,863],"text":"[user, authLoading, router, fetchStats]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6634,6637],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6634,6637],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":108,"column":53,"nodeType":"JSXOpeningElement","endLine":108,"endColumn":160}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function AcademyDashboard() {\r\n    const { user, loading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n    const [stats, setStats] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login');\r\n            return;\r\n        }\r\n        if (user && user.role !== 'academy' && user.role !== 'admin') {\r\n            router.push('/feed');\r\n        } else if (user) {\r\n            fetchStats();\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    const fetchStats = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/academy/stats', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setStats(data);\r\n            }\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 space-y-6\">\r\n                    <header className=\"bg-white p-8 rounded-[2.5rem] border shadow-sm\">\r\n                        <div className=\"flex items-center gap-4 mb-4\">\r\n                            <span className=\"text-4xl\">üèõÔ∏è</span>\r\n                            <div>\r\n                                <h1 className=\"text-3xl font-black text-gray-900 uppercase tracking-tight\">Academy Dashboard</h1>\r\n                                <p className=\"text-gray-500 font-bold uppercase tracking-widest text-xs\">Manage your institute & courses</p>\r\n                            </div>\r\n                        </div>\r\n                    </header>\r\n\r\n                    {/* Stats Grid */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                        <div className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition\">\r\n                            <h3 className=\"text-xs font-black text-gray-400 uppercase tracking-widest mb-2\">Total Inquiries</h3>\r\n                            <p className=\"text-4xl font-black text-blue-900\">{stats?.totalInquiries || 0}</p>\r\n                            <span className=\"text-[10px] text-green-500 font-bold\">Messages Received</span>\r\n                        </div>\r\n                        <div className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition\">\r\n                            <h3 className=\"text-xs font-black text-gray-400 uppercase tracking-widest mb-2\">Active Batches</h3>\r\n                            <p className=\"text-4xl font-black text-blue-900\">{stats?.activeBatches || 0}</p>\r\n                            <span className=\"text-[10px] text-gray-400 font-bold\">Running Groups</span>\r\n                        </div>\r\n                        <div className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition\">\r\n                            <h3 className=\"text-xs font-black text-gray-400 uppercase tracking-widest mb-2\">Page Reach</h3>\r\n                            <p className=\"text-4xl font-black text-blue-900\">{stats?.postReach || 0}</p>\r\n                            <span className=\"text-[10px] text-green-500 font-bold\">Total Engagement</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Quick Actions */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div className=\"bg-gradient-to-br from-blue-700 to-indigo-900 rounded-3xl p-8 text-white relative overflow-hidden group cursor-pointer hover:shadow-xl transition-all\">\r\n                            <div className=\"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform text-9xl\">üì£</div>\r\n                            <h3 className=\"text-xl font-black uppercase tracking-tight mb-2 relative z-10\">New Admission Post</h3>\r\n                            <p className=\"text-xs font-medium opacity-80 mb-6 relative z-10\">Announce new batches securely. Reaches targeted aspirants.</p>\r\n                            <h3 className=\"text-xl font-black uppercase tracking-tight mb-2 relative z-10\">New Admission Post</h3>\r\n                            <p className=\"text-xs font-medium opacity-80 mb-6 relative z-10\">Announce new batches securely. Reaches targeted aspirants.</p>\r\n                            <Link href=\"/academy/campaign/create\" className=\"inline-block bg-white text-blue-900 px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-black hover:text-white transition-all\">Create Announcement</Link>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white border border-gray-100 rounded-3xl p-8 group cursor-pointer hover:border-blue-200 hover:shadow-xl transition-all relative overflow-hidden\">\r\n                            <div className=\"absolute top-0 right-0 p-8 opacity-10 grayscale group-hover:grayscale-0 transition-all text-9xl\">üìä</div>\r\n                            <h3 className=\"text-xl font-black text-gray-900 uppercase tracking-tight mb-2\">Promote Academy</h3>\r\n                            <p className=\"text-xs text-gray-500 font-medium mb-6\">Boost your profile visibility to nearby students.</p>\r\n                            <Link href=\"/academy/campaigns\" className=\"inline-block bg-gray-100 text-gray-900 px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-blue-600 hover:text-white transition-all\">Start Campaign</Link>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-8 rounded-3xl border border-gray-100\">\r\n                        <h3 className=\"text-sm font-black text-gray-900 uppercase tracking-widest mb-6\">Recent Enquiries</h3>\r\n                        {stats?.recentEnquiries?.length > 0 ? (\r\n                            <div className=\"space-y-4\">\r\n                                {stats.recentEnquiries.map((msg: any) => (\r\n                                    <div key={msg._id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-2xl\">\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <div className=\"w-12 h-12 bg-white border rounded-xl flex items-center justify-center overflow-hidden\">\r\n                                                {msg.sender?.profilePic ? (\r\n                                                    <img src={`http://localhost:5000${msg.sender.profilePic}`} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                                                ) : (\r\n                                                    <span className=\"font-bold text-gray-400 text-xl\">{msg.sender?.name?.charAt(0)}</span>\r\n                                                )}\r\n                                            </div>\r\n                                            <div>\r\n                                                <h4 className=\"font-bold text-gray-900 text-sm\">{msg.sender?.name || 'Aspirant'}</h4>\r\n                                                <p className=\"text-[10px] text-gray-400 line-clamp-1\">{msg.text || 'Sent an attachment'}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <Link href=\"/messages\" className=\"text-xs font-black text-blue-600 bg-white border px-3 py-1 rounded-lg hover:bg-blue-600 hover:text-white transition\">Reply</Link>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <p className=\"text-gray-400 text-sm italic\">No recent enquiries found.</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\academy\\campaign\\create\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\academy\\campaigns\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[362,365],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[362,365],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchCampaigns'. Either include it or remove the dependency array.","line":16,"column":8,"nodeType":"ArrayExpression","endLine":16,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchCampaigns, user]","fix":{"range":[495,501],"text":"[fetchCampaigns, user]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport Link from 'next/link';\r\n\r\nexport default function MyCampaigns() {\r\n    const { user } = useAuth();\r\n    const [campaigns, setCampaigns] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (user) fetchCampaigns();\r\n    }, [user]);\r\n\r\n    const fetchCampaigns = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/campaigns/my', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                setCampaigns(await res.json());\r\n            }\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n                <div className=\"flex-1 space-y-6\">\r\n                    <header className=\"flex justify-between items-center bg-white p-8 rounded-[2rem] border shadow-sm\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-black text-gray-900 uppercase tracking-tight\">Marketing Campaigns</h1>\r\n                            <p className=\"text-gray-500 font-bold uppercase tracking-widest text-xs\">Manage ads & leads</p>\r\n                        </div>\r\n                        <Link href=\"/academy/campaign/create\" className=\"bg-blue-700 text-white px-6 py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-black transition-all shadow-lg\">\r\n                            + New Campaign\r\n                        </Link>\r\n                    </header>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        {loading ? (\r\n                            <div className=\"text-center p-10\">Loading...</div>\r\n                        ) : campaigns.length > 0 ? (\r\n                            campaigns.map(camp => (\r\n                                <div key={camp._id} className=\"bg-white p-6 rounded-2xl border shadow-sm\">\r\n                                    <div className=\"flex justify-between items-start mb-4\">\r\n                                        <div>\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <h3 className=\"font-bold text-lg text-gray-900\">{camp.name}</h3>\r\n                                                <span className={`px-2 py-0.5 rounded text-[10px] uppercase font-black ${camp.status === 'active' ? 'bg-green-100 text-green-700' :\r\n                                                        camp.status === 'pending' ? 'bg-yellow-100 text-yellow-700' :\r\n                                                            'bg-red-100 text-red-700'\r\n                                                    }`}>{camp.status}</span>\r\n                                            </div>\r\n                                            <p className=\"text-xs text-gray-400 font-bold uppercase mt-1\">Goal: {camp.type.replace('_', ' ')}</p>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <p className=\"font-black text-gray-900\">‚Çπ{camp.budget}</p>\r\n                                            <p className=\"text-[10px] text-gray-400 uppercase font-bold\">Budget</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Stats Bar */}\r\n                                    <div className=\"grid grid-cols-3 gap-4 bg-gray-50 p-4 rounded-xl\">\r\n                                        <div className=\"text-center\">\r\n                                            <p className=\"text-xl font-black text-blue-900\">{camp.views}</p>\r\n                                            <p className=\"text-[10px] text-gray-400 uppercase font-bold\">Views</p>\r\n                                        </div>\r\n                                        <div className=\"text-center border-l border-gray-200\">\r\n                                            <p className=\"text-xl font-black text-blue-900\">{camp.clicks}</p>\r\n                                            <p className=\"text-[10px] text-gray-400 uppercase font-bold\">Clicks</p>\r\n                                        </div>\r\n                                        <div className=\"text-center border-l border-gray-200\">\r\n                                            <p className=\"text-xl font-black text-green-600\">{camp.leads?.length || 0}</p>\r\n                                            <p className=\"text-[10px] text-gray-400 uppercase font-bold\">Leads</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {camp.leads?.length > 0 && (\r\n                                        <div className=\"mt-4 pt-4 border-t border-gray-100\">\r\n                                            <p className=\"text-xs font-bold text-gray-700 mb-2\">Recent Leads:</p>\r\n                                            {/* In a real app, map leads here if populated. If IDs only, count is enough */}\r\n                                            <p className=\"text-xs text-gray-500 italic\">View detailed leads in Leads Manager.</p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <div className=\"text-center py-20 bg-gray-50 rounded-[2rem] border border-dashed border-gray-300\">\r\n                                <p className=\"text-gray-400 font-bold mb-4\">No campaigns found.</p>\r\n                                <Link href=\"/academy/campaign/create\" className=\"text-blue-600 font-black uppercase text-xs tracking-widest hover:underline\">Launch your first ad</Link>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\academies\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAcademies'. Either include it or remove the dependency array.","line":29,"column":8,"nodeType":"ArrayExpression","endLine":29,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAcademies, user]","fix":{"range":[706,712],"text":"[fetchAcademies, user]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface PendingAcademy {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n    mobile?: string;\r\n    academyDetails?: {\r\n        academyName: string;\r\n        location: string;\r\n        website?: string;\r\n        description?: string;\r\n    };\r\n    createdAt: string;\r\n}\r\n\r\nexport default function AdminAcademies() {\r\n    const { user } = useAuth();\r\n    const [academies, setAcademies] = useState<PendingAcademy[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (user?.token) {\r\n            fetchAcademies();\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchAcademies = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/academies/pending', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setAcademies(data);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAction = async (userId: string, action: 'approve' | 'reject') => {\r\n        if (!confirm(`Are you sure you want to ${action} this academy?`)) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/academies/${action}/${userId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                }\r\n            });\r\n            if (res.ok) {\r\n                alert(`Academy ${action}ed successfully`);\r\n                fetchAcademies();\r\n            } else {\r\n                alert(`Failed to ${action} academy`);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"animate-pulse text-gray-400 font-bold p-8 text-center uppercase tracking-widest\">Loading Applications...</div>;\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"mb-10\">\r\n                <h1 className=\"text-4xl font-black text-gray-900 tracking-tight\">Academy Verification</h1>\r\n                <p className=\"text-gray-500 mt-2 font-medium\">Review and process pending academy registrations.</p>\r\n            </header>\r\n\r\n            <div className=\"space-y-6\">\r\n                {academies.map((aca) => (\r\n                    <div key={aca._id} className=\"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-start md:items-center gap-6 group hover:shadow-xl transition-all duration-300\">\r\n                        <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-3 mb-2\">\r\n                                <h3 className=\"text-xl font-bold text-gray-900\">{aca.academyDetails?.academyName || 'No Name'}</h3>\r\n                                <span className=\"bg-purple-100 text-purple-700 text-[10px] font-black uppercase px-2 py-1 rounded-lg\">Pending Academy</span>\r\n                            </div>\r\n                            <div className=\"flex flex-wrap gap-4 text-sm text-gray-500 mb-4\">\r\n                                <span className=\"flex items-center gap-1\">üë§ Contact: {aca.name}</span>\r\n                                <span className=\"flex items-center gap-1\">üìß {aca.email}</span>\r\n                                <span className=\"flex items-center gap-1\">üìç {aca.academyDetails?.location || 'Unknown Location'}</span>\r\n                            </div>\r\n                            <div className=\"bg-gray-50 p-6 rounded-2xl border border-gray-100\">\r\n                                <p className=\"text-sm font-bold text-gray-700 mb-2 underline decoration-purple-500 decoration-2 underline-offset-4\">Institution Profile</p>\r\n                                <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">{aca.academyDetails?.description || 'No description provided.'}</p>\r\n                                {aca.academyDetails?.website && (\r\n                                    <a\r\n                                        href={aca.academyDetails.website}\r\n                                        target=\"_blank\"\r\n                                        className=\"inline-flex items-center gap-2 text-xs font-black text-blue-600 hover:text-blue-700 bg-white px-3 py-2 rounded-lg border border-gray-200 transition shadow-sm\"\r\n                                    >\r\n                                        üåê Visit Official Website\r\n                                    </a>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex md:flex-col gap-3 w-full md:w-auto\">\r\n                            <button\r\n                                onClick={() => handleAction(aca._id, 'approve')}\r\n                                className=\"flex-1 md:w-40 bg-green-600 hover:bg-green-700 text-white font-black py-4 px-6 rounded-2xl transition shadow-lg shadow-green-600/20 uppercase text-xs tracking-widest\"\r\n                            >\r\n                                Approve\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleAction(aca._id, 'reject')}\r\n                                className=\"flex-1 md:w-40 bg-red-50 hover:bg-red-100 text-red-600 font-black py-4 px-6 rounded-2xl transition border border-red-200 uppercase text-xs tracking-widest\"\r\n                            >\r\n                                Reject\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n                {academies.length === 0 && (\r\n                    <div className=\"bg-white p-16 rounded-3xl border-2 border-dashed border-gray-100 flex flex-col items-center justify-center opacity-50\">\r\n                        <span className=\"text-6xl mb-4\">üèõÔ∏è</span>\r\n                        <p className=\"text-gray-500 font-bold uppercase tracking-widest\">Inbox Zero! No pending academies.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\ads\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAds'. Either include it or remove the dependency array.","line":43,"column":8,"nodeType":"ArrayExpression","endLine":43,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAds, user]","fix":{"range":[1084,1090],"text":"[fetchAds, user]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":172,"column":29,"nodeType":"JSXOpeningElement","endLine":172,"endColumn":108},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":270,"column":109,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":270,"endColumn":112,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13322,13325],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13322,13325],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface Ad {\r\n    _id: string;\r\n    title: string;\r\n    description: string;\r\n    imageUrl: string;\r\n    redirectUrl: string;\r\n    slot: 'FEED_INLINE' | 'SIDEBAR_EXAM';\r\n    status: 'active' | 'paused';\r\n    startDate: string;\r\n    endDate: string;\r\n    priority: number;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function AdminAds() {\r\n    const { user } = useAuth();\r\n    const [ads, setAds] = useState<Ad[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [editingAd, setEditingAd] = useState<Ad | null>(null);\r\n\r\n    // Form states\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        description: '',\r\n        imageUrl: '',\r\n        redirectUrl: '',\r\n        slot: 'FEED_INLINE',\r\n        startDate: '',\r\n        endDate: '',\r\n        priority: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (user?.token) {\r\n            fetchAds();\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchAds = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/ads', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setAds(data);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        const url = editingAd\r\n            ? `http://localhost:5000/api/admin/ads/${editingAd._id}`\r\n            : 'http://localhost:5000/api/admin/ads/create';\r\n        const method = editingAd ? 'PUT' : 'POST';\r\n\r\n        try {\r\n            const res = await fetch(url, {\r\n                method,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify(formData)\r\n            });\r\n            if (res.ok) {\r\n                alert(editingAd ? 'Ad updated!' : 'Ad created!');\r\n                setShowModal(false);\r\n                setEditingAd(null);\r\n                resetForm();\r\n                fetchAds();\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const deleteAd = async (id: string) => {\r\n        if (!confirm('Are you sure you want to delete this ad?')) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/ads/${id}`, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                fetchAds();\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const toggleStatus = async (ad: Ad) => {\r\n        const newStatus = ad.status === 'active' ? 'paused' : 'active';\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/ads/${ad._id}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({ status: newStatus })\r\n            });\r\n            if (res.ok) {\r\n                fetchAds();\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setFormData({\r\n            title: '',\r\n            description: '',\r\n            imageUrl: '',\r\n            redirectUrl: '',\r\n            slot: 'FEED_INLINE',\r\n            startDate: '',\r\n            endDate: '',\r\n            priority: 0\r\n        });\r\n    };\r\n\r\n    const openEdit = (ad: Ad) => {\r\n        setEditingAd(ad);\r\n        setFormData({\r\n            title: ad.title,\r\n            description: ad.description,\r\n            imageUrl: ad.imageUrl,\r\n            redirectUrl: ad.redirectUrl,\r\n            slot: ad.slot,\r\n            startDate: ad.startDate.split('T')[0],\r\n            endDate: ad.endDate.split('T')[0],\r\n            priority: ad.priority\r\n        });\r\n        setShowModal(true);\r\n    };\r\n\r\n    if (loading) return <div className=\"p-8 text-center text-gray-500 font-bold\">Loading Ads Manager...</div>;\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"mb-10 flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-gray-900 tracking-tight\">Ads Management</h1>\r\n                    <p className=\"text-gray-500 mt-2 font-medium\">Create and monitor promoted content across the platform.</p>\r\n                </div>\r\n                <button\r\n                    onClick={() => { resetForm(); setEditingAd(null); setShowModal(true); }}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white font-black px-6 py-3 rounded-2xl transition shadow-lg shadow-blue-500/20 uppercase text-xs tracking-widest\"\r\n                >\r\n                    + Create New Ad\r\n                </button>\r\n            </header>\r\n\r\n            <div className=\"grid grid-cols-1 gap-6\">\r\n                {ads.map((ad) => (\r\n                    <div key={ad._id} className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row items-center gap-6 group hover:shadow-xl transition-all duration-300\">\r\n                        <div className=\"w-32 h-32 rounded-2xl overflow-hidden bg-gray-100 flex-shrink-0\">\r\n                            <img src={ad.imageUrl} alt={ad.title} className=\"w-full h-full object-cover\" />\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-3 mb-1\">\r\n                                <h3 className=\"text-xl font-bold text-gray-900\">{ad.title}</h3>\r\n                                <span className={`text-[10px] font-black uppercase px-2 py-1 rounded-lg ${ad.slot === 'FEED_INLINE' ? 'bg-blue-100 text-blue-700' : 'bg-purple-100 text-purple-700'\r\n                                    }`}>\r\n                                    {ad.slot}\r\n                                </span>\r\n                            </div>\r\n                            <p className=\"text-sm text-gray-500 mb-4 line-clamp-2\">{ad.description}</p>\r\n                            <div className=\"flex flex-wrap gap-4 text-xs font-bold text-gray-400\">\r\n                                <span>üìÖ {new Date(ad.startDate).toLocaleDateString()} - {new Date(ad.endDate).toLocaleDateString()}</span>\r\n                                <span>üî• Priority: {ad.priority}</span>\r\n                                <span className={ad.status === 'active' ? 'text-green-600' : 'text-red-600'}>\r\n                                    ‚óè {ad.status.toUpperCase()}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                            <button onClick={() => toggleStatus(ad)} className=\"p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition border border-gray-100\" title=\"Toggle Status\">\r\n                                {ad.status === 'active' ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}\r\n                            </button>\r\n                            <button onClick={() => openEdit(ad)} className=\"p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition border border-gray-100\" title=\"Edit\">\r\n                                ‚úèÔ∏è\r\n                            </button>\r\n                            <button onClick={() => deleteAd(ad._id)} className=\"p-3 rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition border border-red-100\" title=\"Delete\">\r\n                                üóëÔ∏è\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n                {ads.length === 0 && (\r\n                    <div className=\"bg-white p-20 rounded-3xl border-2 border-dashed border-gray-100 flex flex-col items-center justify-center text-center opacity-50\">\r\n                        <span className=\"text-6xl mb-4\">üì¢</span>\r\n                        <p className=\"font-bold uppercase tracking-widest text-gray-400\">No ads active right now.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Modal */}\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200\">\r\n                        <div className=\"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50\">\r\n                            <h2 className=\"text-2xl font-black text-gray-900\">{editingAd ? 'Edit Advertisement' : 'Create New Advertisement'}</h2>\r\n                            <button onClick={() => setShowModal(false)} className=\"text-gray-400 hover:text-gray-900 transition text-2xl\">‚úï</button>\r\n                        </div>\r\n                        <form onSubmit={handleSubmit} className=\"p-8 space-y-6\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                <div className=\"md:col-span-2\">\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Ad Title (Brand Name)</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={formData.title}\r\n                                        onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\r\n                                        placeholder=\"e.g. Namma Academy\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"md:col-span-2\">\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Description</label>\r\n                                    <textarea\r\n                                        value={formData.description}\r\n                                        onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition h-24 resize-none\"\r\n                                        placeholder=\"Describe the promotion...\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Image / Logo URL</label>\r\n                                    <input\r\n                                        type=\"url\"\r\n                                        value={formData.imageUrl}\r\n                                        onChange={(e) => setFormData({ ...formData, imageUrl: e.target.value })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition text-sm\"\r\n                                        placeholder=\"https://example.com/logo.png\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Redirect URL</label>\r\n                                    <input\r\n                                        type=\"url\"\r\n                                        value={formData.redirectUrl}\r\n                                        onChange={(e) => setFormData({ ...formData, redirectUrl: e.target.value })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition text-sm\"\r\n                                        placeholder=\"https://example.com/landing\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Placement Slot</label>\r\n                                    <select\r\n                                        value={formData.slot}\r\n                                        onChange={(e) => setFormData({ ...formData, slot: e.target.value as any })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition font-bold text-sm\"\r\n                                    >\r\n                                        <option value=\"FEED_INLINE\">Feed Inline</option>\r\n                                        <option value=\"SIDEBAR_EXAM\">Sidebar (Below News)</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Priority</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        value={formData.priority}\r\n                                        onChange={(e) => setFormData({ ...formData, priority: parseInt(e.target.value) })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Start Date</label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        value={formData.startDate}\r\n                                        onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">End Date</label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        value={formData.endDate}\r\n                                        onChange={(e) => setFormData({ ...formData, endDate: e.target.value })}\r\n                                        className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"pt-6 flex gap-4\">\r\n                                <button type=\"submit\" className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-2xl transition shadow-xl shadow-blue-500/30 uppercase tracking-widest text-sm\">\r\n                                    {editingAd ? 'Update Advertisement' : 'Launch Advertisement'}\r\n                                </button>\r\n                                <button type=\"button\" onClick={() => setShowModal(false)} className=\"px-8 bg-gray-100 hover:bg-gray-200 text-gray-600 font-black py-4 rounded-2xl transition uppercase tracking-widest text-sm\">\r\n                                    Cancel\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\content\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchPosts'. Either include it or remove the dependency array.","line":28,"column":8,"nodeType":"ArrayExpression","endLine":28,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [currentUser, fetchPosts]","fix":{"range":[645,658],"text":"[currentUser, fetchPosts]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":78,"column":33,"nodeType":"JSXOpeningElement","endLine":82,"endColumn":35},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":96,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4056,4091],"text":"\r\n                                &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4056,4091],"text":"\r\n                                &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4056,4091],"text":"\r\n                                &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4056,4091],"text":"\r\n                                &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":96,"column":69,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4126,4157],"text":"&quot;\r\n                            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4126,4157],"text":"&ldquo;\r\n                            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4126,4157],"text":"&#34;\r\n                            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4126,4157],"text":"&rdquo;\r\n                            "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface Post {\r\n    _id: string;\r\n    content: string;\r\n    user: {\r\n        _id: string;\r\n        name: string;\r\n        email: string;\r\n    };\r\n    mediaUrl?: string;\r\n    mediaType?: string;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function AdminContent() {\r\n    const { user: currentUser } = useAuth();\r\n    const [posts, setPosts] = useState<Post[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (currentUser?.token) {\r\n            fetchPosts();\r\n        }\r\n    }, [currentUser]);\r\n\r\n    const fetchPosts = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/content', {\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setPosts(data);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (postId: string) => {\r\n        if (!confirm('Are you sure you want to delete this content? This action cannot be undone.')) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/content/${postId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                }\r\n            });\r\n            if (res.ok) {\r\n                alert('Content removed successfully');\r\n                fetchPosts();\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"animate-pulse text-gray-400 font-bold p-8 text-center uppercase tracking-widest\">Scanning Platform Content...</div>;\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"mb-10\">\r\n                <h1 className=\"text-4xl font-black text-gray-900 tracking-tight\">Content Moderation</h1>\r\n                <p className=\"text-gray-500 mt-2 font-medium\">Monitor and manage user-generated posts.</p>\r\n            </header>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n                {posts.map((post) => (\r\n                    <div key={post._id} className=\"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden flex flex-col group hover:shadow-xl transition-all duration-300\">\r\n                        {post.mediaUrl && post.mediaType === 'image' && (\r\n                            <div className=\"aspect-video relative overflow-hidden bg-gray-100\">\r\n                                <img\r\n                                    src={post.mediaUrl}\r\n                                    alt=\"Content\"\r\n                                    className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\"\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        <div className=\"p-6 flex-1 flex flex-col\">\r\n                            <div className=\"flex items-center gap-3 mb-4\">\r\n                                <div className=\"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center font-bold text-gray-400 text-xs text-uppercase\">\r\n                                    {post.user?.name?.[0] || 'U'}\r\n                                </div>\r\n                                <div className=\"overflow-hidden\">\r\n                                    <p className=\"font-bold text-gray-900 text-sm truncate\">{post.user?.name || 'Deleted User'}</p>\r\n                                    <p className=\"text-[10px] text-gray-400 uppercase font-black\">{new Date(post.createdAt).toLocaleDateString()}</p>\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-gray-600 text-sm mb-6 line-clamp-4 italic\">\r\n                                \"{post.content || 'No text content'}\"\r\n                            </p>\r\n                            <div className=\"mt-auto pt-4 border-t border-gray-50\">\r\n                                <button\r\n                                    onClick={() => handleDelete(post._id)}\r\n                                    className=\"w-full bg-red-50 text-red-600 font-black py-3 rounded-xl hover:bg-red-600 hover:text-white transition duration-300 text-xs uppercase tracking-widest\"\r\n                                >\r\n                                    üóëÔ∏è Remove Post\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n                {posts.length === 0 && (\r\n                    <div className=\"col-span-full py-20 text-center opacity-30\">\r\n                        <p className=\"text-6xl mb-4\">üìÑ</p>\r\n                        <p className=\"font-bold uppercase tracking-widest\">Platform is clean. No content found.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\daily-newspaper\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[257,260],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[257,260],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[442,445],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[442,445],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchNewspapers'. Either include it or remove the dependency array.","line":25,"column":8,"nodeType":"ArrayExpression","endLine":25,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchNewspapers]","fix":{"range":[867,869],"text":"[fetchNewspapers]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4131,4134],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4131,4134],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":231,"column":49,"nodeType":"JSXOpeningElement","endLine":231,"endColumn":140},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":287,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[13868,13903],"text":"Click &quot;Add Newspaper\" to create one"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[13868,13903],"text":"Click &ldquo;Add Newspaper\" to create one"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[13868,13903],"text":"Click &#34;Add Newspaper\" to create one"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[13868,13903],"text":"Click &rdquo;Add Newspaper\" to create one"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":287,"column":77,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[13868,13903],"text":"Click \"Add Newspaper&quot; to create one"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[13868,13903],"text":"Click \"Add Newspaper&ldquo; to create one"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[13868,13903],"text":"Click \"Add Newspaper&#34; to create one"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[13868,13903],"text":"Click \"Add Newspaper&rdquo; to create one"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":397,"column":45,"nodeType":"JSXOpeningElement","endLine":397,"endColumn":124}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\nexport default function AdminDailyNewspaperPage() {\r\n    const { user } = useAuth();\r\n    const [newspapers, setNewspapers] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingNewspaper, setEditingNewspaper] = useState<any>(null);\r\n    const [previewUrl, setPreviewUrl] = useState('');\r\n    const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n\r\n    // Form state\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        date: new Date().toISOString().split('T')[0],\r\n        fileType: 'pdf' as 'pdf' | 'image',\r\n        thumbnailUrl: ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchNewspapers();\r\n    }, []);\r\n\r\n    const fetchNewspapers = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/daily-newspapers/admin/all', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setNewspapers(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch newspapers:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const url = editingNewspaper\r\n                ? `http://localhost:5000/api/daily-newspapers/admin/${editingNewspaper._id}`\r\n                : 'http://localhost:5000/api/daily-newspapers/admin';\r\n\r\n            const method = editingNewspaper ? 'PUT' : 'POST';\r\n\r\n            const data = new FormData();\r\n            data.append('name', formData.name);\r\n            data.append('date', formData.date);\r\n            data.append('fileType', formData.fileType);\r\n            if (formData.thumbnailUrl) data.append('thumbnailUrl', formData.thumbnailUrl);\r\n            if (selectedFile) data.append('file', selectedFile);\r\n\r\n            const res = await fetch(url, {\r\n                method,\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: data\r\n            });\r\n\r\n            if (res.ok) {\r\n                await fetchNewspapers();\r\n                handleCloseModal();\r\n                alert(editingNewspaper ? 'Newspaper updated successfully!' : 'Newspaper created successfully!');\r\n            } else {\r\n                const errorData = await res.json();\r\n                alert(errorData.message || 'Failed to save newspaper');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving newspaper:', error);\r\n            alert('Error saving newspaper');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Are you sure you want to delete this newspaper?')) return;\r\n\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/daily-newspapers/admin/${id}`, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n\r\n            if (res.ok) {\r\n                await fetchNewspapers();\r\n                alert('Newspaper deleted successfully!');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error deleting newspaper:', error);\r\n            alert('Error deleting newspaper');\r\n        }\r\n    };\r\n\r\n    const handleToggleVisibility = async (id: string) => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/daily-newspapers/admin/${id}/toggle-visibility`, {\r\n                method: 'PATCH',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n\r\n            if (res.ok) {\r\n                await fetchNewspapers();\r\n            }\r\n        } catch (error) {\r\n            console.error('Error toggling visibility:', error);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (newspaper: any) => {\r\n        setEditingNewspaper(newspaper);\r\n        setFormData({\r\n            name: newspaper.name,\r\n            date: new Date(newspaper.date).toISOString().split('T')[0],\r\n            fileType: newspaper.fileType,\r\n            thumbnailUrl: newspaper.thumbnailUrl || ''\r\n        });\r\n        setPreviewUrl(newspaper.fileType === 'pdf' ? newspaper.thumbnailUrl : newspaper.fileUrl);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setIsModalOpen(false);\r\n        setEditingNewspaper(null);\r\n        setSelectedFile(null);\r\n        setFormData({\r\n            name: '',\r\n            date: new Date().toISOString().split('T')[0],\r\n            fileType: 'pdf',\r\n            thumbnailUrl: ''\r\n        });\r\n        setPreviewUrl('');\r\n    };\r\n\r\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            const file = e.target.files[0];\r\n            setSelectedFile(file);\r\n\r\n            if (file.type.startsWith('image/')) {\r\n                const reader = new FileReader();\r\n                reader.onload = (e) => setPreviewUrl(e.target?.result as string);\r\n                reader.readAsDataURL(file);\r\n                setFormData(prev => ({ ...prev, fileType: 'image' }));\r\n            } else if (file.type === 'application/pdf') {\r\n                setFormData(prev => ({ ...prev, fileType: 'pdf' }));\r\n                setPreviewUrl('');\r\n            }\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString: string) => {\r\n        return new Date(dateString).toLocaleDateString('en-IN', {\r\n            day: '2-digit',\r\n            month: 'short',\r\n            year: 'numeric'\r\n        });\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-screen\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-black text-gray-900 uppercase tracking-tight\">üì∞ Daily Newspaper</h1>\r\n                    <p className=\"text-sm text-gray-500 mt-1\">Manage daily newspapers for students</p>\r\n                </div>\r\n                <button\r\n                    onClick={() => setIsModalOpen(true)}\r\n                    className=\"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-all shadow-lg\"\r\n                >\r\n                    + Add Newspaper\r\n                </button>\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border\">\r\n                    <p className=\"text-sm text-gray-500 font-bold uppercase\">Total Newspapers</p>\r\n                    <p className=\"text-3xl font-black text-gray-900 mt-2\">{newspapers.length}</p>\r\n                </div>\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border\">\r\n                    <p className=\"text-sm text-gray-500 font-bold uppercase\">Visible</p>\r\n                    <p className=\"text-3xl font-black text-green-600 mt-2\">\r\n                        {newspapers.filter(n => n.isVisible).length}\r\n                    </p>\r\n                </div>\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border\">\r\n                    <p className=\"text-sm text-gray-500 font-bold uppercase\">Hidden</p>\r\n                    <p className=\"text-3xl font-black text-gray-400 mt-2\">\r\n                        {newspapers.filter(n => !n.isVisible).length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Newspapers Table */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full\">\r\n                        <thead className=\"bg-gray-50 border-b\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-wider\">Preview</th>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-wider\">Name</th>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-wider\">Date</th>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-wider\">Type</th>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-wider\">Views</th>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-wider\">Status</th>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-200\">\r\n                            {newspapers.map((newspaper) => (\r\n                                <tr key={newspaper._id} className=\"hover:bg-gray-50 transition-colors\">\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <div className=\"w-16 h-20 bg-gray-100 rounded overflow-hidden\">\r\n                                            {newspaper.fileType === 'image' ? (\r\n                                                <img src={newspaper.fileUrl} alt={newspaper.name} className=\"w-full h-full object-cover\" />\r\n                                            ) : (\r\n                                                <div className=\"w-full h-full flex items-center justify-center text-2xl\">üìÑ</div>\r\n                                            )}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <p className=\"font-bold text-gray-900\">{newspaper.name}</p>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <p className=\"text-sm text-gray-600\">{formatDate(newspaper.date)}</p>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <span className={`px-3 py-1 rounded-full text-xs font-bold uppercase ${newspaper.fileType === 'pdf' ? 'bg-red-100 text-red-700' : 'bg-blue-100 text-blue-700'\r\n                                            }`}>\r\n                                            {newspaper.fileType}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <p className=\"text-sm text-gray-600\">{newspaper.views?.length || 0}</p>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <button\r\n                                            onClick={() => handleToggleVisibility(newspaper._id)}\r\n                                            className={`px-3 py-1 rounded-full text-xs font-bold uppercase transition-all ${newspaper.isVisible\r\n                                                ? 'bg-green-100 text-green-700 hover:bg-green-200'\r\n                                                : 'bg-gray-100 text-gray-500 hover:bg-gray-200'\r\n                                                }`}\r\n                                        >\r\n                                            {newspaper.isVisible ? 'üëÅÔ∏è Visible' : 'üö´ Hidden'}\r\n                                        </button>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <div className=\"flex gap-2\">\r\n                                            <button\r\n                                                onClick={() => handleEdit(newspaper)}\r\n                                                className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-bold hover:bg-blue-200 transition-all\"\r\n                                            >\r\n                                                Edit\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => handleDelete(newspaper._id)}\r\n                                                className=\"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-xs font-bold hover:bg-red-200 transition-all\"\r\n                                            >\r\n                                                Delete\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    {newspapers.length === 0 && (\r\n                        <div className=\"text-center py-12 text-gray-400\">\r\n                            <p className=\"text-4xl mb-4\">üì∞</p>\r\n                            <p className=\"font-bold\">No newspapers yet</p>\r\n                            <p className=\"text-sm mt-1\">Click \"Add Newspaper\" to create one</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Add/Edit Modal */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-3xl overflow-hidden shadow-2xl\">\r\n                        <div className=\"p-8 border-b flex justify-between items-center bg-gray-50\">\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-black text-gray-900 uppercase tracking-tight\">\r\n                                    {editingNewspaper ? 'Edit Newspaper' : 'Add New Newspaper'}\r\n                                </h2>\r\n                                <p className=\"text-xs text-gray-400 font-bold uppercase mt-1\">\r\n                                    Upload PDF or Image files\r\n                                </p>\r\n                            </div>\r\n                            <button onClick={handleCloseModal} className=\"text-gray-400 hover:text-gray-600 text-2xl\">‚úï</button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleSubmit} className=\"p-8\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                {/* Left Column - Form */}\r\n                                <div className=\"space-y-6\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-black text-gray-500 uppercase tracking-widest mb-2\">\r\n                                            Newspaper Name *\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={formData.name}\r\n                                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                            placeholder=\"e.g., The Hindu - Karnataka Edition\"\r\n                                            className=\"w-full px-4 py-3 bg-gray-50 border rounded-xl font-medium focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-black text-gray-500 uppercase tracking-widest mb-2\">\r\n                                            Date *\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={formData.date}\r\n                                            onChange={(e) => setFormData({ ...formData, date: e.target.value })}\r\n                                            className=\"w-full px-4 py-3 bg-gray-50 border rounded-xl font-medium focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-black text-gray-500 uppercase tracking-widest mb-2\">\r\n                                            File Type *\r\n                                        </label>\r\n                                        <select\r\n                                            value={formData.fileType}\r\n                                            onChange={(e) => setFormData({ ...formData, fileType: e.target.value as 'pdf' | 'image' })}\r\n                                            className=\"w-full px-4 py-3 bg-gray-50 border rounded-xl font-medium focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                        >\r\n                                            <option value=\"pdf\">PDF</option>\r\n                                            <option value=\"image\">Image (JPG/PNG)</option>\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-black text-gray-500 uppercase tracking-widest mb-2\">\r\n                                            Newspaper File *\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            onChange={handleFileChange}\r\n                                            accept=\".pdf,image/*\"\r\n                                            className=\"w-full px-4 py-3 bg-gray-50 border rounded-xl font-medium focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                            required={!editingNewspaper}\r\n                                        />\r\n                                        <p className=\"text-[10px] text-gray-400 mt-2 font-bold uppercase tracking-widest\">\r\n                                            UPLOAD PDF OR IMAGE DIRECTLY\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    {formData.fileType === 'pdf' && (\r\n                                        <div>\r\n                                            <label className=\"block text-xs font-black text-gray-500 uppercase tracking-widest mb-2\">\r\n                                                Thumbnail URL (Optional)\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"url\"\r\n                                                value={formData.thumbnailUrl}\r\n                                                onChange={(e) => {\r\n                                                    setFormData({ ...formData, thumbnailUrl: e.target.value });\r\n                                                    setPreviewUrl(e.target.value);\r\n                                                }}\r\n                                                placeholder=\"https://example.com/thumbnail.jpg\"\r\n                                                className=\"w-full px-4 py-3 bg-gray-50 border rounded-xl font-medium focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                            />\r\n                                            <p className=\"text-xs text-gray-400 mt-1 italic\">\r\n                                                First page preview image for PDF\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Right Column - Preview */}\r\n                                <div className=\"bg-gray-50 rounded-xl p-6 flex flex-col items-center justify-center\">\r\n                                    <p className=\"text-xs font-black text-gray-400 uppercase tracking-widest mb-4\">Live Preview</p>\r\n                                    {previewUrl ? (\r\n                                        <div className=\"w-full h-96 bg-white rounded-xl overflow-hidden shadow-lg\">\r\n                                            <img src={previewUrl} alt=\"Preview\" className=\"w-full h-full object-contain\" />\r\n                                        </div>\r\n                                    ) : formData.fileType === 'pdf' ? (\r\n                                        <div className=\"w-full h-96 bg-white rounded-xl flex items-center justify-center text-gray-300\">\r\n                                            <div className=\"text-center\">\r\n                                                <p className=\"text-6xl mb-4\">üìÑ</p>\r\n                                                <p className=\"text-sm font-bold\">PDF Preview</p>\r\n                                                <p className=\"text-xs mt-1\">Add thumbnail URL to see preview</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"w-full h-96 bg-white rounded-xl flex items-center justify-center text-gray-300\">\r\n                                            <div className=\"text-center\">\r\n                                                <p className=\"text-6xl mb-4\">üñºÔ∏è</p>\r\n                                                <p className=\"text-sm font-bold\">Image Preview</p>\r\n                                                <p className=\"text-xs mt-1\">Add file URL to see preview</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-4 mt-8 pt-6 border-t\">\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"flex-1 px-6 py-4 bg-blue-600 text-white rounded-xl font-black uppercase text-sm tracking-widest hover:bg-blue-700 transition-all shadow-xl\"\r\n                                >\r\n                                    {editingNewspaper ? 'Update Newspaper' : 'Create Newspaper'}\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCloseModal}\r\n                                    className=\"px-6 py-4 bg-gray-100 text-gray-600 rounded-xl font-black uppercase text-sm tracking-widest hover:bg-gray-200 transition-all\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useRouter' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":19,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useRouter"},"fix":{"range":[120,164],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchStats'. Either include it or remove the dependency array.","line":24,"column":8,"nodeType":"ArrayExpression","endLine":24,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchStats, user]","fix":{"range":[616,622],"text":"[fetchStats, user]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface Stats {\r\n    totalUsers: number;\r\n    totalPosts: number;\r\n    totalStories: number;\r\n    pendingMentors: number;\r\n    pendingAcademies: number;\r\n}\r\n\r\nexport default function AdminDashboard() {\r\n    const { user } = useAuth();\r\n    const [stats, setStats] = useState<Stats | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (user?.token) {\r\n            fetchStats();\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchStats = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/stats', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setStats(data.stats);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-full\">\r\n                <div className=\"animate-pulse text-gray-400 font-bold\">Loading stats...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const statCards = [\r\n        { name: 'Total Users', value: stats?.totalUsers || 0, icon: 'üë•', color: 'bg-blue-500' },\r\n        { name: 'Total Posts', value: stats?.totalPosts || 0, icon: 'üìù', color: 'bg-purple-500' },\r\n        { name: 'Total Stories', value: stats?.totalStories || 0, icon: 'üé¨', color: 'bg-pink-500' },\r\n        { name: 'Pending Mentors', value: stats?.pendingMentors || 0, icon: 'üéì', color: 'bg-orange-500' },\r\n        { name: 'Pending Academies', value: stats?.pendingAcademies || 0, icon: 'üèõÔ∏è', color: 'bg-green-500' },\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"mb-10\">\r\n                <h1 className=\"text-4xl font-black text-gray-900 tracking-tight\">System Overview</h1>\r\n                <p className=\"text-gray-500 mt-2 font-medium\">Real-time platform metrics and status.</p>\r\n            </header>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {statCards.map((stat) => (\r\n                    <div key={stat.name} className=\"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl transition-all duration-300 group\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div className={`${stat.color} w-14 h-14 rounded-2xl flex items-center justify-center text-2xl shadow-lg shadow-gray-200 group-hover:scale-110 transition-transform`}>\r\n                                {stat.icon}\r\n                            </div>\r\n                            <span className=\"text-4xl font-black text-gray-900\">{stat.value}</span>\r\n                        </div>\r\n                        <h3 className=\"text-gray-400 font-bold uppercase tracking-widest text-xs\">{stat.name}</h3>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"mt-12 grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                <div className=\"bg-gray-900 rounded-3xl p-8 text-white\">\r\n                    <h3 className=\"text-xl font-bold mb-4\">Admin Quick Links</h3>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <button className=\"bg-gray-800 hover:bg-gray-700 p-4 rounded-2xl text-left transition\">\r\n                            <span className=\"block text-2xl mb-2\">üì¢</span>\r\n                            <span className=\"font-bold\">Clear Broadcast</span>\r\n                        </button>\r\n                        <button className=\"bg-gray-800 hover:bg-gray-700 p-4 rounded-2xl text-left transition\">\r\n                            <span className=\"block text-2xl mb-2\">üßπ</span>\r\n                            <span className=\"font-bold\">Cleanup DB</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-blue-600 rounded-3xl p-8 text-white relative overflow-hidden\">\r\n                    <div className=\"relative z-10\">\r\n                        <h3 className=\"text-xl font-bold mb-2\">Need Help?</h3>\r\n                        <p className=\"text-blue-100 mb-6\">Access documentation or contact support for advanced platform controls.</p>\r\n                        <button className=\"bg-white text-blue-600 px-6 py-3 rounded-xl font-black text-sm uppercase transition hover:bg-blue-50\">\r\n                            Read Handbook\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"absolute -bottom-10 -right-10 text-[160px] opacity-10 rotate-12\">\r\n                        üõ°Ô∏è\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\exam-news\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchNews'. Either include it or remove the dependency array.","line":34,"column":8,"nodeType":"ArrayExpression","endLine":34,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchNews, user]","fix":{"range":[886,892],"text":"[fetchNews, user]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":232,"column":107,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":110,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11488,11491],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11488,11491],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface ExamNews {\r\n    _id: string;\r\n    title: string;\r\n    description: string;\r\n    hashtags: string[];\r\n    status: 'published' | 'draft';\r\n    createdAt: string;\r\n}\r\n\r\nexport default function AdminExamNews() {\r\n    const { user } = useAuth();\r\n    const [news, setNews] = useState<ExamNews[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [editingItem, setEditingItem] = useState<ExamNews | null>(null);\r\n\r\n    // Form states\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        description: '',\r\n        hashtags: '',\r\n        status: 'published'\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (user?.token) {\r\n            fetchNews();\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchNews = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/exam-news/all', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setNews(data);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        const url = editingItem\r\n            ? `http://localhost:5000/api/admin/exam-news/${editingItem._id}`\r\n            : 'http://localhost:5000/api/admin/exam-news';\r\n        const method = editingItem ? 'PUT' : 'POST';\r\n\r\n        const payload = {\r\n            ...formData,\r\n            hashtags: formData.hashtags.split(',').map(tag => tag.trim().startsWith('#') ? tag.trim() : `#${tag.trim()}`)\r\n        };\r\n\r\n        try {\r\n            const res = await fetch(url, {\r\n                method,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify(payload)\r\n            });\r\n            if (res.ok) {\r\n                alert(editingItem ? 'News updated!' : 'News created!');\r\n                setShowModal(false);\r\n                setEditingItem(null);\r\n                resetForm();\r\n                fetchNews();\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const deleteNews = async (id: string) => {\r\n        if (!confirm('Are you sure you want to delete this news item?')) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/exam-news/${id}`, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                fetchNews();\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setFormData({\r\n            title: '',\r\n            description: '',\r\n            hashtags: '',\r\n            status: 'published'\r\n        });\r\n    };\r\n\r\n    const openEdit = (item: ExamNews) => {\r\n        setEditingItem(item);\r\n        setFormData({\r\n            title: item.title,\r\n            description: item.description,\r\n            hashtags: item.hashtags.join(', '),\r\n            status: item.status\r\n        });\r\n        setShowModal(true);\r\n    };\r\n\r\n    if (loading) return <div className=\"p-8 text-center text-gray-500 font-bold\">Loading Exam News...</div>;\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"mb-10 flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-gray-900 tracking-tight\">Exam News Console</h1>\r\n                    <p className=\"text-gray-500 mt-2 font-medium\">Post official exam updates and targeted notifications.</p>\r\n                </div>\r\n                <button\r\n                    onClick={() => { resetForm(); setEditingItem(null); setShowModal(true); }}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white font-black px-6 py-3 rounded-2xl transition shadow-lg shadow-blue-500/20 uppercase text-xs tracking-widest\"\r\n                >\r\n                    + Post Update\r\n                </button>\r\n            </header>\r\n\r\n            <div className=\"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden\">\r\n                <table className=\"w-full text-left border-collapse\">\r\n                    <thead>\r\n                        <tr className=\"bg-gray-50 text-[10px] font-black uppercase text-gray-400 tracking-widest\">\r\n                            <th className=\"px-8 py-6\">News Title</th>\r\n                            <th className=\"px-8 py-6\">Hashtags</th>\r\n                            <th className=\"px-8 py-6\">Status</th>\r\n                            <th className=\"px-8 py-6\">Posted</th>\r\n                            <th className=\"px-8 py-6 text-right\">Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {news.map((item) => (\r\n                            <tr key={item._id} className=\"hover:bg-gray-50 transition group\">\r\n                                <td className=\"px-8 py-6\">\r\n                                    <p className=\"font-bold text-gray-900 border-l-4 border-blue-500 pl-3\">{item.title}</p>\r\n                                </td>\r\n                                <td className=\"px-8 py-6\">\r\n                                    <div className=\"flex flex-wrap gap-1\">\r\n                                        {item.hashtags.map((h, i) => (\r\n                                            <span key={i} className=\"text-[10px] bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full font-bold\">{h}</span>\r\n                                        ))}\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"px-8 py-6\">\r\n                                    <span className={`text-[10px] font-black uppercase px-2 py-1 rounded-lg ${item.status === 'published' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'\r\n                                        }`}>\r\n                                        {item.status}\r\n                                    </span>\r\n                                </td>\r\n                                <td className=\"px-8 py-6 text-sm text-gray-500 font-medium\">\r\n                                    {new Date(item.createdAt).toLocaleDateString()}\r\n                                </td>\r\n                                <td className=\"px-8 py-6 text-right space-x-2\">\r\n                                    <button onClick={() => openEdit(item)} className=\"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition\">‚úèÔ∏è</button>\r\n                                    <button onClick={() => deleteNews(item._id)} className=\"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition\">üóëÔ∏è</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                {news.length === 0 && (\r\n                    <div className=\"p-20 text-center opacity-30\">\r\n                        <p className=\"text-4xl mb-4\">üì∞</p>\r\n                        <p className=\"font-bold uppercase tracking-widest\">No exam news posted yet</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Modal */}\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200\">\r\n                        <div className=\"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50\">\r\n                            <h2 className=\"text-2xl font-black text-gray-900\">{editingItem ? 'Edit Exam Update' : 'New Exam Update'}</h2>\r\n                            <button onClick={() => setShowModal(false)} className=\"text-gray-400 hover:text-gray-900 transition text-2xl\">‚úï</button>\r\n                        </div>\r\n                        <form onSubmit={handleSubmit} className=\"p-8 space-y-6\">\r\n                            <div>\r\n                                <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Headline</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.title}\r\n                                    onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\r\n                                    placeholder=\"e.g. KPSC KAS 2026 Notification Released\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Detailed News</label>\r\n                                <textarea\r\n                                    value={formData.description}\r\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition h-32 resize-none\"\r\n                                    placeholder=\"Full details of the exam update...\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Target Hashtags (comma separated)</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.hashtags}\r\n                                    onChange={(e) => setFormData({ ...formData, hashtags: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\r\n                                    placeholder=\"KPSCKAS, FDA, SDA\"\r\n                                    required\r\n                                />\r\n                                <p className=\"text-[10px] text-gray-400 mt-2 font-bold uppercase italic\">Users with matching preferences will see this news.</p>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs font-black uppercase text-gray-400 tracking-widest mb-2\">Status</label>\r\n                                <select\r\n                                    value={formData.status}\r\n                                    onChange={(e) => setFormData({ ...formData, status: e.target.value as any })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition font-bold\"\r\n                                >\r\n                                    <option value=\"published\">Published</option>\r\n                                    <option value=\"draft\">Draft</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"pt-6 flex gap-4\">\r\n                                <button type=\"submit\" className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-2xl transition shadow-xl shadow-blue-500/30 uppercase tracking-widest text-sm\">\r\n                                    {editingItem ? 'Save Changes' : 'Broadcast Now'}\r\n                                </button>\r\n                                <button type=\"button\" onClick={() => setShowModal(false)} className=\"px-8 bg-gray-100 hover:bg-gray-200 text-gray-600 font-black py-4 rounded-2xl transition uppercase tracking-widest text-sm\">\r\n                                    Discard\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\exams\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[618,621],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[618,621],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1581,1584],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1581,1584],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1683,1686],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1683,1686],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchExamDetails' and 'fetchVerifiedAcademies'. Either include them or remove the dependency array.","line":59,"column":8,"nodeType":"ArrayExpression","endLine":59,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchExamDetails, fetchVerifiedAcademies, id]","fix":{"range":[1872,1876],"text":"[fetchExamDetails, fetchVerifiedAcademies, id]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2602,2605],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2602,2605],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":289,"column":49,"nodeType":"JSXOpeningElement","endLine":289,"endColumn":140},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":289,"column":49,"nodeType":"JSXOpeningElement","endLine":289,"endColumn":140},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":291,"column":49,"nodeType":"JSXOpeningElement","endLine":291,"endColumn":131},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":291,"column":49,"nodeType":"JSXOpeningElement","endLine":291,"endColumn":131}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useParams, useRouter } from 'next/navigation';\r\n\r\ninterface Exam {\r\n    _id: string;\r\n    name: string;\r\n    fullName: string;\r\n    conductingBody: string;\r\n    examLevel: string;\r\n    category: string;\r\n    language: string;\r\n    examType: string;\r\n    status: string;\r\n    overview: string;\r\n    jobRole: string;\r\n    postingDepartments: string;\r\n    careerGrowth: string;\r\n    salaryScale: string;\r\n    eligibilityDetails: string;\r\n    examPattern: string;\r\n    officialPartnerAcademy: any;\r\n    partnerAcademyLogo: string;\r\n}\r\n\r\nexport default function AdminExamDetailsPage() {\r\n    const { user } = useAuth();\r\n    const { id } = useParams();\r\n    const router = useRouter();\r\n\r\n    const [exam, setExam] = useState<Exam | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('master');\r\n\r\n    // Form states\r\n    const [formData, setFormData] = useState<Partial<Exam>>({});\r\n\r\n    // Job Update states\r\n    const [updateTitle, setUpdateTitle] = useState('');\r\n    const [updateType, setUpdateType] = useState('Vacancy');\r\n    const [updateDesc, setUpdateDesc] = useState('');\r\n\r\n    // Doc states\r\n    const [docTitle, setDocTitle] = useState('');\r\n    const [docCategory, setDocCategory] = useState('Notification');\r\n    const [docFile, setDocFile] = useState<File | null>(null);\r\n    const [examDocuments, setExamDocuments] = useState<any[]>([]);\r\n\r\n    // Branding states\r\n    const [verifiedAcademies, setVerifiedAcademies] = useState<any[]>([]);\r\n    const [partnerLogoFile, setPartnerLogoFile] = useState<File | null>(null);\r\n\r\n    useEffect(() => {\r\n        fetchExamDetails();\r\n        fetchVerifiedAcademies();\r\n    }, [id]);\r\n\r\n    const fetchVerifiedAcademies = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/exams/academies/verified', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) setVerifiedAcademies(await res.json());\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const fetchExamDetails = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/exams`, {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                const found = data.find((e: any) => e._id === id);\r\n                if (found) {\r\n                    setExam(found);\r\n                    setFormData(found);\r\n                    // Fetch existing documents\r\n                    fetchDocuments();\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching exam:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchDocuments = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/exams/${exam?.name || id}`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setExamDocuments(data.documents || []);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error fetching docs:', err);\r\n        }\r\n    };\r\n\r\n    const handleSaveMaster = async () => {\r\n        setSaving(true);\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/exams/${id}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify(formData)\r\n            });\r\n            if (res.ok) {\r\n                alert('Exam updated successfully');\r\n                fetchExamDetails();\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving:', error);\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleAddUpdate = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/exams/updates', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({\r\n                    examId: id,\r\n                    type: updateType,\r\n                    title: updateTitle,\r\n                    description: updateDesc,\r\n                    examTag: exam?.name\r\n                })\r\n            });\r\n            if (res.ok) {\r\n                alert('Update published and notifications sent!');\r\n                setUpdateTitle('');\r\n                setUpdateDesc('');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error adding update:', error);\r\n        }\r\n    };\r\n\r\n    const handleUploadDoc = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!docFile) return alert('Select a file');\r\n\r\n        setSaving(true);\r\n        const fData = new FormData();\r\n        fData.append('examId', id as string);\r\n        fData.append('title', docTitle);\r\n        fData.append('category', docCategory);\r\n        fData.append('examTag', exam?.name || '');\r\n        fData.append('file', docFile);\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/exams/documents', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: fData\r\n            });\r\n            if (res.ok) {\r\n                alert('Document uploaded successfully!');\r\n                setDocTitle('');\r\n                setDocFile(null);\r\n                fetchDocuments();\r\n            }\r\n        } catch (err) {\r\n            console.error('Upload error:', err);\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"p-8 text-center font-bold\">Loading...</div>;\r\n    if (!exam) return <div className=\"p-8 text-center text-red-500 font-bold\">Exam not found</div>;\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <button onClick={() => router.back()} className=\"text-xs font-bold text-blue-500 uppercase tracking-widest mb-2 hover:underline\">‚Üê Back to Exams</button>\r\n                    <h1 className=\"text-3xl font-black text-gray-900 tracking-tight\">{exam.name} Management</h1>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex gap-4 border-b border-gray-200\">\r\n                {['master', 'branding', 'content', 'updates', 'documents', 'analytics'].map((tab) => (\r\n                    <button\r\n                        key={tab}\r\n                        onClick={() => setActiveTab(tab)}\r\n                        className={`pb-4 px-2 text-xs font-black uppercase tracking-widest transition ${activeTab === tab ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-400 hover:text-gray-600'}`}\r\n                    >\r\n                        {tab}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 min-h-[500px]\">\r\n                {activeTab === 'master' && (\r\n                    <div className=\"space-y-6 max-w-4xl\">\r\n                        <h2 className=\"text-xl font-black text-gray-900 mb-4\">Master Details</h2>\r\n                        <div className=\"grid grid-cols-2 gap-6\">\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Full Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.fullName || ''}\r\n                                    onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-bold text-gray-800 focus:ring-2 focus:ring-blue-600 outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Conducting Body</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.conductingBody || ''}\r\n                                    onChange={(e) => setFormData({ ...formData, conductingBody: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-bold text-gray-800 focus:ring-2 focus:ring-blue-600 outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Exam Level</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.examLevel || ''}\r\n                                    onChange={(e) => setFormData({ ...formData, examLevel: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-bold text-gray-800 focus:ring-2 focus:ring-blue-600 outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Category</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.category || ''}\r\n                                    onChange={(e) => setFormData({ ...formData, category: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-bold text-gray-800 focus:ring-2 focus:ring-blue-600 outline-none\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={handleSaveMaster}\r\n                            disabled={saving}\r\n                            className=\"bg-gray-900 text-white px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition disabled:opacity-50\"\r\n                        >\r\n                            {saving ? 'Saving...' : 'Save Master Details'}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'branding' && (\r\n                    <div className=\"space-y-8 max-w-4xl\">\r\n                        <section>\r\n                            <h2 className=\"text-xl font-black text-gray-900 mb-2\">Academy Branding</h2>\r\n                            <p className=\"text-xs text-gray-400 font-bold uppercase tracking-widest mb-6\">Select the exclusive partner for this exam</p>\r\n\r\n                            <div className=\"space-y-6 bg-gray-50 p-6 rounded-2xl border border-gray-100\">\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Official Academy Partner</label>\r\n                                    <select\r\n                                        value={formData.officialPartnerAcademy?._id || formData.officialPartnerAcademy || ''}\r\n                                        onChange={(e) => setFormData({ ...formData, officialPartnerAcademy: e.target.value })}\r\n                                        className=\"w-full bg-white border border-gray-200 p-4 rounded-xl font-bold text-gray-800 outline-none focus:ring-2 focus:ring-blue-600\"\r\n                                    >\r\n                                        <option value=\"\">No Partner Academy</option>\r\n                                        {verifiedAcademies.map((ac) => (\r\n                                            <option key={ac._id} value={ac._id}>{ac.name}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Academy Partner Logo (Small Branding)</label>\r\n                                    <div className=\"flex items-center gap-6\">\r\n                                        <div className=\"w-20 h-20 bg-white border-2 border-dashed rounded-xl flex items-center justify-center overflow-hidden\">\r\n                                            {partnerLogoFile ? (\r\n                                                <img src={URL.createObjectURL(partnerLogoFile)} className=\"w-full h-full object-contain\" />\r\n                                            ) : formData.partnerAcademyLogo ? (\r\n                                                <img src={formData.partnerAcademyLogo} className=\"w-full h-full object-contain\" />\r\n                                            ) : (\r\n                                                <span className=\"text-2xl opacity-20\">üñºÔ∏è</span>\r\n                                            )}\r\n                                        </div>\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            accept=\"image/*\"\r\n                                            onChange={(e) => setPartnerLogoFile(e.target.files?.[0] || null)}\r\n                                            className=\"text-xs font-bold text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-[10px] file:font-black file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n\r\n                        <button\r\n                            onClick={async () => {\r\n                                setSaving(true);\r\n                                try {\r\n                                    let logoUrl = formData.partnerAcademyLogo;\r\n                                    if (partnerLogoFile) {\r\n                                        const uploadData = new FormData();\r\n                                        uploadData.append('file', partnerLogoFile);\r\n                                        const uploadRes = await fetch('http://localhost:5000/api/admin/exams/upload-image', {\r\n                                            method: 'POST',\r\n                                            headers: { 'Authorization': `Bearer ${user?.token}` },\r\n                                            body: uploadData\r\n                                        });\r\n                                        if (uploadRes.ok) {\r\n                                            const upData = await uploadRes.json();\r\n                                            logoUrl = upData.fileUrl;\r\n                                        }\r\n                                    }\r\n                                    const res = await fetch(`http://localhost:5000/api/admin/exams/${id}`, {\r\n                                        method: 'PUT',\r\n                                        headers: {\r\n                                            'Content-Type': 'application/json',\r\n                                            'Authorization': `Bearer ${user?.token}`\r\n                                        },\r\n                                        body: JSON.stringify({\r\n                                            ...formData,\r\n                                            officialPartnerAcademy: formData.officialPartnerAcademy === \"\" ? null : (formData.officialPartnerAcademy?._id || formData.officialPartnerAcademy),\r\n                                            partnerAcademyLogo: logoUrl\r\n                                        })\r\n                                    });\r\n                                    if (res.ok) {\r\n                                        alert('Branding updated successfully');\r\n                                        fetchExamDetails();\r\n                                    }\r\n                                } catch (err) { console.error(err); } finally { setSaving(false); }\r\n                            }}\r\n                            disabled={saving}\r\n                            className=\"bg-gray-900 text-white px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition disabled:opacity-50\"\r\n                        >\r\n                            {saving ? 'Saving...' : 'Save Branding'}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'content' && (\r\n                    <div className=\"space-y-6 max-w-4xl\">\r\n                        <h2 className=\"text-xl font-black text-gray-900 mb-4\">Content Management</h2>\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Overview (What is this exam?)</label>\r\n                                <textarea\r\n                                    value={formData.overview || ''}\r\n                                    onChange={(e) => setFormData({ ...formData, overview: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-medium text-gray-700 h-32 outline-none focus:ring-2 focus:ring-blue-600\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Syllabus Details</label>\r\n                                <textarea\r\n                                    value={formData.examPattern || ''}\r\n                                    onChange={(e) => setFormData({ ...formData, examPattern: e.target.value })}\r\n                                    placeholder=\"Brief pattern or rich text content...\"\r\n                                    className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-medium text-gray-700 h-32 outline-none focus:ring-2 focus:ring-blue-600\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={handleSaveMaster}\r\n                            disabled={saving}\r\n                            className=\"bg-gray-900 text-white px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition disabled:opacity-50\"\r\n                        >\r\n                            {saving ? 'Saving...' : 'Save Content'}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'updates' && (\r\n                    <div className=\"space-y-6 max-w-4xl\">\r\n                        <h2 className=\"text-xl font-black text-gray-900 mb-4\">Publish Job Updates</h2>\r\n                        <form onSubmit={handleAddUpdate} className=\"space-y-4\">\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Update Type</label>\r\n                                    <select\r\n                                        value={updateType}\r\n                                        onChange={(e) => setUpdateType(e.target.value)}\r\n                                        className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-bold text-gray-800 outline-none\"\r\n                                    >\r\n                                        <option value=\"Vacancy\">Vacancy</option>\r\n                                        <option value=\"Admit Card\">Admit Card</option>\r\n                                        <option value=\"Result\">Result</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Title</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={updateTitle}\r\n                                        onChange={(e) => setUpdateTitle(e.target.value)}\r\n                                        required\r\n                                        className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-bold text-gray-800 outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Description</label>\r\n                                <textarea\r\n                                    value={updateDesc}\r\n                                    onChange={(e) => setUpdateDesc(e.target.value)}\r\n                                    required\r\n                                    className=\"w-full bg-gray-50 border border-gray-100 p-4 rounded-xl font-medium text-gray-700 h-24 outline-none\"\r\n                                />\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"bg-blue-600 text-white px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-700 transition shadow-lg shadow-blue-500/20\"\r\n                            >\r\n                                Publish & Notify Aspirants\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'documents' && (\r\n                    <div className=\"space-y-6 max-w-4xl\">\r\n                        <h2 className=\"text-xl font-black text-gray-900 mb-4\">Official Documents Hub</h2>\r\n                        <form onSubmit={handleUploadDoc} className=\"p-6 bg-gray-50 rounded-2xl border border-gray-100 space-y-4\">\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Document Title</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={docTitle}\r\n                                        onChange={(e) => setDocTitle(e.target.value)}\r\n                                        required\r\n                                        className=\"w-full bg-white border border-gray-200 p-3 rounded-xl font-bold outline-none\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Category</label>\r\n                                    <select\r\n                                        value={docCategory}\r\n                                        onChange={(e) => setDocCategory(e.target.value)}\r\n                                        className=\"w-full bg-white border border-gray-200 p-3 rounded-xl font-bold outline-none\"\r\n                                    >\r\n                                        <option value=\"Notification\">Notification</option>\r\n                                        <option value=\"Syllabus\">Syllabus</option>\r\n                                        <option value=\"Previous Paper\">Previous Paper</option>\r\n                                        <option value=\"Other\">Other</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1\">Select PDF File</label>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    accept=\".pdf\"\r\n                                    onChange={(e) => setDocFile(e.target.files?.[0] || null)}\r\n                                    required\r\n                                    className=\"w-full text-xs font-bold text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-[10px] file:font-black file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer\"\r\n                                />\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={saving}\r\n                                className=\"bg-gray-900 text-white px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition disabled:opacity-50\"\r\n                            >\r\n                                {saving ? 'Uploading...' : 'Upload Document'}\r\n                            </button>\r\n                        </form>\r\n\r\n                        <div className=\"pt-8\">\r\n                            <h3 className=\"text-xs font-black text-gray-400 uppercase tracking-widest mb-4\">Existing Documents</h3>\r\n                            <div className=\"grid grid-cols-1 gap-3\">\r\n                                {examDocuments.length === 0 ? (\r\n                                    <p className=\"text-xs text-gray-400 italic\">No documents uploaded yet.</p>\r\n                                ) : (\r\n                                    examDocuments.map((doc) => (\r\n                                        <div key={doc._id} className=\"p-4 border border-gray-100 rounded-xl flex items-center justify-between hover:bg-gray-50 transition\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <span className=\"text-xl\">üìÑ</span>\r\n                                                <div>\r\n                                                    <p className=\"text-xs font-black text-gray-900\">{doc.title}</p>\r\n                                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase\">{doc.category}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <a href={doc.fileUrl} target=\"_blank\" className=\"text-[10px] font-black text-blue-600 uppercase hover:underline\">View PDF ‚Üí</a>\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'analytics' && (\r\n                    <div className=\"space-y-6\">\r\n                        <h2 className=\"text-xl font-black text-gray-900 mb-4\">Exam Analytics</h2>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n                            <div className=\"bg-blue-50 p-6 rounded-2xl border border-blue-100\">\r\n                                <p className=\"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1\">Total Aspirants</p>\r\n                                <h3 className=\"text-3xl font-black text-blue-600\">0</h3>\r\n                            </div>\r\n                            <div className=\"bg-purple-50 p-6 rounded-2xl border border-purple-100\">\r\n                                <p className=\"text-[10px] font-black text-purple-400 uppercase tracking-widest mb-1\">Active Users</p>\r\n                                <h3 className=\"text-3xl font-black text-purple-600\">0</h3>\r\n                            </div>\r\n                            <div className=\"bg-orange-50 p-6 rounded-2xl border border-orange-100\">\r\n                                <p className=\"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1\">Notif. Reach</p>\r\n                                <h3 className=\"text-3xl font-black text-orange-600\">0%</h3>\r\n                            </div>\r\n                            <div className=\"bg-green-50 p-6 rounded-2xl border border-green-100\">\r\n                                <p className=\"text-[10px] font-black text-green-400 uppercase tracking-widest mb-1\">Community Engagement</p>\r\n                                <h3 className=\"text-3xl font-black text-green-600\">Low</h3>\r\n                            </div>\r\n                        </div>\r\n                        <p className=\"text-xs text-gray-400 font-bold italic mt-4\">* Data refreshes every 24 hours.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\exams\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchExams'. Either include it or remove the dependency array.","line":26,"column":8,"nodeType":"ArrayExpression","endLine":26,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchExams]","fix":{"range":[615,617],"text":"[fetchExams]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport Link from 'next/link';\r\n\r\ninterface Exam {\r\n    _id: string;\r\n    name: string;\r\n    fullName: string;\r\n    conductingBody: string;\r\n    examLevel: string;\r\n    category: string;\r\n    language: string;\r\n    examType: string;\r\n    status: string;\r\n}\r\n\r\nexport default function AdminExamsPage() {\r\n    const { user } = useAuth();\r\n    const [exams, setExams] = useState<Exam[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetchExams();\r\n    }, []);\r\n\r\n    const fetchExams = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/exams', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setExams(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching exams:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-black text-gray-900 tracking-tight\">Exam Ecosystem</h1>\r\n                    <p className=\"text-gray-500 mt-1\">Manage exam master details, content, updates, and documents.</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {loading ? (\r\n                    <div className=\"col-span-full text-center py-12 text-gray-500 font-bold\">Loading exams...</div>\r\n                ) : exams.length === 0 ? (\r\n                    <div className=\"col-span-full text-center py-12 text-gray-400 font-bold\">No exams found. Ensure they are seeded.</div>\r\n                ) : (\r\n                    exams.map((exam) => (\r\n                        <div key={exam._id} className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition group\">\r\n                            <div className=\"flex justify-between items-start mb-4\">\r\n                                <div>\r\n                                    <span className={`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-full ${exam.status === 'active' ? 'bg-green-50 text-green-600' : 'bg-red-50 text-red-600'}`}>\r\n                                        {exam.status}\r\n                                    </span>\r\n                                    <h2 className=\"text-2xl font-black text-gray-900 mt-2\">{exam.name}</h2>\r\n                                    <p className=\"text-xs font-bold text-gray-400 uppercase tracking-widest\">{exam.conductingBody}</p>\r\n                                </div>\r\n                                <div className=\"text-3xl grayscale group-hover:grayscale-0 transition\">üèõÔ∏è</div>\r\n                            </div>\r\n\r\n                            <p className=\"text-sm text-gray-600 font-medium mb-6 line-clamp-2 h-10\">\r\n                                {exam.fullName}\r\n                            </p>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n                                <div className=\"bg-gray-50 p-3 rounded-xl\">\r\n                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-tighter\">Level</p>\r\n                                    <p className=\"text-xs font-black text-gray-800\">{exam.examLevel}</p>\r\n                                </div>\r\n                                <div className=\"bg-gray-50 p-3 rounded-xl\">\r\n                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-tighter\">Category</p>\r\n                                    <p className=\"text-xs font-black text-gray-800\">{exam.category}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Link\r\n                                href={`/admin/exams/${exam._id}`}\r\n                                className=\"block w-full text-center bg-gray-900 hover:bg-blue-600 text-white py-3 rounded-xl font-black text-xs uppercase tracking-widest transition shadow-lg shadow-gray-200\"\r\n                            >\r\n                                Manage Exam\r\n                            </Link>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\job-updates\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchJobs'. Either include it or remove the dependency array.","line":35,"column":8,"nodeType":"ArrayExpression","endLine":35,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchJobs]","fix":{"range":[1151,1153],"text":"[fetchJobs]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2335,2338],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2335,2338],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface JobUpdate {\r\n    _id: string;\r\n    title: string;\r\n    organization: string;\r\n    hashtags: string[];\r\n    createdAt: string;\r\n}\r\n\r\nexport default function AdminJobUpdatesPage() {\r\n    const { user } = useAuth();\r\n    const [jobs, setJobs] = useState<JobUpdate[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [fetchLoading, setFetchLoading] = useState(true);\r\n\r\n    // Editing State\r\n    const [editingJobId, setEditingJobId] = useState<string | null>(null);\r\n\r\n    // Form States\r\n    const [title, setTitle] = useState('');\r\n    const [organization, setOrganization] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [eligibility, setEligibility] = useState('');\r\n    const [location, setLocation] = useState('');\r\n    const [hashtags, setHashtags] = useState('');\r\n    const [applicationLink, setApplicationLink] = useState('');\r\n    const [notificationType, setNotificationType] = useState('matching');\r\n\r\n    useEffect(() => {\r\n        fetchJobs();\r\n    }, []);\r\n\r\n    const fetchJobs = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/job-updates', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setJobs(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching jobs:', error);\r\n        } finally {\r\n            setFetchLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (job: JobUpdate) => {\r\n        setEditingJobId(job._id);\r\n        setTitle(job.title);\r\n        setOrganization(job.organization);\r\n\r\n        // Since we need description and other details not in the brief list, \r\n        // we might want to fetch the full details or assume they are there if we change the fetch.\r\n        // For now, let's look at the JobUpdate interface again.\r\n        // It seems the list fetch at /api/admin/job-updates returns the full objects.\r\n        // Let's verify what JobUpdate interface has.\r\n        // I'll update the interface first.\r\n\r\n        const fullJob = job as any; // Temporary cast to access missing fields\r\n        setDescription(fullJob.description || '');\r\n        setEligibility(fullJob.eligibility || '');\r\n        setLocation(fullJob.location || '');\r\n        setHashtags(fullJob.hashtags?.join(', ') || '');\r\n        setApplicationLink(fullJob.applicationLink || '');\r\n        setNotificationType(fullJob.notificationType || 'matching');\r\n\r\n        // Scroll to form\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    };\r\n\r\n    const cancelEdit = () => {\r\n        setEditingJobId(null);\r\n        setTitle('');\r\n        setOrganization('');\r\n        setDescription('');\r\n        setEligibility('');\r\n        setLocation('');\r\n        setHashtags('');\r\n        setApplicationLink('');\r\n        setNotificationType('matching');\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        const url = editingJobId\r\n            ? `http://localhost:5000/api/admin/job-updates/${editingJobId}`\r\n            : 'http://localhost:5000/api/admin/job-updates';\r\n\r\n        const method = editingJobId ? 'PUT' : 'POST';\r\n\r\n        try {\r\n            const res = await fetch(url, {\r\n                method,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({\r\n                    title,\r\n                    organization,\r\n                    description,\r\n                    eligibility,\r\n                    location,\r\n                    hashtags,\r\n                    applicationLink,\r\n                    notificationType\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                alert(editingJobId ? 'Job update updated successfully' : 'Job update published successfully');\r\n                cancelEdit();\r\n                fetchJobs(); // Refresh list\r\n            } else {\r\n                const data = await res.json();\r\n                alert(data.message || 'Action failed');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving job:', error);\r\n            alert('Something went wrong');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (window.confirm('Are you sure you want to delete this job?')) {\r\n            try {\r\n                const res = await fetch(`http://localhost:5000/api/admin/job-updates/${id}`, {\r\n                    method: 'DELETE',\r\n                    headers: {\r\n                        'Authorization': `Bearer ${user?.token}`\r\n                    }\r\n                });\r\n                if (res.ok) {\r\n                    alert('Job deleted successfully');\r\n                    fetchJobs();\r\n                } else {\r\n                    alert('Failed to delete job');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting job:', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-black text-gray-900 tracking-tight\">Job Updates ‚Äì Admin</h1>\r\n                    <p className=\"text-gray-500 mt-1\">Post new job openings and notifications.</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                    <h2 className=\"text-xl font-black text-gray-900 tracking-tight\">\r\n                        {editingJobId ? 'Edit Job Update' : 'Publish New Job Update'}\r\n                    </h2>\r\n                    {editingJobId && (\r\n                        <button\r\n                            onClick={cancelEdit}\r\n                            className=\"text-xs font-bold text-red-500 uppercase tracking-widest hover:underline\"\r\n                        >\r\n                            Cancel Edit\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <form onSubmit={handleSubmit} className=\"space-y-6 max-w-4xl\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Job Title *</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                required\r\n                                value={title}\r\n                                onChange={(e) => setTitle(e.target.value)}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition font-bold text-gray-800\"\r\n                                placeholder=\"e.g. First Division Assistant (FDA)\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Organization / Department *</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                required\r\n                                value={organization}\r\n                                onChange={(e) => setOrganization(e.target.value)}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition font-bold text-gray-800\"\r\n                                placeholder=\"e.g. KPSC\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Job Description *</label>\r\n                        <textarea\r\n                            required\r\n                            value={description}\r\n                            onChange={(e) => setDescription(e.target.value)}\r\n                            className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition font-medium text-gray-700 h-32 resize-none\"\r\n                            placeholder=\"Detailed description of the job role...\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Eligibility Criteria</label>\r\n                            <textarea\r\n                                value={eligibility}\r\n                                onChange={(e) => setEligibility(e.target.value)}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition font-medium text-gray-700 h-24 resize-none\"\r\n                                placeholder=\"e.g. Any Degree, 21-35 years...\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-6\">\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Location</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={location}\r\n                                    onChange={(e) => setLocation(e.target.value)}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition font-bold text-gray-800\"\r\n                                    placeholder=\"e.g. Karnataka / Bangalore\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Exam Hashtags</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={hashtags}\r\n                                    onChange={(e) => setHashtags(e.target.value)}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition font-bold text-gray-800\"\r\n                                    placeholder=\"e.g. KPSC, FDA, SDA\"\r\n                                />\r\n                                <p className=\"text-[10px] text-gray-400 mt-1 ml-1\">Comma separated values</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Application Link (Optional)</label>\r\n                        <input\r\n                            type=\"url\"\r\n                            value={applicationLink}\r\n                            onChange={(e) => setApplicationLink(e.target.value)}\r\n                            className=\"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition font-bold text-gray-800\"\r\n                            placeholder=\"e.g. https://kpsc.kar.nic.in/apply\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Notification Scope</label>\r\n                        <div className=\"flex gap-6 mt-2\">\r\n                            <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name=\"notificationType\"\r\n                                    value=\"matching\"\r\n                                    checked={notificationType === 'matching'}\r\n                                    onChange={(e) => setNotificationType(e.target.value)}\r\n                                    className=\"text-blue-600 focus:ring-blue-500\"\r\n                                />\r\n                                <span className=\"text-sm font-bold text-gray-700\">Notify matching users only (Recommended)</span>\r\n                            </label>\r\n                            <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name=\"notificationType\"\r\n                                    value=\"all\"\r\n                                    checked={notificationType === 'all'}\r\n                                    onChange={(e) => setNotificationType(e.target.value)}\r\n                                    className=\"text-blue-600 focus:ring-blue-500\"\r\n                                />\r\n                                <span className=\"text-sm font-bold text-gray-700\">Notify ALL users</span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"pt-4 flex gap-4\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-black text-sm uppercase tracking-widest transition shadow-lg shadow-blue-500/30 disabled:opacity-50\"\r\n                        >\r\n                            {loading ? (editingJobId ? 'Updating...' : 'Publishing...') : (editingJobId ? 'Update Job' : 'Publish Job')}\r\n                        </button>\r\n                        {editingJobId && (\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={cancelEdit}\r\n                                className=\"bg-gray-100 hover:bg-gray-200 text-gray-600 px-8 py-4 rounded-xl font-black text-sm uppercase tracking-widest transition\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            {/* Job List */}\r\n            <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100\">\r\n                <h2 className=\"text-xl font-black text-gray-900 mb-6\">Recent Job Posts</h2>\r\n                {fetchLoading ? (\r\n                    <div className=\"text-center py-8 text-gray-500\">Loading jobs...</div>\r\n                ) : jobs.length === 0 ? (\r\n                    <div className=\"text-center py-8 text-gray-400 font-bold\">No jobs posted yet.</div>\r\n                ) : (\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full text-left border-collapse\">\r\n                            <thead>\r\n                                <tr className=\"border-b border-gray-100\">\r\n                                    <th className=\"p-4 text-xs font-bold text-gray-400 uppercase tracking-widest\">Job Title</th>\r\n                                    <th className=\"p-4 text-xs font-bold text-gray-400 uppercase tracking-widest\">Organization</th>\r\n                                    <th className=\"p-4 text-xs font-bold text-gray-400 uppercase tracking-widest\">Hashtags</th>\r\n                                    <th className=\"p-4 text-xs font-bold text-gray-400 uppercase tracking-widest\">Date</th>\r\n                                    <th className=\"p-4 text-xs font-bold text-gray-400 uppercase tracking-widest\">Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"divide-y divide-gray-50\">\r\n                                {jobs.map((job) => (\r\n                                    <tr key={job._id} className=\"hover:bg-gray-50 transition\">\r\n                                        <td className=\"p-4 font-bold text-gray-800\">{job.title}</td>\r\n                                        <td className=\"p-4 font-medium text-gray-600\">{job.organization}</td>\r\n                                        <td className=\"p-4\">\r\n                                            <div className=\"flex flex-wrap gap-1\">\r\n                                                {job.hashtags.slice(0, 3).map((tag, i) => (\r\n                                                    <span key={i} className=\"text-[10px] bg-blue-50 text-blue-600 px-2 py-1 rounded-full font-bold uppercase\">{tag}</span>\r\n                                                ))}\r\n                                                {job.hashtags.length > 3 && (\r\n                                                    <span className=\"text-[10px] text-gray-400 my-auto\">+{job.hashtags.length - 3}</span>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"p-4 text-sm text-gray-500 font-medium\">\r\n                                            {new Date(job.createdAt).toLocaleDateString()}\r\n                                        </td>\r\n                                        <td className=\"p-4\">\r\n                                            <div className=\"flex gap-2\">\r\n                                                <button\r\n                                                    onClick={() => handleEdit(job)}\r\n                                                    className=\"text-blue-500 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50 transition\"\r\n                                                    title=\"Edit Job\"\r\n                                                >\r\n                                                    ‚úèÔ∏è\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => handleDelete(job._id)}\r\n                                                    className=\"text-red-500 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition\"\r\n                                                    title=\"Delete Job\"\r\n                                                >\r\n                                                    üóëÔ∏è\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":40,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":40,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function AdminLoginPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const { login, user, loading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && user && user.role === 'admin') {\r\n            router.push('/admin/dashboard');\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email, password })\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                if (data.role === 'admin') {\r\n                    login(data);\r\n                    router.push('/admin/dashboard');\r\n                } else {\r\n                    setError('Access denied. You do not have administrator privileges.');\r\n                }\r\n            } else {\r\n                setError(data.message || 'Invalid credentials.');\r\n            }\r\n        } catch (err) {\r\n            setError('Something went wrong. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-950 p-4\">\r\n            <div className=\"max-w-md w-full bg-gray-900 rounded-3xl p-8 border border-gray-800 shadow-2xl\">\r\n                <div className=\"text-center mb-8\">\r\n                    <div className=\"inline-block p-4 rounded-2xl bg-blue-500/10 text-blue-500 text-4xl mb-4\">\r\n                        üõ°Ô∏è\r\n                    </div>\r\n                    <h1 className=\"text-3xl font-black text-white\">Admin Access</h1>\r\n                    <p className=\"text-gray-400 mt-2\">Secure entry for NammaSarkaari administrators</p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-500/10 border border-red-500/20 text-red-500 p-4 rounded-xl text-sm font-bold mb-6 text-center\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Email Address</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"w-full bg-gray-800 border border-gray-700 text-white p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition\"\r\n                            placeholder=\"admin@nammasarkaari.com\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full bg-gray-800 border border-gray-700 text-white p-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 transition\"\r\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-xl transition shadow-lg shadow-blue-500/20 mt-4 disabled:opacity-50\"\r\n                    >\r\n                        {loading ? 'Authenticating...' : 'Sign In to Panel'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-8 text-center\">\r\n                    <button\r\n                        onClick={() => router.push('/')}\r\n                        className=\"text-gray-500 hover:text-white text-sm font-bold transition\"\r\n                    >\r\n                        ‚Üê Back to Platform\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\mentors\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMentors'. Either include it or remove the dependency array.","line":25,"column":8,"nodeType":"ArrayExpression","endLine":25,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMentors, user]","fix":{"range":[602,608],"text":"[fetchMentors, user]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface PendingMentor {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n    mobile?: string;\r\n    experience?: string;\r\n    expertise?: string[];\r\n    createdAt: string;\r\n}\r\n\r\nexport default function AdminMentors() {\r\n    const { user } = useAuth();\r\n    const [mentors, setMentors] = useState<PendingMentor[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (user?.token) {\r\n            fetchMentors();\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchMentors = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/mentors/pending', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setMentors(data);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAction = async (userId: string, action: 'approve' | 'reject') => {\r\n        if (!confirm(`Are you sure you want to ${action} this mentor?`)) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/mentors/${action}/${userId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                }\r\n            });\r\n            if (res.ok) {\r\n                alert(`Mentor ${action}ed successfully`);\r\n                fetchMentors();\r\n            } else {\r\n                alert(`Failed to ${action} mentor`);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"animate-pulse text-gray-400 font-bold p-8 text-center uppercase tracking-widest\">Loading Applications...</div>;\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"mb-10\">\r\n                <h1 className=\"text-4xl font-black text-gray-900 tracking-tight\">Mentor Verification</h1>\r\n                <p className=\"text-gray-500 mt-2 font-medium\">Review and process pending mentor applications.</p>\r\n            </header>\r\n\r\n            <div className=\"space-y-6\">\r\n                {mentors.map((mentor) => (\r\n                    <div key={mentor._id} className=\"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-start md:items-center gap-6 group hover:shadow-xl transition-all duration-300\">\r\n                        <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-3 mb-2\">\r\n                                <h3 className=\"text-xl font-bold text-gray-900\">{mentor.name}</h3>\r\n                                <span className=\"bg-blue-100 text-blue-700 text-[10px] font-black uppercase px-2 py-1 rounded-lg\">Pending</span>\r\n                            </div>\r\n                            <div className=\"flex flex-wrap gap-4 text-sm text-gray-500 mb-4\">\r\n                                <span className=\"flex items-center gap-1\">üìß {mentor.email}</span>\r\n                                {mentor.mobile && <span className=\"flex items-center gap-1\">üìû {mentor.mobile}</span>}\r\n                                <span className=\"flex items-center gap-1\">üìÖ Applied: {new Date(mentor.createdAt).toLocaleDateString()}</span>\r\n                            </div>\r\n                            <div className=\"bg-gray-50 p-4 rounded-2xl border border-gray-100\">\r\n                                <p className=\"text-sm font-bold text-gray-700 mb-2 underline decoration-blue-500 decoration-2 underline-offset-4\">Application Details</p>\r\n                                <p className=\"text-sm text-gray-600 mb-2\"><span className=\"font-bold\">Experience:</span> {mentor.experience || 'Not specified'}</p>\r\n                                <div className=\"flex flex-wrap gap-2\">\r\n                                    <span className=\"text-sm font-bold text-gray-600\">Expertise:</span>\r\n                                    {mentor.expertise?.map((exp, i) => (\r\n                                        <span key={i} className=\"text-xs bg-white px-2 py-1 rounded-lg border border-gray-200 text-gray-600 font-medium\">#{exp}</span>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex md:flex-col gap-3 w-full md:w-auto\">\r\n                            <button\r\n                                onClick={() => handleAction(mentor._id, 'approve')}\r\n                                className=\"flex-1 md:w-40 bg-green-600 hover:bg-green-700 text-white font-black py-4 px-6 rounded-2xl transition shadow-lg shadow-green-600/20 uppercase text-xs tracking-widest\"\r\n                            >\r\n                                Approve\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleAction(mentor._id, 'reject')}\r\n                                className=\"flex-1 md:w-40 bg-red-50 hover:bg-red-100 text-red-600 font-black py-4 px-6 rounded-2xl transition border border-red-200 uppercase text-xs tracking-widest\"\r\n                            >\r\n                                Reject\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n                {mentors.length === 0 && (\r\n                    <div className=\"bg-white p-16 rounded-3xl border-2 border-dashed border-gray-100 flex flex-col items-center justify-center opacity-50\">\r\n                        <span className=\"text-6xl mb-4\">‚ú®</span>\r\n                        <p className=\"text-gray-500 font-bold uppercase tracking-widest\">Inbox Zero! No pending mentors.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\users\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchUsers'. Either include it or remove the dependency array.","line":25,"column":8,"nodeType":"ArrayExpression","endLine":25,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [currentUser, fetchUsers]","fix":{"range":[621,634],"text":"[currentUser, fetchUsers]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface User {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n    role: string;\r\n    isBlocked?: boolean;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function AdminUsers() {\r\n    const { user: currentUser } = useAuth();\r\n    const [users, setUsers] = useState<User[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (currentUser?.token) {\r\n            fetchUsers();\r\n        }\r\n    }, [currentUser]);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/admin/users', {\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setUsers(data);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleBlockAction = async (userId: string, isBlocked: boolean) => {\r\n        const action = isBlocked ? 'unblock' : 'block';\r\n        if (!confirm(`Are you sure you want to ${action} this user?`)) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/admin/users/${action}/${userId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                }\r\n            });\r\n            if (res.ok) {\r\n                alert(`User ${action}ed successfully`);\r\n                fetchUsers();\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const filteredUsers = users.filter(u =>\r\n        u.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        u.email.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    if (loading) return <div className=\"animate-pulse text-gray-400 font-bold p-8 text-center uppercase tracking-widest\">Loading User Directory...</div>;\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"mb-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-gray-900 tracking-tight\">User Directory</h1>\r\n                    <p className=\"text-gray-500 mt-2 font-medium\">Manage platform users and account status.</p>\r\n                </div>\r\n                <div className=\"w-full md:w-96 relative\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search users by name or email...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        className=\"w-full bg-white border border-gray-200 p-4 pl-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition shadow-sm\"\r\n                    />\r\n                    <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-xl opacity-30\">üîç</span>\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden\">\r\n                <table className=\"w-full text-left border-collapse\">\r\n                    <thead>\r\n                        <tr className=\"bg-gray-50 text-[10px] font-black uppercase text-gray-400 tracking-widest\">\r\n                            <th className=\"px-8 py-6\">User</th>\r\n                            <th className=\"px-8 py-6\">Role</th>\r\n                            <th className=\"px-8 py-6\">Joined</th>\r\n                            <th className=\"px-8 py-6 text-right\">Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {filteredUsers.map((u) => (\r\n                            <tr key={u._id} className=\"hover:bg-gray-50 transition group\">\r\n                                <td className=\"px-8 py-6\">\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <div className=\"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center font-bold text-gray-400 group-hover:bg-blue-500 group-hover:text-white transition\">\r\n                                            {u.name[0]}\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"font-bold text-gray-900\">{u.name}</p>\r\n                                            <p className=\"text-xs text-gray-500\">{u.email}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"px-8 py-6\">\r\n                                    <span className={`text-[10px] font-black uppercase px-2 py-1 rounded-lg ${u.role === 'admin' ? 'bg-red-100 text-red-700' :\r\n                                            u.role === 'mentor' ? 'bg-blue-100 text-blue-700' :\r\n                                                u.role === 'academy' ? 'bg-purple-100 text-purple-700' :\r\n                                                    'bg-gray-100 text-gray-700'\r\n                                        }`}>\r\n                                        {u.role}\r\n                                    </span>\r\n                                </td>\r\n                                <td className=\"px-8 py-6 text-sm text-gray-500 font-medium\">\r\n                                    {new Date(u.createdAt).toLocaleDateString()}\r\n                                </td>\r\n                                <td className=\"px-8 py-6 text-right\">\r\n                                    {u.role !== 'admin' && (\r\n                                        <button\r\n                                            onClick={() => handleBlockAction(u._id, !!u.isBlocked)}\r\n                                            className={`font-black text-[10px] uppercase tracking-widest px-4 py-2 rounded-xl transition ${u.isBlocked\r\n                                                    ? 'bg-green-100 text-green-700 hover:bg-green-200'\r\n                                                    : 'bg-red-50 text-red-600 hover:bg-red-100'\r\n                                                }`}\r\n                                        >\r\n                                            {u.isBlocked ? 'üîì Unblock' : 'üö´ Block'}\r\n                                        </button>\r\n                                    )}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                {filteredUsers.length === 0 && (\r\n                    <div className=\"p-16 text-center opacity-30\">\r\n                        <p className=\"text-4xl mb-4\">üëª</p>\r\n                        <p className=\"font-bold uppercase tracking-widest\">No users found</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\verified-users\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\admin\\verified-users\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\daily-newspaper\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[533,536],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[533,536],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[609,612],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[609,612],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchNewspapers'. Either include it or remove the dependency array.","line":29,"column":8,"nodeType":"ArrayExpression","endLine":29,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchNewspapers, user]","fix":{"range":[979,985],"text":"[fetchNewspapers, user]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1567,1570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1567,1570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2630,2633],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2630,2633],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2646,2649],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2646,2649],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":147,"column":94,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":147,"endColumn":97,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7231,7234],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7231,7234],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":228,"column":49,"nodeType":"JSXOpeningElement","endLine":232,"endColumn":51},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":299,"column":33,"nodeType":"JSXOpeningElement","endLine":303,"endColumn":35}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\nexport default function DailyNewspaperPage() {\r\n    const { user, loading: authLoading } = useAuth();\r\n    const { t } = useLanguage();\r\n    const router = useRouter();\r\n    const [newspapers, setNewspapers] = useState<any[]>([]);\r\n    const [selectedNewspaper, setSelectedNewspaper] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isFullScreen, setIsFullScreen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login');\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            fetchNewspapers();\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchNewspapers = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/daily-newspapers', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setNewspapers(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch newspapers:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleViewNewspaper = async (newspaper: any) => {\r\n        setSelectedNewspaper(newspaper);\r\n\r\n        // Record view\r\n        try {\r\n            await fetch(`http://localhost:5000/api/daily-newspapers/${newspaper._id}/view`, {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            // Update local state views count\r\n            setNewspapers(prev => prev.map(n =>\r\n                n._id === newspaper._id\r\n                    ? { ...n, views: n.views?.includes(user?._id) ? n.views : [...(n.views || []), user?._id] }\r\n                    : n\r\n            ));\r\n        } catch (error) {\r\n            console.error('Failed to record view:', error);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString: string) => {\r\n        return new Date(dateString).toLocaleDateString(t('sidebar.language') === 'kn' ? 'kn-IN' : 'en-IN', {\r\n            day: '2-digit',\r\n            month: 'short',\r\n            year: 'numeric'\r\n        });\r\n    };\r\n\r\n    // Grouping by date\r\n    const groupedNewspapers = newspapers.reduce((groups: any, newspaper: any) => {\r\n        const date = new Date(newspaper.date).toDateString();\r\n        if (!groups[date]) {\r\n            groups[date] = [];\r\n        }\r\n        groups[date].push(newspaper);\r\n        return groups;\r\n    }, {});\r\n\r\n    // Sort dates (Latest first)\r\n    const sortedDates = Object.keys(groupedNewspapers).sort((a, b) => {\r\n        return new Date(b).getTime() - new Date(a).getTime();\r\n    });\r\n\r\n    if (authLoading || !user) return <div className=\"p-10 text-center\">{t('common.loading')}</div>;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF] overflow-x-hidden\">\r\n            <Navbar />\r\n            <main className=\"max-w-7xl mx-auto px-4 md:px-6 py-8 h-[calc(100vh-80px)] overflow-hidden\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-12 gap-6 h-full relative\">\r\n                    {/* Left Sidebar - Always visible on desktop */}\r\n                    <div className=\"md:col-span-3 hidden md:block h-full\">\r\n                        <Sidebar />\r\n                    </div>\r\n\r\n                    {/* Content Area with Sliding panels */}\r\n                    <div className=\"md:col-span-9 h-full relative overflow-hidden bg-white border rounded-[2.5rem] shadow-sm\">\r\n\r\n                        {/* Slide 1: Archive List */}\r\n                        <div className={`absolute inset-0 p-4 md:p-8 transition-all duration-700 ease-in-out transform flex flex-col ${selectedNewspaper ? '-translate-x-full opacity-0' : 'translate-x-0 opacity-100'\r\n                            }`}>\r\n                            <header className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 shrink-0\">\r\n                                <div>\r\n                                    <h1 className=\"text-3xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-3\">\r\n                                        <span className=\"text-4xl\">üì∞</span>\r\n                                        {t('news.archive_title')}\r\n                                    </h1>\r\n                                    <p className=\"text-gray-500 font-bold uppercase text-[10px] tracking-widest mt-1\">\r\n                                        {t('news.admin_hint')}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"bg-blue-50 px-4 py-2 rounded-2xl border border-blue-100\">\r\n                                    <span className=\"text-blue-700 font-black text-xs uppercase tracking-widest\">\r\n                                        {newspapers.length} {t('news.papers_count')}\r\n                                    </span>\r\n                                </div>\r\n                            </header>\r\n\r\n                            <div className=\"flex-1 overflow-y-auto pr-2 custom-scrollbar\">\r\n                                {loading ? (\r\n                                    <div className=\"py-20 flex flex-col items-center justify-center space-y-4\">\r\n                                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-700\"></div>\r\n                                        <p className=\"text-gray-400 font-bold uppercase text-xs tracking-widest\">{t('news.fetching')}</p>\r\n                                    </div>\r\n                                ) : newspapers.length === 0 ? (\r\n                                    <div className=\"py-20 text-center bg-gray-50 rounded-2xl border-2 border-dashed\">\r\n                                        <h2 className=\"text-xl font-bold text-gray-600\">{t('news.not_found')}</h2>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"space-y-10\">\r\n                                        {sortedDates.map(date => (\r\n                                            <section key={date}>\r\n                                                <div className=\"flex items-center gap-4 mb-6\">\r\n                                                    <h3 className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] whitespace-nowrap\">\r\n                                                        {formatDate(date)}\r\n                                                    </h3>\r\n                                                    <div className=\"h-[1px] bg-gray-100 w-full\"></div>\r\n                                                </div>\r\n\r\n                                                <div className=\"flex flex-col gap-2\">\r\n                                                    {groupedNewspapers[date].map((newspaper: any) => (\r\n                                                        <div\r\n                                                            key={newspaper._id}\r\n                                                            onClick={() => handleViewNewspaper(newspaper)}\r\n                                                            className=\"group cursor-pointer bg-gray-50/50 hover:bg-blue-50 border border-transparent hover:border-blue-100 rounded-xl px-5 py-3 transition-all duration-200 flex items-center justify-between\"\r\n                                                        >\r\n                                                            <div className=\"flex items-center gap-4\">\r\n                                                                <div className=\"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center text-xl group-hover:bg-white transition-colors\">\r\n                                                                    üì∞\r\n                                                                </div>\r\n                                                                <div>\r\n                                                                    <h4 className=\"font-bold text-gray-900 group-hover:text-blue-700 transition text-base\">\r\n                                                                        {newspaper.name}\r\n                                                                    </h4>\r\n                                                                    <p className=\"text-[11px] font-medium text-gray-500 uppercase tracking-wider mt-0.5\">\r\n                                                                        {formatDate(newspaper.date)}\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"flex items-center gap-4\">\r\n                                                                <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-tight\">\r\n                                                                    {newspaper.views?.length || 0} {t('news.readers_stat')}\r\n                                                                </span>\r\n                                                                <svg className=\"w-4 h-4 text-gray-300 group-hover:text-blue-600 transition-all transform group-hover:translate-x-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M9 5l7 7-7 7\" />\r\n                                                                </svg>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </section>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Slide 2: Viewer Panel */}\r\n                        <div className={`absolute inset-0 bg-white transition-all duration-700 ease-in-out transform flex flex-col ${selectedNewspaper ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0 shadow-2xl'\r\n                            }`}>\r\n                            {selectedNewspaper && (\r\n                                <>\r\n                                    <div className=\"px-6 py-4 border-b flex justify-between items-center bg-white shrink-0\">\r\n                                        <div>\r\n                                            <button\r\n                                                onClick={() => setSelectedNewspaper(null)}\r\n                                                className=\"flex items-center gap-2 text-[10px] font-black text-blue-600 uppercase tracking-widest hover:text-blue-800 transition-all mb-1\"\r\n                                            >\r\n                                                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M15 19l-7-7 7-7\" />\r\n                                                </svg>\r\n                                                {t('news.back_to_archive')}\r\n                                            </button>\r\n                                            <h2 className=\"text-xl font-black text-gray-900 leading-tight uppercase tracking-tight line-clamp-1\">\r\n                                                {selectedNewspaper.name}\r\n                                            </h2>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <span className=\"text-[10px] text-gray-400 font-black uppercase tracking-widest hidden sm:block\">\r\n                                                {formatDate(selectedNewspaper.date)}\r\n                                            </span>\r\n                                            <button\r\n                                                onClick={() => setSelectedNewspaper(null)}\r\n                                                className=\"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-red-50 hover:text-red-500 transition-all\"\r\n                                            >\r\n                                                ‚úï\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex-1 bg-gray-50 flex items-center justify-center p-2 md:p-4 overflow-hidden\">\r\n                                        {selectedNewspaper.fileType === 'pdf' ? (\r\n                                            <div className=\"w-full h-full bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100\">\r\n                                                <iframe\r\n                                                    src={selectedNewspaper.fileUrl}\r\n                                                    className=\"w-full h-full border-0\"\r\n                                                    title={selectedNewspaper.name}\r\n                                                />\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full overflow-auto flex items-center justify-center bg-white rounded-2xl shadow-sm border border-gray-100\">\r\n                                                <img\r\n                                                    src={selectedNewspaper.fileUrl}\r\n                                                    alt={selectedNewspaper.name}\r\n                                                    className=\"max-w-full max-h-full object-contain p-4\"\r\n                                                />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div className=\"px-6 py-4 border-t bg-white flex justify-between items-center shrink-0\">\r\n                                        <p className=\"text-[10px] font-black text-gray-300 uppercase tracking-[0.4em]\">\r\n                                            {t('news.digital_preview')}\r\n                                        </p>\r\n                                        <div className=\"flex gap-2\">\r\n                                            <button\r\n                                                onClick={() => setIsFullScreen(true)}\r\n                                                className=\"px-6 py-2 bg-blue-600 text-white rounded-xl font-black uppercase text-[10px] tracking-widest hover:bg-blue-700 transition-all flex items-center gap-2\"\r\n                                            >\r\n                                                <span className=\"text-lg\">‚õ∂</span> {t('news.full_screen')}\r\n                                            </button>\r\n                                            <a\r\n                                                href={selectedNewspaper.fileUrl}\r\n                                                target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                className=\"px-6 py-2 bg-gray-900 text-white rounded-xl font-black uppercase text-[10px] tracking-widest hover:bg-blue-700 transition-all\"\r\n                                            >\r\n                                                {t('news.open_original')}\r\n                                            </a>\r\n                                        </div>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            {/* Full Screen Overlay */}\r\n            {isFullScreen && selectedNewspaper && (\r\n                <div className=\"fixed inset-0 z-[100] bg-white flex flex-col animate-in fade-in zoom-in duration-300\">\r\n                    <div className=\"px-6 py-4 border-b flex justify-between items-center bg-white shrink-0 shadow-sm\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <span className=\"text-2xl\">üì∞</span>\r\n                            <div>\r\n                                <h2 className=\"text-xl font-black text-gray-900 leading-tight uppercase tracking-tight\">\r\n                                    {selectedNewspaper.name}\r\n                                </h2>\r\n                                <p className=\"text-[10px] text-blue-600 font-bold uppercase tracking-[0.2em]\">\r\n                                    {t('news.reading_mode')}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setIsFullScreen(false)}\r\n                            className=\"px-8 py-3 bg-red-600 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-red-700 transition-all flex items-center gap-2 shadow-lg hover:shadow-red-200\"\r\n                        >\r\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M15 19l-7-7 7-7\" />\r\n                            </svg>\r\n                            {t('news.go_back')}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"flex-1 bg-gray-100 overflow-hidden\">\r\n                        {selectedNewspaper.fileType === 'pdf' ? (\r\n                            <iframe\r\n                                src={selectedNewspaper.fileUrl}\r\n                                className=\"w-full h-full border-0\"\r\n                                title={selectedNewspaper.name}\r\n                            />\r\n                        ) : (\r\n                            <div className=\"w-full h-full overflow-auto flex items-center justify-center p-8\">\r\n                                <img\r\n                                    src={selectedNewspaper.fileUrl}\r\n                                    alt={selectedNewspaper.name}\r\n                                    className=\"max-w-full max-h-full object-contain shadow-2xl rounded-lg\"\r\n                                />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\exams\\[name]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useAuth' is defined but never used.","line":8,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useAuth"},"fix":{"range":[252,300],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FiFileText' is defined but never used.","line":9,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FiFileText"},"fix":{"range":[317,329],"text":""},"desc":"Remove unused variable \"FiFileText\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FiBell' is defined but never used.","line":9,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FiBell"},"fix":{"range":[329,337],"text":""},"desc":"Remove unused variable \"FiBell\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FiUsers' is defined but never used.","line":9,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":45,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FiUsers"},"fix":{"range":[337,346],"text":""},"desc":"Remove unused variable \"FiUsers\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[546,549],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[546,549],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchExamDetails'. Either include it or remove the dependency array.","line":20,"column":8,"nodeType":"ArrayExpression","endLine":20,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchExamDetails, name]","fix":{"range":[759,765],"text":"[fetchExamDetails, name]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":75,"column":37,"nodeType":"JSXOpeningElement","endLine":79,"endColumn":39},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":153,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":153,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9014,9017],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9014,9017],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":182,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":182,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11518,11521],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11518,11521],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":208,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":208,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13419,13422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13419,13422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":211,"column":49,"nodeType":"JSXOpeningElement","endLine":211,"endColumn":150},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":211,"column":49,"nodeType":"JSXOpeningElement","endLine":211,"endColumn":150},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":219,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":219,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14373,14376],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14373,14376],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":222,"column":49,"nodeType":"JSXOpeningElement","endLine":222,"endColumn":151},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":222,"column":49,"nodeType":"JSXOpeningElement","endLine":222,"endColumn":151},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":246,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16410,16413],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16410,16413],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useSearchParams } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { FiBook, FiFileText, FiBell, FiUsers, FiAward } from 'react-icons/fi';\r\n\r\nexport default function ExamDetailsPage() {\r\n    const { name } = useParams();\r\n    const searchParams = useSearchParams();\r\n    const [data, setData] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTab, setActiveTab] = useState(searchParams.get('tab') || 'overview');\r\n\r\n    useEffect(() => {\r\n        fetchExamDetails();\r\n    }, [name]);\r\n\r\n    const fetchExamDetails = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/exams/${name}`);\r\n            if (res.ok) {\r\n                setData(await res.json());\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching exam details:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"p-20 text-center font-bold\">Loading...</div>;\r\n    if (!data) return <div className=\"p-20 text-center text-red-500 font-bold\">Exam not found</div>;\r\n\r\n    const { exam, updates, documents, communities } = data;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-12 gap-6\">\r\n                <div className=\"md:col-span-3 hidden md:block\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"md:col-span-9 space-y-6\">\r\n                    {/* Header Card */}\r\n                    <div className=\"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm relative overflow-hidden\">\r\n                        <div className=\"absolute top-0 right-0 p-8 text-6xl opacity-10 grayscale\">üèõÔ∏è</div>\r\n                        <div className=\"relative z-10\">\r\n                            <span className=\"text-[10px] font-black uppercase tracking-[0.3em] text-blue-600 bg-blue-50 px-3 py-1 rounded-full mb-4 inline-block\">\r\n                                {exam.conductingBody}\r\n                            </span>\r\n                            <h1 className=\"text-4xl font-black text-gray-900 tracking-tighter leading-none mb-2\">\r\n                                {exam.name} ‚Äì <span className=\"text-gray-400\">{exam.fullName}</span>\r\n                            </h1>\r\n                            <div className=\"flex gap-4 mt-4\">\r\n                                <div className=\"flex items-center gap-2 text-xs font-bold text-gray-500\">\r\n                                    <FiAward /> {exam.examLevel} Level\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2 text-xs font-bold text-gray-500\">\r\n                                    <FiBook /> {exam.category}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Academy Partner Section */}\r\n                    {exam.officialPartnerAcademy && (\r\n                        <div className=\"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-6\">\r\n                                <div className=\"w-16 h-16 bg-blue-50 rounded-xl border border-blue-100 p-2 flex items-center justify-center overflow-hidden\">\r\n                                    <img\r\n                                        src={exam.partnerAcademyLogo || exam.officialPartnerAcademy.profilePic || \"https://i.pravatar.cc/150\"}\r\n                                        className=\"w-full h-full object-contain mix-blend-multiply\"\r\n                                        alt=\"Academy Partner\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-[10px] font-black text-blue-600 uppercase tracking-[0.2em] mb-1\">Official Exam Partner</p>\r\n                                    <h2 className=\"text-xl font-black text-gray-900\">{exam.officialPartnerAcademy.name}</h2>\r\n                                    <p className=\"text-xs text-gray-400 font-bold mt-1\">Leading {exam.name} Excellence Hub</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"hidden sm:block\">\r\n                                <Link\r\n                                    href={`/profile/${exam.officialPartnerAcademy._id}`}\r\n                                    className=\"bg-blue-600 text-white px-6 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-blue-700 transition shadow-lg shadow-blue-500/20\"\r\n                                >\r\n                                    View Academy\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Tabs */}\r\n                    <div className=\"bg-white rounded-2xl px-6 pt-6 shadow-sm border border-gray-100 flex gap-8 overflow-x-auto custom-scrollbar\">\r\n                        {['overview', 'syllabus', 'updates', 'documents', 'communities', 'mentors'].map((tab) => (\r\n                            <button\r\n                                key={tab}\r\n                                onClick={() => setActiveTab(tab)}\r\n                                className={`pb-4 text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${activeTab === tab\r\n                                    ? 'text-blue-600 border-b-2 border-blue-600'\r\n                                    : 'text-gray-400 hover:text-gray-600'\r\n                                    }`}\r\n                            >\r\n                                {tab}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Tab Content */}\r\n                    <div className=\"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm min-h-[400px]\">\r\n                        {activeTab === 'overview' && (\r\n                            <div className=\"space-y-6\">\r\n                                <section>\r\n                                    <h3 className=\"text-xl font-black text-gray-900 mb-4\">Exam Overview</h3>\r\n                                    <p className=\"text-gray-600 leading-relaxed whitespace-pre-line\">{exam.overview || \"Detail loading...\"}</p>\r\n                                </section>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 pt-8 border-t\">\r\n                                    <section>\r\n                                        <h4 className=\"text-xs font-black uppercase tracking-widest text-gray-400 mb-3\">Job Role</h4>\r\n                                        <p className=\"text-sm font-bold text-gray-700\">{exam.jobRole || \"N/A\"}</p>\r\n                                    </section>\r\n                                    <section>\r\n                                        <h4 className=\"text-xs font-black uppercase tracking-widest text-gray-400 mb-3\">Salary Scale</h4>\r\n                                        <p className=\"text-sm font-bold text-gray-700\">{exam.salaryScale || \"N/A\"}</p>\r\n                                    </section>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'syllabus' && (\r\n                            <div className=\"space-y-6\">\r\n                                <h3 className=\"text-xl font-black text-gray-900 mb-4\">Exam Pattern & Syllabus</h3>\r\n                                <div className=\"p-6 bg-gray-50 rounded-2xl border border-gray-100\">\r\n                                    <p className=\"text-gray-700 whitespace-pre-line leading-relaxed font-medium\">\r\n                                        {exam.examPattern || \"Syllabus details will be updated soon.\"}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'updates' && (\r\n                            <div className=\"space-y-6\">\r\n                                <h3 className=\"text-xl font-black text-gray-900 mb-4\">Latest Job Updates</h3>\r\n                                {updates.length === 0 ? (\r\n                                    <div className=\"text-center py-12 text-gray-400 font-bold\">No updates found for this exam newly.</div>\r\n                                ) : (\r\n                                    <div className=\"space-y-4\">\r\n                                        {updates.map((update: any) => (\r\n                                            <div key={update._id} className=\"p-6 border rounded-2xl hover:border-blue-200 transition-colors\">\r\n                                                <div className=\"flex justify-between items-start\">\r\n                                                    <div>\r\n                                                        <span className={`text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full ${update.type === 'Vacancy' ? 'bg-green-50 text-green-600' :\r\n                                                            update.type === 'Result' ? 'bg-purple-50 text-purple-600' : 'bg-blue-50 text-blue-600'\r\n                                                            }`}>\r\n                                                            {update.type}\r\n                                                        </span>\r\n                                                        <h4 className=\"text-lg font-black text-gray-900 mt-2\">{update.title}</h4>\r\n                                                        <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-tight mt-1\">Updates by <span className=\"text-blue-600 italic\">{update.publisherName || \"Admin\"}</span></p>\r\n                                                    </div>\r\n                                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase\">{new Date(update.createdAt).toLocaleDateString()}</p>\r\n                                                </div>\r\n                                                <p className=\"text-sm text-gray-600 mt-3\">{update.description}</p>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'documents' && (\r\n                            <div className=\"space-y-6\">\r\n                                <h3 className=\"text-xl font-black text-gray-900 mb-4\">Official Documents (PDF)</h3>\r\n                                {documents.length === 0 ? (\r\n                                    <div className=\"text-center py-12 text-gray-400 font-bold\">No official documents uploaded yet.</div>\r\n                                ) : (\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                        {documents.map((doc: any) => (\r\n                                            <a\r\n                                                key={doc._id}\r\n                                                href={doc.fileUrl}\r\n                                                target=\"_blank\"\r\n                                                className=\"p-4 border border-gray-100 rounded-xl flex items-center justify-between hover:bg-red-50 transition-colors group\"\r\n                                            >\r\n                                                <div className=\"flex items-center gap-3\">\r\n                                                    <span className=\"text-2xl\">üìÑ</span>\r\n                                                    <div>\r\n                                                        <p className=\"text-xs font-black text-gray-900\">{doc.title}</p>\r\n                                                        <p className=\"text-[10px] text-gray-400 font-bold uppercase\">{doc.category}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <span className=\"bg-red-100 text-red-600 text-[10px] font-black px-2 py-1 rounded group-hover:bg-red-200 transition\">PDF</span>\r\n                                            </a>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'mentors' && (\r\n                            <div className=\"space-y-6\">\r\n                                <h3 className=\"text-xl font-black text-gray-900 mb-4\">Verified Mentors & Academies</h3>\r\n                                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                                    {exam.verifiedMentors?.map((mentor: any) => (\r\n                                        <div key={mentor._id} className=\"p-4 border rounded-xl flex items-center gap-4\">\r\n                                            <div className=\"w-12 h-12 bg-gray-100 rounded-full overflow-hidden\">\r\n                                                <img src={mentor.profilePic || \"https://i.pravatar.cc/150\"} className=\"w-full h-full object-cover\" />\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"font-bold text-gray-900\">{mentor.name}</p>\r\n                                                <p className=\"text-[10px] text-blue-600 font-black uppercase\">Verified Mentor</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                    {exam.verifiedAcademies?.map((academy: any) => (\r\n                                        <div key={academy._id} className=\"p-4 border rounded-xl flex items-center gap-4\">\r\n                                            <div className=\"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden\">\r\n                                                <img src={academy.profilePic || \"https://i.pravatar.cc/150\"} className=\"w-full h-full object-cover\" />\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"font-bold text-gray-900\">{academy.name}</p>\r\n                                                <p className=\"text-[10px] text-purple-600 font-black uppercase\">Official Academy</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                    {(!exam.verifiedMentors?.length && !exam.verifiedAcademies?.length) && (\r\n                                        <p className=\"text-gray-400 text-xs font-bold col-span-full\">No associated mentors or academies yet.</p>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'communities' && (\r\n                            <div className=\"space-y-6\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <h3 className=\"text-xl font-black text-gray-900\">Exam Communities</h3>\r\n                                </div>\r\n                                {communities.length === 0 ? (\r\n                                    <div className=\"text-center py-12 text-gray-400 font-bold\">No communities created for this exam yet.</div>\r\n                                ) : (\r\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                                        {communities.map((comm: any) => (\r\n                                            <div key={comm._id} className=\"p-6 border rounded-2xl hover:shadow-md transition bg-gradient-to-br from-white to-gray-50/50\">\r\n                                                <h4 className=\"text-lg font-black text-gray-900 uppercase tracking-tight\">{comm.name}</h4>\r\n                                                <p className=\"text-[10px] text-gray-400 font-bold mt-1 line-clamp-2\">{comm.description}</p>\r\n                                                <div className=\"mt-4 flex justify-between items-center\">\r\n                                                    <span className=\"text-[10px] font-black text-blue-600 uppercase bg-blue-50 px-2 py-1 rounded\">\r\n                                                        {comm.type === 'paid' ? `‚Çπ${comm.price}` : 'Free'}\r\n                                                    </span>\r\n                                                    <button className=\"text-[10px] font-black bg-gray-900 text-white px-4 py-2 rounded-lg uppercase tracking-widest hover:bg-blue-600 transition\">Join Group</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\exams\\[name]\\updates\\[updateId]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\exams\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\feed\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[571,574],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[571,574],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[676,679],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[676,679],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[794,797],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[794,797],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[860,863],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[860,863],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1057,1060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1057,1060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'language' is assigned a value but never used.","line":26,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2318,2321],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2318,2321],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":120,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4365,4368],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4365,4368],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchExamNews' and 'fetchPosts'. Either include them or remove the dependency array.","line":130,"column":8,"nodeType":"ArrayExpression","endLine":130,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchExamNews, fetchPosts, user]","fix":{"range":[4769,4775],"text":"[fetchExamNews, fetchPosts, user]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":153,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":153,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5591,5594],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5591,5594],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":224,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":224,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8483,8486],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8483,8486],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport StoryBar from '@/components/StoryBar';\r\nimport PostBox from '@/components/PostBox';\r\nimport PostCard from '@/components/PostCard';\r\nimport AdCard from '@/components/AdCard';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\nexport default function Feed() {\r\n    const [posts, setPosts] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [feedAd, setFeedAd] = useState<any>(null);\r\n    const [sidebarAd, setSidebarAd] = useState<any>(null);\r\n    const [examNews, setExamNews] = useState<any[]>([]);\r\n    const [selectedNews, setSelectedNews] = useState<any>(null);\r\n    const [isPrefModalOpen, setIsPrefModalOpen] = useState(false);\r\n    const [selectedExams, setSelectedExams] = useState<string[]>([]);\r\n    const [allExams, setAllExams] = useState<any[]>([]);\r\n    const { user, updateUser, logout, loading: authLoading } = useAuth();\r\n    const { t, language } = useLanguage();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login');\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    const fetchAds = async () => {\r\n        try {\r\n            // Fetch Feed Ad\r\n            const fRes = await fetch('http://localhost:5000/api/ads/slot/FEED_INLINE');\r\n            if (fRes.ok) setFeedAd(await fRes.json());\r\n\r\n            // Fetch Sidebar Ad\r\n            const sRes = await fetch('http://localhost:5000/api/ads/slot/SIDEBAR_EXAM');\r\n            if (sRes.ok) setSidebarAd(await sRes.json());\r\n        } catch (err) {\r\n            console.error('Failed to fetch ads:', err);\r\n        }\r\n    };\r\n\r\n    const fetchExamNews = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/exam-news', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setExamNews(data);\r\n\r\n                // Record views for each news item displayed\r\n                data.forEach((item: any) => {\r\n                    fetch(`http://localhost:5000/api/exam-news/${item._id}/view`, {\r\n                        method: 'POST',\r\n                        headers: { 'Authorization': `Bearer ${user?.token}` }\r\n                    }).catch(err => console.error('Failed to record view:', err));\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.error('Failed to fetch exam news:', err);\r\n        }\r\n    };\r\n\r\n    const fetchPosts = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/posts', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                }\r\n            });\r\n\r\n            if (res.status === 401) {\r\n                // Token expired or invalid - logout user\r\n                console.error('Authentication failed - logging out');\r\n                logout();\r\n                return;\r\n            }\r\n\r\n            if (!res.ok) {\r\n                throw new Error(`HTTP error! status: ${res.status}`);\r\n            }\r\n\r\n            const data = await res.json();\r\n\r\n            // Ensure data is an array before setting state\r\n            if (Array.isArray(data)) {\r\n                setPosts(data);\r\n            } else {\r\n                console.error('API returned non-array data:', data);\r\n                setPosts([]);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error fetching posts:', err);\r\n            setPosts([]); // Ensure posts is always an array\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchAllExams = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/exams');\r\n            if (res.ok) setAllExams(await res.json());\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            fetchPosts();\r\n            fetchAds();\r\n            fetchExamNews();\r\n            fetchAllExams();\r\n            setSelectedExams(user.preferredExams?.map((e: any) => e._id || e) || []);\r\n\r\n            // Update last visit timestamp\r\n            fetch('http://localhost:5000/api/posts/last-visit', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            }).then(() => {\r\n                window.dispatchEvent(new Event('notificationsUpdated'));\r\n            }).catch(console.error);\r\n        }\r\n    }, [user]);\r\n\r\n    const handleSavePrefs = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/exams/select', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({ preferredExamIds: selectedExams })\r\n            });\r\n\r\n            if (res.status === 401) {\r\n                alert(t('auth.session_expired'));\r\n                logout();\r\n                return;\r\n            }\r\n\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                updateUser({\r\n                    preferredExams: data.preferredExams,\r\n                    exams: data.preferredExams.map((e: any) => e.name)\r\n                });\r\n                setIsPrefModalOpen(false);\r\n                setTimeout(() => fetchExamNews(), 500);\r\n            } else {\r\n                alert(t('auth.save_fail'));\r\n            }\r\n        } catch (err) {\r\n            console.error('Failed to save preferences:', err);\r\n            alert(t('auth.server_error'));\r\n        }\r\n    };\r\n\r\n    if (authLoading || !user) return <div className=\"p-10 text-center\">{t('common.loading')}</div>;\r\n\r\n    const AD_EVERY_N_POSTS = 4;\r\n\r\n    const timeAgo = (date: string) => {\r\n        const seconds = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);\r\n        let interval = seconds / 31536000;\r\n        if (interval > 1) return Math.floor(interval) + t('time.y') + \" \" + t('time.ago');\r\n        interval = seconds / 2592000;\r\n        if (interval > 1) return Math.floor(interval) + t('time.mo') + \" \" + t('time.ago');\r\n        interval = seconds / 86400;\r\n        if (interval > 1) return Math.floor(interval) + t('time.d') + \" \" + t('time.ago');\r\n        interval = seconds / 3600;\r\n        if (interval > 1) return Math.floor(interval) + t('time.h') + \" \" + t('time.ago');\r\n        interval = seconds / 60;\r\n        if (interval > 1) return Math.floor(interval) + t('time.m') + \" \" + t('time.ago');\r\n        return Math.floor(seconds) + t('time.s') + \" \" + t('time.ago');\r\n    };\r\n\r\n    // Helper to render text with links\r\n    const renderDescription = (text: string) => {\r\n        const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\r\n        return text.split(urlRegex).map((part, i) => {\r\n            if (part.match(urlRegex)) {\r\n                return (\r\n                    <a\r\n                        key={i}\r\n                        href={part}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"text-blue-600 hover:underline break-all font-bold\"\r\n                    >\r\n                        {part}\r\n                    </a>\r\n                );\r\n            }\r\n            return part;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-12 gap-6\">\r\n                {/* Left Sidebar */}\r\n                <div className=\"md:col-span-3 hidden md:block\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                {/* Feed Content */}\r\n                <div className=\"md:col-span-6 space-y-4\">\r\n                    <StoryBar />\r\n                    <PostBox refreshPosts={fetchPosts} />\r\n\r\n                    {loading ? (\r\n                        <div className=\"text-center py-10 text-gray-400\">{t('common.loading')}</div>\r\n                    ) : (\r\n                        <div className=\"space-y-4\">\r\n                            {posts.map((post: any, index: number) => (\r\n                                <React.Fragment key={post._id}>\r\n                                    <PostCard post={post} />\r\n                                    {feedAd && (index + 1) % AD_EVERY_N_POSTS === 0 && (\r\n                                        <AdCard ad={feedAd} variant=\"feed\" />\r\n                                    )}\r\n                                </React.Fragment>\r\n                            ))}\r\n                            {posts.length === 0 && (\r\n                                <div className=\"bg-white border rounded-xl p-10 text-center text-gray-500\">\r\n                                    {t('common.no_posts')}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Right Sidebar */}\r\n                <div className=\"md:col-span-3 hidden md:block\">\r\n                    <div className=\"bg-white border rounded-xl p-4 shadow-sm\">\r\n                        <header className=\"flex justify-between items-center mb-4\">\r\n                            <h4 className=\"font-bold text-gray-700\">{t('sidebar.exam_news')}</h4>                           <span className=\"animate-pulse bg-red-500 w-2 h-2 rounded-full\"></span>\r\n                        </header>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            {examNews.length > 0 ? (\r\n                                <ul className=\"space-y-4 text-sm max-h-[300px] overflow-y-auto pr-2 custom-scrollbar scroll-smooth\">\r\n                                    {examNews.map((news) => (\r\n                                        <li\r\n                                            key={news._id}\r\n                                            onClick={() => setSelectedNews(news)}\r\n                                            className=\"group cursor-pointer border-b border-gray-50 pb-3 last:border-0 last:pb-0\"\r\n                                        >\r\n                                            <p className=\"font-bold text-gray-800 group-hover:text-blue-700 transition line-clamp-2 leading-tight\">\r\n                                                {news.title}\r\n                                            </p>\r\n                                            <div className=\"flex items-center gap-2 mt-1\">\r\n                                                <p className=\"text-[10px] text-gray-400 font-bold uppercase\" title={new Date(news.createdAt).toLocaleString()}>\r\n                                                    {timeAgo(news.createdAt)}\r\n                                                </p>\r\n                                                <span className=\"text-[10px] text-gray-300\">‚Ä¢</span>\r\n                                                <p className=\"text-[10px] text-gray-400 font-bold uppercase\">\r\n                                                    {news.views?.length || 0} {news.views?.length === 1 ? t('news.reader') : t('news.readers')}\r\n                                                </p>                                           </div>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            ) : (\r\n                                <div className=\"py-6 text-center\">\r\n                                    <p className=\"text-2xl mb-2\">üóûÔ∏è</p>\r\n                                    <p className=\"text-xs font-bold text-gray-400 uppercase tracking-tight\">{t('news.no_updates')}</p>\r\n                                    <button\r\n                                        onClick={() => setIsPrefModalOpen(true)}\r\n                                        className=\"text-[10px] text-blue-600 font-black uppercase mt-2 hover:underline\"\r\n                                    >\r\n                                        {t('news.edit_prefs')}\r\n                                    </button>\r\n                                </div>)}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={() => setIsPrefModalOpen(true)}\r\n                        className=\"w-full mt-4 py-3 bg-white border border-gray-100 rounded-xl text-[10px] font-black uppercase text-blue-600 hover:bg-blue-50 transition\"\r\n                    >\r\n                        ‚öôÔ∏è {t('sidebar.update_prefs')}\r\n                    </button>\r\n\r\n                    {/* Sponsored Section */}\r\n                    {sidebarAd && <AdCard ad={sidebarAd} variant=\"sidebar\" />}\r\n                </div>\r\n            </main>\r\n\r\n            {/* Preferences Modal */}\r\n            {isPrefModalOpen && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200\">\r\n                        <div className=\"p-8 border-b flex justify-between items-center bg-gray-50\">\r\n                            <div>\r\n                                <h2 className=\"text-xl font-black text-gray-900 uppercase tracking-tight\">{t('news.prefs_title')}</h2>\r\n                                <p className=\"text-[10px] text-gray-400 font-bold uppercase mt-1\">{t('news.prefs_desc')}</p>\r\n                            </div>\r\n                            <button onClick={() => setIsPrefModalOpen(false)} className=\"text-gray-400 hover:text-gray-600 text-xl\">‚úï</button>\r\n                        </div>\r\n                        <div className=\"p-8 space-y-6\">\r\n                            <div className=\"space-y-4\">\r\n                                <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Select Your Target Exams</label>\r\n                                <div className=\"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar\">\r\n                                    {allExams.map(exam => (\r\n                                        <label key={exam._id} className={`flex items-center gap-3 p-3 border rounded-xl cursor-pointer transition ${selectedExams.includes(exam._id) ? 'bg-blue-50 border-blue-200' : 'hover:bg-gray-50'}`}>\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={selectedExams.includes(exam._id)}\r\n                                                onChange={(e) => {\r\n                                                    if (e.target.checked) {\r\n                                                        if (selectedExams.length >= 5) return alert('Maximum 5 exams allowed');\r\n                                                        setSelectedExams([...selectedExams, exam._id]);\r\n                                                    }\r\n                                                    else setSelectedExams(selectedExams.filter(id => id !== exam._id));\r\n                                                }}\r\n                                                className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\r\n                                            />\r\n                                            <span className=\"text-xs font-bold text-gray-700\">{exam.name}</span>\r\n                                        </label>\r\n                                    ))}\r\n                                </div>\r\n                                <p className=\"text-[10px] text-gray-400 italic\">You will receive notifications for selected exams.</p>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-4\">\r\n                                <button\r\n                                    onClick={handleSavePrefs}\r\n                                    className=\"flex-1 px-6 py-4 bg-blue-700 text-white rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-black transition-all shadow-xl shadow-blue-500/20\"\r\n                                >\r\n                                    {t('news.save_prefs')}\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setIsPrefModalOpen(false)}\r\n                                    className=\"px-6 py-4 bg-gray-100 text-gray-600 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-gray-200\"\r\n                                >\r\n                                    {t('common.cancel')}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Detailed News Modal */}\r\n            {selectedNews && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200\">\r\n                        <div className=\"p-8 border-b flex justify-between items-start bg-gray-50\">\r\n                            <div className=\"space-y-2\">\r\n                                <div className=\"flex gap-2\">\r\n                                    {selectedNews.hashtags?.map((tag: string, i: number) => (\r\n                                        <span key={i} className=\"text-[10px] font-black text-blue-600 uppercase tracking-widest bg-blue-50 px-2 py-1 rounded-lg\">\r\n                                            {tag}\r\n                                        </span>\r\n                                    ))}\r\n                                </div>\r\n                                <h2 className=\"text-2xl font-black text-gray-900 leading-tight uppercase tracking-tight\">\r\n                                    {selectedNews.title}\r\n                                </h2>\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <p className=\"text-xs text-gray-400 font-bold uppercase\">{timeAgo(selectedNews.createdAt)}</p>\r\n                                    <span className=\"text-gray-300\">‚Ä¢</span>\r\n                                    <p className=\"text-xs text-gray-400 font-bold uppercase\">{selectedNews.views?.length || 0} {selectedNews.views?.length === 1 ? t('news.reader') : t('news.readers')}</p>\r\n                                </div>\r\n                            </div>\r\n                            <button onClick={() => setSelectedNews(null)} className=\"text-gray-400 hover:text-gray-600 text-2xl p-2 bg-white rounded-full shadow-sm\">‚úï</button>\r\n                        </div>\r\n                        <div className=\"p-8\">\r\n                            <div className=\"prose prose-blue max-w-none text-gray-700 font-medium whitespace-pre-line leading-relaxed text-lg\">\r\n                                {renderDescription(selectedNews.description)}\r\n                            </div>\r\n                            <div className=\"mt-10 pt-8 border-t border-gray-100 flex justify-between items-center\">\r\n                                <p className=\"text-[10px] font-black text-gray-300 uppercase tracking-widest\">{t('news.official_update')}</p>\r\n                                <button\r\n                                    onClick={() => setSelectedNews(null)}\r\n                                    className=\"px-8 py-3 bg-blue-700 text-white rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-black transition-all shadow-xl shadow-blue-500/20\"\r\n                                >\r\n                                    {t('news.close')}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\forgot-password\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'router' is assigned a value but never used.","line":15,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":38,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":38,"endColumn":21}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\nexport default function ForgotPassword() {\r\n    const { t } = useLanguage();\r\n    const [email, setEmail] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [emailSent, setEmailSent] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n        setMessage('');\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/auth/forgot-password', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email })\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                setMessage(data.message);\r\n                setEmailSent(true);\r\n            } else {\r\n                setError(data.message || t('auth.conn_failed'));\r\n            }\r\n        } catch (err) {\r\n            setError(t('auth.conn_failed'));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-md\">\r\n                {/* Logo */}\r\n                <div className=\"text-center mb-8\">\r\n                    <Link href=\"/\" className=\"text-4xl font-black text-blue-700 hover:text-blue-800 transition-colors\">\r\n                        SarkariMinds\r\n                    </Link>\r\n                    <p className=\"text-sm text-gray-600 mt-2 font-medium\">{t('hero.subtitle')}</p>\r\n                </div>\r\n\r\n                {/* Card */}\r\n                <div className=\"bg-white rounded-2xl shadow-xl border border-gray-200 p-8\">\r\n                    {!emailSent ? (\r\n                        <>\r\n                            <div className=\"text-center mb-6\">\r\n                                <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                                    <span className=\"text-3xl\">üîê</span>\r\n                                </div>\r\n                                <h2 className=\"text-2xl font-black text-gray-900 mb-2\">{t('auth.forgot_pass_title')}</h2>\r\n                                <p className=\"text-sm text-gray-600\">\r\n                                    {t('auth.forgot_pass_desc')}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                                        {t('auth.email_label')}\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                        required\r\n                                        placeholder={t('auth.id_placeholder')}\r\n                                        className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\r\n                                    />\r\n                                </div>\r\n\r\n                                {error && (\r\n                                    <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\">\r\n                                        {error}\r\n                                    </div>\r\n                                )}\r\n\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={loading}\r\n                                    className=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-bold py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg active:scale-95\"\r\n                                >\r\n                                    {loading ? (\r\n                                        <span className=\"flex items-center justify-center\">\r\n                                            <svg className=\"animate-spin h-5 w-5 mr-2\" viewBox=\"0 0 24 24\">\r\n                                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\r\n                                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                                            </svg>\r\n                                            {t('auth.processing')}\r\n                                        </span>\r\n                                    ) : (\r\n                                        t('auth.send_reset_link')\r\n                                    )}\r\n                                </button>\r\n                            </form>\r\n\r\n                            <div className=\"mt-6 text-center\">\r\n                                <Link\r\n                                    href=\"/login\"\r\n                                    className=\"text-sm font-bold text-blue-600 hover:text-blue-700 transition-colors\"\r\n                                >\r\n                                    ‚Üê {t('auth.back_to_login')}\r\n                                </Link>\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"text-center\">\r\n                            <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                                <span className=\"text-4xl\">‚úâÔ∏è</span>\r\n                            </div>\r\n                            <h2 className=\"text-2xl font-black text-gray-900 mb-3\">{t('auth.check_email')}</h2>\r\n                            <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm mb-6\">\r\n                                {message}\r\n                            </div>\r\n                            <p className=\"text-sm text-gray-600 mb-6\">\r\n                                {t('auth.reset_link_sent')} <strong>{email}</strong>\r\n                            </p>\r\n                            <div className=\"space-y-3\">\r\n                                <button\r\n                                    onClick={() => {\r\n                                        setEmailSent(false);\r\n                                        setEmail('');\r\n                                        setMessage('');\r\n                                    }}\r\n                                    className=\"w-full bg-gray-100 text-gray-700 font-bold py-3 rounded-lg hover:bg-gray-200 transition-all\"\r\n                                >\r\n                                    {t('auth.try_another_email')}\r\n                                </button>\r\n                                <Link\r\n                                    href=\"/login\"\r\n                                    className=\"block w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-all text-center\"\r\n                                >\r\n                                    {t('auth.back_to_login')}\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"text-center mt-6\">\r\n                    <p className=\"text-xs text-gray-500\">\r\n                        {t('auth.need_help')} <Link href=\"/support\" className=\"text-blue-600 hover:text-blue-700 font-bold\">{t('auth.contact_support')}</Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\job-updates\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'t' is assigned a value but never used.","line":24,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":14},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchJobDetails'. Either include it or remove the dependency array.","line":33,"column":8,"nodeType":"ArrayExpression","endLine":33,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchJobDetails, id]","fix":{"range":[923,927],"text":"[fetchJobDetails, id]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useParams } from 'next/navigation';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { formatDistanceToNow } from 'date-fns';\r\n\r\ninterface JobUpdate {\r\n    _id: string;\r\n    title: string;\r\n    organization: string;\r\n    description: string;\r\n    eligibility: string;\r\n    location: string;\r\n    hashtags: string[];\r\n    applicationLink?: string;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function JobDetailsPage() {\r\n    const { id } = useParams();\r\n    const { t } = useLanguage();\r\n    const [job, setJob] = useState<JobUpdate | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            fetchJobDetails();\r\n        }\r\n    }, [id]);\r\n\r\n    const fetchJobDetails = async () => {\r\n        try {\r\n            // Using relative path to avoid localhost issues if deployed, \r\n            // but for now, we know it's port 5000 based on previous files.\r\n            const res = await fetch(`http://localhost:5000/api/jobs/${id}`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setJob(data);\r\n            } else {\r\n                setError('Job not found');\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            setError('Failed to load job details');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleApply = () => {\r\n        if (job?.applicationLink) {\r\n            window.open(job.applicationLink, '_blank');\r\n        } else {\r\n            alert('No application link provided for this job. Please check the description for details.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 min-w-0\">\r\n                    {loading ? (\r\n                        <div className=\"bg-white rounded-2xl p-12 text-center shadow-sm\">\r\n                            <span className=\"animate-spin text-3xl inline-block\">‚è≥</span>\r\n                            <p className=\"mt-2 text-gray-500 font-bold uppercase text-xs tracking-widest\">Loading Job Details...</p>\r\n                        </div>\r\n                    ) : error ? (\r\n                        <div className=\"bg-white rounded-2xl p-12 text-center shadow-sm\">\r\n                            <span className=\"text-4xl\">‚ö†Ô∏è</span>\r\n                            <h2 className=\"mt-4 text-xl font-black text-gray-900\">{error}</h2>\r\n                            <p className=\"text-gray-500 mt-2\">The job post you are looking for might have been removed or the ID is invalid.</p>\r\n                        </div>\r\n                    ) : job ? (\r\n                        <div className=\"space-y-6\">\r\n                            {/* Header Card */}\r\n                            <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 relative overflow-hidden transition-all hover:shadow-md\">\r\n                                <div className=\"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-bl-[100px] -mr-16 -mt-16 z-0\"></div>\r\n                                <div className=\"relative z-10\">\r\n                                    <div className=\"flex items-start justify-between\">\r\n                                        <div className=\"w-full\">\r\n                                            <div className=\"flex items-center gap-2 mb-3\">\r\n                                                <span className=\"inline-block px-3 py-1 bg-blue-600 text-white rounded-lg text-[10px] font-black uppercase tracking-widest\">\r\n                                                    Official Update\r\n                                                </span>\r\n                                                <span className=\"text-blue-700 font-black text-xs uppercase tracking-tighter\">\r\n                                                    {job.organization}\r\n                                                </span>\r\n                                            </div>\r\n                                            <h1 className=\"text-3xl md:text-5xl font-black text-gray-900 tracking-tight leading-tight mb-4\">\r\n                                                {job.title}\r\n                                            </h1>\r\n                                            <div className=\"flex flex-wrap items-center gap-6 text-[10px] text-gray-500 font-black uppercase tracking-widest border-t border-gray-50 pt-4\">\r\n                                                <span className=\"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-full\">\r\n                                                    üìç {job.location || 'Remote / Across India'}\r\n                                                </span>\r\n                                                <span className=\"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-full\">\r\n                                                    üìÖ Posted {formatDistanceToNow(new Date(job.createdAt))} ago\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Main Content Grid */}\r\n                            <div className=\"grid grid-cols-1 gap-6\">\r\n                                {/* Eligibility Section */}\r\n                                {job.eligibility && (\r\n                                    <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100\">\r\n                                        <div className=\"flex items-center gap-3 mb-6\">\r\n                                            <div className=\"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-xl\">üéì</div>\r\n                                            <h3 className=\"text-sm font-black text-gray-900 uppercase tracking-widest\">Eligibility Criteria</h3>\r\n                                        </div>\r\n                                        <div className=\"bg-blue-50/30 rounded-2xl p-6 border border-blue-100/50\">\r\n                                            <p className=\"text-gray-800 font-bold text-sm whitespace-pre-wrap leading-relaxed\">\r\n                                                {job.eligibility}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Description Section */}\r\n                                <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100\">\r\n                                    <div className=\"flex items-center gap-3 mb-6\">\r\n                                        <div className=\"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center text-xl\">üìù</div>\r\n                                        <h3 className=\"text-sm font-black text-gray-900 uppercase tracking-widest\">Full Job Description</h3>\r\n                                    </div>\r\n                                    <div className=\"prose max-w-none text-gray-700 whitespace-pre-wrap leading-relaxed font-medium text-base\">\r\n                                        {job.description}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Hashtags / Exam Tags */}\r\n                                {job.hashtags && job.hashtags.length > 0 && (\r\n                                    <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100\">\r\n                                        <h3 className=\"text-sm font-black text-gray-400 uppercase tracking-widest mb-6\">Related Exams</h3>\r\n                                        <div className=\"flex flex-wrap gap-3\">\r\n                                            {job.hashtags.map((tag, i) => (\r\n                                                <span key={i} className=\"px-5 py-2.5 bg-gray-50 hover:bg-blue-50 hover:text-blue-700 transition-colors rounded-xl border border-gray-100 text-gray-600 font-black text-[10px] uppercase tracking-widest cursor-default\">\r\n                                                    #{tag.replace(/#/g, '')}\r\n                                                </span>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Action Footer */}\r\n                            <div className=\"bg-blue-900 rounded-2xl p-8 shadow-lg text-white flex flex-col md:flex-row items-center justify-between gap-6\">\r\n                                <div>\r\n                                    <h4 className=\"text-xl font-black tracking-tight\">Interested in this opportunity?</h4>\r\n                                    <p className=\"text-blue-200 text-xs font-bold uppercase tracking-widest mt-1\">Check official notification for application details</p>\r\n                                </div>\r\n                                <button\r\n                                    onClick={handleApply}\r\n                                    className=\"bg-white text-blue-900 px-8 py-4 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-blue-50 transition-colors shadow-xl\"\r\n                                >\r\n                                    Apply Now\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ) : null}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\job-updates\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":73,"column":81,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3198,3263],"text":"We&apos;ll notify you as soon as new job updates are posted by admins."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3198,3263],"text":"We&lsquo;ll notify you as soon as new job updates are posted by admins."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3198,3263],"text":"We&#39;ll notify you as soon as new job updates are posted by admins."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3198,3263],"text":"We&rsquo;ll notify you as soon as new job updates are posted by admins."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport Link from 'next/link';\r\nimport { formatDistanceToNow } from 'date-fns';\r\n\r\ninterface JobUpdate {\r\n    _id: string;\r\n    title: string;\r\n    organization: string;\r\n    description: string;\r\n    eligibility: string;\r\n    location: string;\r\n    hashtags: string[];\r\n    createdAt: string;\r\n}\r\n\r\nexport default function JobUpdatesPage() {\r\n    const [jobs, setJobs] = useState<JobUpdate[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchJobs = async () => {\r\n            try {\r\n                const res = await fetch('http://localhost:5000/api/jobs');\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n                    setJobs(data);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching jobs:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchJobs();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <div className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                {/* Desktop Sidebar */}\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                {/* Main Content */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 flex items-center justify-between\">\r\n                            <div>\r\n                                <h1 className=\"text-2xl md:text-3xl font-black text-gray-900 tracking-tight uppercase\">Latest Job Updates</h1>\r\n                                <p className=\"text-gray-500 font-bold text-xs uppercase tracking-widest mt-1\">Found {jobs.length} opportunities matching Karnataka exams</p>\r\n                            </div>\r\n                            <div className=\"w-12 h-12 bg-blue-50 rounded-2xl flex items-center justify-center text-2xl shadow-inner\">\r\n                                üíº\r\n                            </div>\r\n                        </div>\r\n\r\n                        {loading ? (\r\n                            <div className=\"bg-white rounded-2xl p-12 text-center shadow-sm\">\r\n                                <span className=\"animate-spin text-3xl inline-block\">‚è≥</span>\r\n                                <p className=\"mt-2 text-gray-500 font-black uppercase text-xs tracking-widest\">Loading latest updates...</p>\r\n                            </div>\r\n                        ) : jobs.length === 0 ? (\r\n                            <div className=\"bg-white rounded-2xl p-20 text-center shadow-sm\">\r\n                                <span className=\"text-6xl mb-4 block\">üì≠</span>\r\n                                <h2 className=\"text-xl font-black text-gray-900 uppercase\">No Jobs Found</h2>\r\n                                <p className=\"text-gray-500 mt-2 font-medium\">We'll notify you as soon as new job updates are posted by admins.</p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"grid grid-cols-1 gap-4\">\r\n                                {jobs.map((job) => (\r\n                                    <Link\r\n                                        key={job._id}\r\n                                        href={`/job-updates/${job._id}`}\r\n                                        className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md hover:border-blue-200 transition-all group relative overflow-hidden\"\r\n                                    >\r\n                                        <div className=\"absolute top-0 right-0 w-24 h-24 bg-blue-50 rounded-bl-full -mr-12 -mt-12 group-hover:bg-blue-100 transition-colors z-0\"></div>\r\n\r\n                                        <div className=\"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"flex items-center gap-2 mb-2\">\r\n                                                    <span className=\"text-[10px] font-black text-blue-700 uppercase tracking-tighter\">\r\n                                                        {job.organization}\r\n                                                    </span>\r\n                                                    <span className=\"w-1 h-1 bg-gray-300 rounded-full\"></span>\r\n                                                    <span className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest\">\r\n                                                        {formatDistanceToNow(new Date(job.createdAt))} ago\r\n                                                    </span>\r\n                                                </div>\r\n                                                <h2 className=\"text-xl font-black text-gray-900 group-hover:text-blue-800 transition-colors leading-tight mb-2 uppercase tracking-tight\">\r\n                                                    {job.title}\r\n                                                </h2>\r\n                                                <div className=\"flex flex-wrap gap-2 mt-3\">\r\n                                                    {job.hashtags && job.hashtags.slice(0, 3).map((tag, i) => (\r\n                                                        <span key={i} className=\"px-3 py-1 bg-gray-50 text-gray-500 rounded-lg text-[9px] font-black uppercase tracking-widest border border-gray-100 group-hover:bg-white transition-colors\">\r\n                                                            #{tag.replace(/#/g, '')}\r\n                                                        </span>\r\n                                                    ))}\r\n                                                    {job.hashtags && job.hashtags.length > 3 && (\r\n                                                        <span className=\"text-[9px] text-gray-400 font-bold my-auto ml-1\">\r\n                                                            +{job.hashtags.length - 3} more\r\n                                                        </span>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"shrink-0 flex items-center md:flex-col gap-3 md:gap-1 text-right\">\r\n                                                <div className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 md:block hidden\">Location</div>\r\n                                                <span className=\"px-4 py-2 bg-blue-50 text-blue-700 rounded-xl text-[10px] font-black uppercase tracking-widest group-hover:bg-blue-600 group-hover:text-white transition-all shadow-sm\">\r\n                                                    {job.location || 'Remote'}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Link>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":40,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":40,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { FiMail, FiLock, FiArrowRight } from 'react-icons/fi';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\nexport default function LoginPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const { login, user, loading } = useAuth();\r\n    const { t } = useLanguage();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && user) {\r\n            router.push('/feed');\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/auth/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email, password })\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                login(data);\r\n                router.push('/feed');\r\n            } else {\r\n                setError(data.message || t('auth.invalid_login'));\r\n            }\r\n        } catch (err) {\r\n            setError(t('auth.conn_failed'));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF] flex items-center justify-center p-6 relative overflow-hidden\">\r\n            {/* Background Decorations */}\r\n            <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none\">\r\n                <div className=\"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-blue-100/30 blur-3xl\"></div>\r\n                <div className=\"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-indigo-100/30 blur-3xl opacity-70\"></div>\r\n            </div>\r\n\r\n            <div className=\"max-w-md w-full bg-white rounded-[3rem] shadow-2xl p-10 md:p-12 border border-gray-100 z-10 relative\">\r\n                <div className=\"text-center mb-10\">\r\n                    <h1 className=\"text-4xl font-black text-[#1a237e] tracking-tighter uppercase mb-2\">SarkariMinds</h1>\r\n                    <p className=\"text-gray-400 font-bold uppercase tracking-widest text-[10px]\">{t('auth.login_portal')}</p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-50 text-red-600 p-4 rounded-2xl mb-8 text-xs font-bold text-center border border-red-100 flex items-center justify-center gap-2 animate-in fade-in slide-in-from-top-2 duration-300\">\r\n                        <span>‚ö†Ô∏è</span> {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    <div className=\"space-y-1.5\">\r\n                        <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">{t('auth.email_label')}</label>\r\n                        <div className=\"relative group\">\r\n                            <FiMail className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#1a237e] transition-colors\" />\r\n                            <input\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 pl-11 pr-4 py-4 rounded-2xl focus:outline-none focus:border-[#1a237e] focus:bg-white transition-all font-bold text-gray-700 placeholder:text-gray-300\"\r\n                                placeholder={t('auth.id_placeholder')}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-1.5\">\r\n                        <div className=\"flex justify-between items-center px-1\">\r\n                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('auth.pass_label')}</label>\r\n                            <Link href=\"/forgot-password\" title=\"Forgot Password\" className=\"text-[10px] font-black text-[#1a237e] uppercase tracking-widest hover:underline underline-offset-4\">{t('auth.forgot_link')}</Link>\r\n                        </div>\r\n                        <div className=\"relative group\">\r\n                            <FiLock className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#1a237e] transition-colors\" />\r\n                            <input\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 pl-11 pr-4 py-4 rounded-2xl focus:outline-none focus:border-[#1a237e] focus:bg-white transition-all font-bold text-gray-700 placeholder:text-gray-300\"\r\n                                placeholder={t('auth.password_placeholder')}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full bg-[#1a237e] hover:bg-black text-white font-black py-5 rounded-2xl transition-all shadow-xl shadow-blue-900/20 uppercase tracking-widest flex items-center justify-center gap-2 group mt-4 active:scale-95 disabled:opacity-50\"\r\n                    >\r\n                        {loading ? t('auth.entering') : (\r\n                            <>\r\n                                {t('auth.signin_btn')}\r\n                                <FiArrowRight className=\"group-hover:translate-x-1 transition-transform\" />\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-12 pt-10 border-t border-gray-50 text-center\">\r\n                    <p className=\"text-gray-400 font-bold text-xs uppercase tracking-tight\">\r\n                        {t('auth.new_community')}{' '}\r\n                        <Link href=\"/signup\" title=\"Create Account\" className=\"text-[#1a237e] font-black hover:underline uppercase tracking-widest ml-1 transition-colors\">{t('nav.join_now')}</Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\mentor-dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[479,482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[479,482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[533,536],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[533,536],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'loading' is assigned a value but never used.","line":15,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchGroups', 'fetchStats', and 'refreshUserProfile'. Either include them or remove the dependency array.","line":38,"column":8,"nodeType":"ArrayExpression","endLine":38,"endColumn":35,"suggestions":[{"desc":"Update the dependencies array to be: [user, authLoading, router, fetchStats, fetchGroups, refreshUserProfile]","fix":{"range":[1510,1537],"text":"[user, authLoading, router, fetchStats, fetchGroups, refreshUserProfile]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":237,"column":94,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[12518,12558],"text":"You haven&apos;t created any paid groups yet."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[12518,12558],"text":"You haven&lsquo;t created any paid groups yet."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[12518,12558],"text":"You haven&#39;t created any paid groups yet."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[12518,12558],"text":"You haven&rsquo;t created any paid groups yet."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function MentorDashboard() {\r\n    const { user, updateUser, loading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n    const [stats, setStats] = useState<any>(null);\r\n    const [groups, setGroups] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showSettings, setShowSettings] = useState(false);\r\n    const [showCreateGroup, setShowCreateGroup] = useState(false);\r\n    const [settings, setSettings] = useState({ enabled: false, price: 0 });\r\n    const [newGroup, setNewGroup] = useState({ name: '', description: '', price: 0, maxMembers: 50, examCategory: '' });\r\n    const [qrFile, setQrFile] = useState<File | null>(null);\r\n    const hasRefreshed = useRef(false);\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login');\r\n            return;\r\n        }\r\n        if (user && user.role !== 'mentor' && user.role !== 'admin') {\r\n            router.push('/feed');\r\n        } else if (user) {\r\n            if (!hasRefreshed.current) {\r\n                refreshUserProfile();\r\n                hasRefreshed.current = true;\r\n            }\r\n            fetchStats();\r\n            fetchGroups();\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    const refreshUserProfile = async () => {\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/profile', {\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                updateUser(data);\r\n            }\r\n        } catch (err) { console.error('Failed to refresh profile:', err); }\r\n    };\r\n\r\n    const fetchStats = async () => {\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/mentor/stats', {\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setStats(data);\r\n                // Pre-fill settings if available (assuming user object has them or separate call)\r\n                if (user.mentorshipPrice) setSettings({ enabled: user.mentorshipEnabled || false, price: user.mentorshipPrice });\r\n            }\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    const fetchGroups = async () => {\r\n        if (!user) return;\r\n        try {\r\n            // Reusing getMentorGroups but filtering for my own ID\r\n            if (!user._id) return;\r\n            const res = await fetch(`http://localhost:5000/api/groups/mentor/${user._id}`, {\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setGroups(data);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleCreateGroup = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!user) return;\r\n        setLoading(true);\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('name', newGroup.name);\r\n            formData.append('description', newGroup.description);\r\n            formData.append('price', newGroup.price.toString());\r\n            formData.append('maxMembers', newGroup.maxMembers.toString());\r\n            formData.append('examCategory', newGroup.examCategory);\r\n            if (qrFile) formData.append('paymentQrImage', qrFile);\r\n\r\n            const res = await fetch('http://localhost:5000/api/groups', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${user.token}`\r\n                },\r\n                body: formData\r\n            });\r\n            if (res.ok) {\r\n                alert('Group created successfully! Aspirants can now join.');\r\n                setShowCreateGroup(false);\r\n                fetchGroups();\r\n                setNewGroup({ name: '', description: '', price: 0, maxMembers: 50, examCategory: '' });\r\n                setQrFile(null);\r\n            } else {\r\n                const err = await res.json();\r\n                alert(`Failed to create group: ${err.message}`);\r\n            }\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    const handleUpdateSettings = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/mentor/settings', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user.token}`\r\n                },\r\n                body: JSON.stringify(settings)\r\n            });\r\n            if (res.ok) {\r\n                alert('Settings updated successfully');\r\n                setShowSettings(false);\r\n                fetchStats(); // Refresh to ensure backend sync\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleDeleteGroup = async (groupId: string) => {\r\n        if (!user) return;\r\n        if (!confirm('Are you sure you want to delete this community? All posts and memberships will be removed.')) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${groupId}`, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n            if (res.ok) {\r\n                alert('Community deleted successfully');\r\n                fetchGroups();\r\n            } else {\r\n                const err = await res.json();\r\n                alert(err.message);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 space-y-6\">\r\n                    <header className=\"bg-white p-8 rounded-[2.5rem] border shadow-sm flex flex-col md:flex-row justify-between items-center gap-4\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <span className=\"text-4xl\">üéì</span>\r\n                            <div>\r\n                                <h1 className=\"text-3xl font-black text-gray-900 uppercase tracking-tight\">Mentor Dashboard</h1>\r\n                                <p className=\"text-gray-500 font-bold uppercase tracking-widest text-xs\">Manage your community & earnings</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col items-end gap-2\">\r\n                            <button\r\n                                onClick={() => user?.isVerified ? setShowCreateGroup(true) : alert('Your mentor account is still pending admin verification. Once verified, you can create paid groups.')}\r\n                                className={`${user?.isVerified ? 'bg-black hover:bg-gray-800' : 'bg-gray-400 cursor-not-allowed'} text-white px-6 py-3 rounded-xl font-black uppercase text-xs tracking-widest transition-all shadow-lg flex items-center gap-2`}\r\n                            >\r\n                                <span>+</span> Create Private Group\r\n                            </button>\r\n                            {!user?.isVerified && (\r\n                                <span className=\"text-[10px] text-amber-600 font-black uppercase tracking-widest animate-pulse\">\r\n                                    ‚ö†Ô∏è Verification Pending\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </header>\r\n\r\n                    {/* Stats Grid */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                        <div className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm\">\r\n                            <h3 className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1\">Total Members</h3>\r\n                            <p className=\"text-3xl font-black text-blue-900\">{groups.reduce((acc, g) => acc + (g.memberCount || 0), 0)}</p>\r\n                        </div>\r\n                        <div className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm\">\r\n                            <h3 className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1\">Active Groups</h3>\r\n                            <p className=\"text-3xl font-black text-blue-900\">{groups.length}</p>\r\n                        </div>\r\n                        <div className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm\">\r\n                            <h3 className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1\">Post Reach</h3>\r\n                            <p className=\"text-3xl font-black text-blue-900\">{stats?.postReach || 0}</p>\r\n                        </div>\r\n                        <div className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm\">\r\n                            <h3 className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1\">Earnings</h3>\r\n                            <p className=\"text-3xl font-black text-green-600\">‚Çπ{stats?.earnings || 0}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Groups List */}\r\n                    <div className=\"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm\">\r\n                        <h3 className=\"text-sm font-black text-gray-900 uppercase tracking-widest mb-6\">Your Private Groups</h3>\r\n                        {groups.length > 0 ? (\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                {groups.map(group => (\r\n                                    <div key={group._id} className=\"border rounded-2xl p-6 hover:shadow-md transition\">\r\n                                        <div className=\"flex justify-between items-start mb-2\">\r\n                                            <h4 className=\"font-bold text-gray-900 text-lg\">{group.name}</h4>\r\n                                            <span className=\"bg-green-100 text-green-800 text-[10px] px-2 py-1 rounded-full font-black uppercase\">‚Çπ{group.price}/mo</span>\r\n                                        </div>\r\n                                        <p className=\"text-xs text-gray-500 mb-4 line-clamp-2\">{group.description}</p>\r\n                                        <div className=\"flex justify-between items-center text-[10px] font-bold text-gray-400 uppercase tracking-wider\">\r\n                                            <span>{group.memberCount} / {group.maxMembers} Members</span>\r\n                                            <div className=\"flex items-center gap-4\">\r\n                                                <button\r\n                                                    onClick={(e) => { e.stopPropagation(); handleDeleteGroup(group._id); }}\r\n                                                    className=\"text-red-400 hover:text-red-600 transition-colors\"\r\n                                                >\r\n                                                    üóëÔ∏è\r\n                                                </button>\r\n                                                <span className={`font-bold ${group.status === 'active' ? 'text-green-500' : 'text-red-500'}`}>{group.status}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"text-center py-10 bg-gray-50 rounded-2xl border border-dashed border-gray-300\">\r\n                                <p className=\"text-sm text-gray-400 font-bold mb-2\">You haven't created any paid groups yet.</p>\r\n                                <button onClick={() => setShowCreateGroup(true)} className=\"text-blue-600 text-xs font-black uppercase tracking-widest hover:underline\">Start a Community</button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Quick Actions & Sessions */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div className=\"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-3xl p-8 text-white relative overflow-hidden group cursor-pointer hover:shadow-xl transition-all\">\r\n                            <div className=\"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform text-9xl\">‚úçÔ∏è</div>\r\n                            <h3 className=\"text-xl font-black uppercase tracking-tight mb-2 relative z-10\">Post Mentor Insight</h3>\r\n                            <p className=\"text-xs font-medium opacity-80 mb-6 relative z-10\">Share expert tips and guidance. Highlighted in feed.</p>\r\n                            <Link href=\"/feed\" className=\"inline-block bg-white text-violet-700 px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-black hover:text-white transition-all\">Go to Feed</Link>\r\n                        </div>\r\n\r\n                        <div\r\n                            onClick={() => setShowSettings(true)}\r\n                            className=\"bg-white border border-gray-100 rounded-3xl p-8 group cursor-pointer hover:border-violet-200 hover:shadow-xl transition-all relative overflow-hidden\"\r\n                        >\r\n                            <div className=\"absolute top-0 right-0 p-8 opacity-10 grayscale group-hover:grayscale-0 transition-all text-9xl\">üí∞</div>\r\n                            <h3 className=\"text-xl font-black text-gray-900 uppercase tracking-tight mb-2\">Paid Mentorship</h3>\r\n                            <p className=\"text-xs text-gray-500 font-medium mb-6\">Set your hourly rates and availability slots.</p>\r\n                            <button className=\"bg-gray-100 text-gray-900 px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest group-hover:bg-violet-600 group-hover:text-white transition-all\">Manage Settings</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-8 rounded-3xl border border-gray-100\">\r\n                        <h3 className=\"text-sm font-black text-gray-900 uppercase tracking-widest mb-6\">Upcoming Sessions</h3>\r\n                        {(stats?.pendingBookings || 0) > 0 ? (\r\n                            <div className=\"p-4 bg-green-50 rounded-2xl border border-green-100\">\r\n                                <p className=\"text-green-800 font-bold text-sm\">You have {stats.pendingBookings} upcoming session(s)! check your calendar.</p>\r\n                            </div>\r\n                        ) : (\r\n                            <p className=\"text-gray-400 text-sm italic\">No upcoming sessions booked.</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            {/* Create Group Modal */}\r\n            {showCreateGroup && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-lg p-8 shadow-2xl overflow-y-auto max-h-[90vh]\">\r\n                        <h2 className=\"text-xl font-black text-gray-900 uppercase tracking-tight mb-1\">Create Private Group</h2>\r\n                        <p className=\"text-xs text-gray-400 font-bold uppercase tracking-widest mb-6\">Launch a paid study circle</p>\r\n\r\n                        <form onSubmit={handleCreateGroup} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Group Name</label>\r\n                                <input type=\"text\" required className=\"w-full bg-gray-50 border rounded-xl p-3 font-bold text-sm outline-none focus:border-blue-600\"\r\n                                    value={newGroup.name} onChange={e => setNewGroup({ ...newGroup, name: e.target.value })} />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Description</label>\r\n                                <textarea required rows={3} className=\"w-full bg-gray-50 border rounded-xl p-3 font-medium text-sm outline-none focus:border-blue-600 resize-none\"\r\n                                    value={newGroup.description} onChange={e => setNewGroup({ ...newGroup, description: e.target.value })} />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Price (‚Çπ)</label>\r\n                                    <input type=\"number\" required className=\"w-full bg-gray-50 border rounded-xl p-3 font-bold text-sm outline-none focus:border-blue-600\"\r\n                                        value={newGroup.price} onChange={e => setNewGroup({ ...newGroup, price: Number(e.target.value) })} />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Max Members</label>\r\n                                    <input type=\"number\" required className=\"w-full bg-gray-50 border rounded-xl p-3 font-bold text-sm outline-none focus:border-blue-600\"\r\n                                        value={newGroup.maxMembers} onChange={e => setNewGroup({ ...newGroup, maxMembers: Number(e.target.value) })} />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Exam Category</label>\r\n                                <select\r\n                                    required\r\n                                    className=\"w-full bg-gray-50 border rounded-xl p-3 font-bold text-sm outline-none focus:border-blue-600\"\r\n                                    value={newGroup.examCategory}\r\n                                    onChange={e => setNewGroup({ ...newGroup, examCategory: e.target.value })}\r\n                                >\r\n                                    <option value=\"\">Select Exam</option>\r\n                                    <option value=\"KAS\">KAS</option>\r\n                                    <option value=\"FDA\">FDA</option>\r\n                                    <option value=\"SDA\">SDA</option>\r\n                                    <option value=\"PSI\">PSI</option>\r\n                                    <option value=\"PDO\">PDO</option>\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Payment QR Code (Optional)</label>\r\n                                <div className=\"mt-1 flex items-center gap-4\">\r\n                                    <input type=\"file\" accept=\"image/*\" className=\"hidden\" id=\"qr-upload\"\r\n                                        onChange={e => setQrFile(e.target.files?.[0] || null)} />\r\n                                    <label htmlFor=\"qr-upload\" className=\"cursor-pointer bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-colors border-2 border-dashed border-gray-300\">\r\n                                        {qrFile ? qrFile.name : 'Select Image'}\r\n                                    </label>\r\n                                    {qrFile && <button type=\"button\" onClick={() => setQrFile(null)} className=\"text-red-500 text-[10px] font-black uppercase\">Remove</button>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-4 pt-4\">\r\n                                <button type=\"button\" onClick={() => setShowCreateGroup(false)} className=\"flex-1 bg-gray-100 text-gray-600 py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-200\">Cancel</button>\r\n                                <button type=\"submit\" className=\"flex-1 bg-black text-white py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-800 shadow-lg\">Launch Group</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Settings Modal */}\r\n            {showSettings && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-md p-8 shadow-2xl\">\r\n                        <h2 className=\"text-2xl font-black text-gray-900 uppercase tracking-tight mb-6\">Mentorship Settings</h2>\r\n                        <form onSubmit={handleUpdateSettings} className=\"space-y-6\">\r\n                            <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-2xl\">\r\n                                <span className=\"font-bold text-gray-700\">Enable Paid Mentorship</span>\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.enabled}\r\n                                    onChange={e => setSettings({ ...settings, enabled: e.target.checked })}\r\n                                    className=\"w-6 h-6 accent-violet-600\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2\">Price per Session (‚Çπ)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={settings.price}\r\n                                    onChange={e => setSettings({ ...settings, price: Number(e.target.value) })}\r\n                                    className=\"w-full bg-gray-50 border-2 border-transparent focus:border-violet-600 rounded-2xl p-4 font-bold text-xl outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex gap-4 pt-4\">\r\n                                <button type=\"button\" onClick={() => setShowSettings(false)} className=\"flex-1 bg-gray-100 text-gray-600 py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-200\">Cancel</button>\r\n                                <button type=\"submit\" className=\"flex-1 bg-violet-600 text-white py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-violet-700 shadow-lg\">Save</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\mentor\\group\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Link' is defined but never used.","line":8,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[265,294],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[515,518],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[515,518],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[567,570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[567,570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchGroupDetails', 'fetchMembers', and 'fetchPosts'. Either include them or remove the dependency array.","line":28,"column":8,"nodeType":"ArrayExpression","endLine":28,"endColumn":34,"suggestions":[{"desc":"Update the dependencies array to be: [user, groupId, activeTab, fetchGroupDetails, fetchPosts, fetchMembers]","fix":{"range":[988,1014],"text":"[user, groupId, activeTab, fetchGroupDetails, fetchPosts, fetchMembers]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2070,2073],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2070,2073],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":68,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2524,2527],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2524,2527],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":187,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":187,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8892,8895],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8892,8895],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":191,"column":79,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":152},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":191,"column":79,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":152},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":210,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":210,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10694,10697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10694,10697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function GroupManagement() {\r\n    const { user } = useAuth();\r\n    const router = useRouter();\r\n    const params = useParams();\r\n    const groupId = params.id;\r\n\r\n    const [group, setGroup] = useState<any>(null);\r\n    const [stats, setStats] = useState<any>({ members: [], posts: [] });\r\n    const [activeTab, setActiveTab] = useState('feed'); // 'feed' | 'members' | 'settings'\r\n    const [newPost, setNewPost] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (user && groupId) {\r\n            fetchGroupDetails();\r\n            fetchPosts();\r\n            if (activeTab === 'members') fetchMembers();\r\n        }\r\n    }, [user, groupId, activeTab]);\r\n\r\n    const fetchGroupDetails = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${groupId}`, {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                if (!data.isOwner) {\r\n                    alert('Unauthorized Access');\r\n                    router.push('/mentor-dashboard');\r\n                    return;\r\n                }\r\n                setGroup(data);\r\n            } else {\r\n                router.push('/mentor-dashboard');\r\n            }\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    const fetchPosts = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${groupId}/posts`, {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setStats((prev: any) => ({ ...prev, posts: data }));\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const fetchMembers = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${groupId}/members`, {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setStats((prev: any) => ({ ...prev, members: data }));\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleCreatePost = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!newPost.trim()) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${groupId}/posts`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({ content: newPost })\r\n            });\r\n            if (res.ok) {\r\n                setNewPost('');\r\n                fetchPosts();\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleRemoveMember = async (userId: string) => {\r\n        if (!confirm('Are you sure you want to remove this member?')) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${groupId}/members/${userId}`, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                fetchMembers(); // Refresh list\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleToggleStatus = async () => {\r\n        const newStatus = group.status === 'active' ? 'disabled' : 'active';\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${groupId}/status`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({ status: newStatus })\r\n            });\r\n            if (res.ok) {\r\n                setGroup({ ...group, status: newStatus });\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    if (!user || loading) return <div className=\"p-10 text-center\">Loading...</div>;\r\n    if (!group) return null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 space-y-6\">\r\n                    {/* Header */}\r\n                    <header className=\"bg-white p-8 rounded-[2rem] border shadow-sm\">\r\n                        <div className=\"flex justify-between items-start\">\r\n                            <div>\r\n                                <div className=\"flex items-center gap-3 mb-2\">\r\n                                    <h1 className=\"text-3xl font-black text-gray-900 uppercase tracking-tight\">{group.name}</h1>\r\n                                    <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase text-white ${group.status === 'active' ? 'bg-green-500' : 'bg-red-500'}`}>\r\n                                        {group.status}\r\n                                    </span>\r\n                                </div>\r\n                                <p className=\"text-gray-500 font-medium text-sm max-w-xl\">{group.description}</p>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <p className=\"text-3xl font-black text-blue-900\">{group.memberCount}</p>\r\n                                <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest\">Members</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Tabs */}\r\n                        <div className=\"flex gap-6 mt-8 border-b\">\r\n                            <button onClick={() => setActiveTab('feed')} className={`pb-4 text-xs font-black uppercase tracking-widest ${activeTab === 'feed' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-400'}`}>\r\n                                Group Feed\r\n                            </button>\r\n                            <button onClick={() => setActiveTab('members')} className={`pb-4 text-xs font-black uppercase tracking-widest ${activeTab === 'members' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-400'}`}>\r\n                                Members\r\n                            </button>\r\n                            <button onClick={() => setActiveTab('settings')} className={`pb-4 text-xs font-black uppercase tracking-widest ${activeTab === 'settings' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-400'}`}>\r\n                                Settings\r\n                            </button>\r\n                        </div>\r\n                    </header>\r\n\r\n                    {/* Tab Content */}\r\n                    <div className=\"space-y-6\">\r\n                        {activeTab === 'feed' && (\r\n                            <>\r\n                                <div className=\"bg-white p-6 rounded-2xl border shadow-sm\">\r\n                                    <form onSubmit={handleCreatePost}>\r\n                                        <textarea\r\n                                            value={newPost}\r\n                                            onChange={e => setNewPost(e.target.value)}\r\n                                            placeholder=\"Write an announcement or share a resource...\"\r\n                                            className=\"w-full bg-gray-50 border rounded-xl p-4 font-medium outline-none focus:ring-2 focus:ring-blue-100\"\r\n                                            rows={3}\r\n                                        />\r\n                                        <div className=\"flex justify-end mt-2\">\r\n                                            <button type=\"submit\" className=\"bg-black text-white px-6 py-2 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-800\">\r\n                                                Post\r\n                                            </button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                                <div className=\"space-y-4\">\r\n                                    {stats.posts.map((post: any) => (\r\n                                        <div key={post._id} className=\"bg-white p-6 rounded-2xl border shadow-sm\">\r\n                                            <div className=\"flex items-center gap-3 mb-3\">\r\n                                                <div className=\"w-8 h-8 bg-gray-200 rounded-full overflow-hidden\">\r\n                                                    {post.user?.profilePic && <img src={post.user.profilePic} className=\"w-full h-full object-cover\" />}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <h4 className=\"font-bold text-sm text-gray-900\">{post.user?.name}</h4>\r\n                                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase\">{new Date(post.createdAt).toLocaleDateString()}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p className=\"text-gray-800 font-medium whitespace-pre-line\">{post.content}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                    {stats.posts.length === 0 && <p className=\"text-center text-gray-400 italic py-10\">No messages yet.</p>}\r\n                                </div>\r\n                            </>\r\n                        )}\r\n\r\n                        {activeTab === 'members' && (\r\n                            <div className=\"bg-white rounded-2xl border shadow-sm overflow-hidden\">\r\n                                {stats.members.length > 0 ? (\r\n                                    <ul className=\"divide-y\">\r\n                                        {stats.members.map((m: any) => (\r\n                                            <li key={m._id} className=\"p-4 flex justify-between items-center hover:bg-gray-50\">\r\n                                                <div className=\"flex items-center gap-3\">\r\n                                                    <div className=\"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center font-bold text-blue-600\">\r\n                                                        {m.user?.name?.charAt(0)}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h4 className=\"font-bold text-sm text-gray-900\">{m.user?.name}</h4>\r\n                                                        <p className=\"text-[10px] text-gray-400 uppercase tracking-wide\">{m.user?.email}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <button\r\n                                                    onClick={() => handleRemoveMember(m.user?._id)}\r\n                                                    className=\"text-red-500 text-[10px] font-black uppercase tracking-widest hover:underline\"\r\n                                                >\r\n                                                    Remove\r\n                                                </button>\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                ) : (\r\n                                    <p className=\"p-10 text-center text-gray-400 italic\">No members found.</p>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'settings' && (\r\n                            <div className=\"bg-white p-8 rounded-2xl border shadow-sm space-y-6\">\r\n                                <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-xl\">\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-gray-900\">Pause / Disable Community</h3>\r\n                                        <p className=\"text-xs text-gray-500 mt-1\">Temporarily prevent new members from joining.</p>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={handleToggleStatus}\r\n                                        className={`px-6 py-2 rounded-xl font-black uppercase text-xs tracking-widest text-white ${group.status === 'active' ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'}`}\r\n                                    >\r\n                                        {group.status === 'active' ? 'Disable' : 'Enable'}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\messages\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Sidebar' is defined but never used.","line":5,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":15,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Sidebar"},"fix":{"range":[131,174],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Link' is defined but never used.","line":7,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[226,255],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Message' is defined but never used.","line":23,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Conversation' is defined but never used.","line":36,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2091,2094],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2091,2094],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2141,2144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2141,2144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2207,2210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2207,2210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2272,2275],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2272,2275],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'messagesLoading' is assigned a value but never used.","line":78,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":78,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'uploading' is assigned a value but never used.","line":79,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":79,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setUploading' is assigned a value but never used.","line":79,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":79,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showOptions' is assigned a value but never used.","line":81,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":81,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":85,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2898,2901],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2898,2901],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showEmojiPicker' is assigned a value but never used.","line":86,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":86,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'activeMsgMenu' is assigned a value but never used.","line":87,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":87,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'fileInputRef' is assigned a value but never used.","line":97,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":97,"endColumn":23},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchBots', 'fetchCommunities', and 'fetchConversations'. Either include them or remove the dependency array.","line":126,"column":8,"nodeType":"ArrayExpression","endLine":126,"endColumn":35,"suggestions":[{"desc":"Update the dependencies array to be: [user, authLoading, router, fetchConversations, fetchBots, fetchCommunities]","fix":{"range":[4753,4780],"text":"[user, authLoading, router, fetchConversations, fetchBots, fetchCommunities]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'debouncedUserSearch'. Either include it or remove the dependency array.","line":260,"column":8,"nodeType":"ArrayExpression","endLine":260,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [newChatQuery, isNewChat, debouncedUserSearch]","fix":{"range":[9835,9860],"text":"[newChatQuery, isNewChat, debouncedUserSearch]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'bots', 'conversations', 'fetchUserDataAndStartChat', 'handleSelectUser', and 'selectedUser'. Either include them or remove the dependency array.","line":273,"column":8,"nodeType":"ArrayExpression","endLine":273,"endColumn":66,"suggestions":[{"desc":"Update the dependencies array to be: [user, preselectedUserId, loading, bots.length, activeTab, conversations, selectedUser, handleSelectUser, bots, fetchUserDataAndStartChat]","fix":{"range":[10472,10530],"text":"[user, preselectedUserId, loading, bots.length, activeTab, conversations, selectedUser, handleSelectUser, bots, fetchUserDataAndStartChat]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":350,"column":94,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":350,"endColumn":97,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14783,14786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14783,14786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":351,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":351,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15068,15071],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15068,15071],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":367,"column":133,"nodeType":"JSXOpeningElement","endLine":367,"endColumn":206},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":367,"column":133,"nodeType":"JSXOpeningElement","endLine":367,"endColumn":206},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":390,"column":94,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[19152,19191],"text":"You haven&apos;t joined any communities yet."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[19152,19191],"text":"You haven&lsquo;t joined any communities yet."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[19152,19191],"text":"You haven&#39;t joined any communities yet."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[19152,19191],"text":"You haven&rsquo;t joined any communities yet."},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":403,"column":152,"nodeType":"JSXOpeningElement","endLine":403,"endColumn":185},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":403,"column":152,"nodeType":"JSXOpeningElement","endLine":403,"endColumn":185},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":436,"column":1101,"nodeType":"JSXOpeningElement","endLine":436,"endColumn":1166},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":436,"column":1101,"nodeType":"JSXOpeningElement","endLine":436,"endColumn":1166},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":440,"column":333,"nodeType":"JSXOpeningElement","endLine":440,"endColumn":409},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":440,"column":333,"nodeType":"JSXOpeningElement","endLine":440,"endColumn":409},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":484,"column":37,"nodeType":"JSXOpeningElement","endLine":484,"endColumn":122},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":484,"column":37,"nodeType":"JSXOpeningElement","endLine":484,"endColumn":122}],"suppressedMessages":[],"errorCount":19,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, useRef, Suspense } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport Link from 'next/link';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport debounce from 'lodash.debounce';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\n// --- INTERFACES ---\r\ninterface MessageUser {\r\n    _id: string;\r\n    name: string;\r\n    profilePic: string;\r\n    accountType: string;\r\n    isBot?: boolean;\r\n    botType?: string;\r\n}\r\n\r\ninterface Message {\r\n    _id: string;\r\n    sender: MessageUser | string;\r\n    recipient: MessageUser | string;\r\n    text: string;\r\n    fileUrl?: string;\r\n    fileType?: string;\r\n    fileName?: string;\r\n    createdAt: string;\r\n    isRead: boolean;\r\n    isDeletedForEveryone?: boolean;\r\n}\r\n\r\ninterface Conversation {\r\n    user: MessageUser;\r\n    lastMessage: { text: string; createdAt: string; sender: string; };\r\n    unreadCount: number;\r\n    preferences: { isStarred: boolean; isMuted: boolean; isArchived: boolean; isFocused: boolean; label: string; };\r\n}\r\n\r\ninterface Community {\r\n    _id: string;\r\n    name: string;\r\n    description: string;\r\n    price: number;\r\n    isPaid: boolean;\r\n    mentor: {\r\n        _id: string;\r\n        name: string;\r\n        profilePic: string;\r\n    };\r\n    memberCount: number;\r\n    maxMembers: number;\r\n    groupIcon: string;\r\n    paymentQrImage?: string; // Optional QR\r\n    status: string;\r\n    isMember?: boolean; // dynamic field from backend\r\n}\r\n\r\n// --- MAIN COMPONENT ---\r\nfunction MessagesContent() {\r\n    const { user, loading: authLoading } = useAuth();\r\n    const { t } = useLanguage();\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const preselectedUserId = searchParams.get('user');\r\n\r\n    // --- STATE: CHAT ---\r\n    const [activeTab, setActiveTab] = useState<'chats' | 'communities'>('chats');\r\n    const [conversations, setConversations] = useState<any[]>([]);\r\n    const [bots, setBots] = useState<any[]>([]);\r\n    const [selectedUser, setSelectedUser] = useState<any | null>(null);\r\n    const [messages, setMessages] = useState<any[]>([]);\r\n    const [newMessage, setNewMessage] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [messagesLoading, setMessagesLoading] = useState(false);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    const [searchTab, setSearchTab] = useState<'focused' | 'other' | 'bots'>('focused');\r\n    const [isNewChat, setIsNewChat] = useState(false);\r\n    const [newChatQuery, setNewChatQuery] = useState('');\r\n    const [userSearchResults, setUserSearchResults] = useState<any[]>([]);\r\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n    const [activeMsgMenu, setActiveMsgMenu] = useState<string | null>(null);\r\n\r\n    // --- STATE: COMMUNITIES ---\r\n    const [communities, setCommunities] = useState<{ my: Community[], paid: Community[], free: Community[] }>({ my: [], paid: [], free: [] });\r\n    const [selectedCommunity, setSelectedCommunity] = useState<Community | null>(null);\r\n    const [showPaymentModal, setShowPaymentModal] = useState(false);\r\n\r\n    // --- REFS ---\r\n    const messagesEndRef = useRef<HTMLDivElement>(null);\r\n    const optionsRef = useRef<HTMLDivElement>(null);\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const emojiPickerRef = useRef<HTMLDivElement>(null);\r\n    const msgMenuRef = useRef<HTMLDivElement>(null);\r\n\r\n    // --- EFFECTS ---\r\n    useEffect(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }, [messages]);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (optionsRef.current && !optionsRef.current.contains(event.target as Node)) setShowOptions(false);\r\n            if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target as Node)) setShowEmojiPicker(false);\r\n            if (msgMenuRef.current && !msgMenuRef.current.contains(event.target as Node)) setActiveMsgMenu(null);\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login');\r\n            return;\r\n        }\r\n        if (user) {\r\n            fetchConversations();\r\n            fetchBots();\r\n            fetchCommunities(); // Load communities too\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    // --- API CALLS: CHAT ---\r\n    const fetchConversations = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/messages/conversations', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (Array.isArray(data)) setConversations(data);\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    const fetchBots = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/messages/bots', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (Array.isArray(data)) setBots(data);\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const fetchMessages = async (otherUserId: string) => {\r\n        setMessagesLoading(true);\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/messages/${otherUserId}`, {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (Array.isArray(data)) {\r\n                setMessages(data);\r\n                fetchConversations();\r\n            }\r\n        } catch (err) { console.error(err); } finally { setMessagesLoading(false); }\r\n    };\r\n\r\n    const fetchUserDataAndStartChat = async (id: string) => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/users/${id}`, {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (data && data._id) {\r\n                const newUser: MessageUser = {\r\n                    _id: data._id,\r\n                    name: data.name,\r\n                    profilePic: data.profilePic,\r\n                    accountType: data.accountType\r\n                };\r\n                setSelectedUser(newUser);\r\n                fetchMessages(id);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    // --- API CALLS: COMMUNITIES ---\r\n    const fetchCommunities = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/groups/explore', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setCommunities({\r\n                    my: data.myCommunities,\r\n                    paid: data.paidCommunities,\r\n                    free: data.freeCommunities\r\n                });\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleJoinFree = async (group: Community) => {\r\n        if (!confirm(`Join ${group.name} for free?`)) return;\r\n        try {\r\n            // Assuming existing join logic works for free\r\n            const res = await fetch(`http://localhost:5000/api/groups/${group._id}/join`, {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                alert('Joined successfully!');\r\n                fetchCommunities();\r\n            } else {\r\n                const err = await res.json();\r\n                alert(err.message);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const initPaidJoin = (group: Community) => {\r\n        setSelectedCommunity(group);\r\n        setShowPaymentModal(true);\r\n    };\r\n\r\n    const handleConfirmPayment = async () => {\r\n        if (!selectedCommunity) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/groups/${selectedCommunity._id}/request-join`, {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                alert('Payment confirmation sent! Mentor will approve shortly.');\r\n                setShowPaymentModal(false);\r\n                setSelectedCommunity(null);\r\n                fetchCommunities();\r\n            } else {\r\n                const err = await res.json();\r\n                alert(err.message);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    // --- HELPERS ---\r\n    const debouncedUserSearch = useRef(\r\n        debounce(async (query: string) => {\r\n            if (!query.trim()) {\r\n                setUserSearchResults([]);\r\n                return;\r\n            }\r\n            try {\r\n                const res = await fetch(`http://localhost:5000/api/users/search?q=${encodeURIComponent(query)}`, {\r\n                    headers: { 'Authorization': `Bearer ${user?.token}` }\r\n                });\r\n                const data = await res.json();\r\n                setUserSearchResults(data);\r\n            } catch (err) { console.error(err); }\r\n        }, 300)\r\n    ).current;\r\n\r\n    useEffect(() => {\r\n        if (isNewChat) debouncedUserSearch(newChatQuery);\r\n    }, [newChatQuery, isNewChat]);\r\n\r\n    useEffect(() => {\r\n        if (user && preselectedUserId && !loading && activeTab === 'chats') {\r\n            const conv = conversations.find(c => c.user._id === preselectedUserId);\r\n            if (conv) {\r\n                if (selectedUser?._id !== conv.user._id) handleSelectUser(conv.user);\r\n            } else if (!selectedUser || selectedUser._id !== preselectedUserId) {\r\n                const bot = bots.find(b => b._id === preselectedUserId);\r\n                if (bot) handleSelectUser(bot);\r\n                else fetchUserDataAndStartChat(preselectedUserId);\r\n            }\r\n        }\r\n    }, [user, preselectedUserId, loading, bots.length, activeTab]);\r\n\r\n\r\n    const handleSelectUser = (u: MessageUser) => {\r\n        setSelectedUser(u);\r\n        setIsNewChat(false);\r\n        setNewChatQuery('');\r\n        setUserSearchResults([]);\r\n        fetchMessages(u._id);\r\n    };\r\n\r\n    const handleSendMessage = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!newMessage.trim() || !selectedUser || !user) return;\r\n        const text = newMessage;\r\n        setNewMessage('');\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/messages', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${user.token}` },\r\n                body: JSON.stringify({ recipientId: selectedUser._id, text })\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                setMessages(prev => [...prev, data]);\r\n                fetchConversations();\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const filteredConversations = conversations.filter(c => {\r\n        const matchesSearch = c.user.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n        if (searchTab === 'focused') return matchesSearch && !c.preferences.isArchived;\r\n        if (searchTab === 'other') return matchesSearch && c.preferences.isArchived;\r\n        return false;\r\n    });\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-7xl mx-auto px-4 md:px-6 pt-24 pb-6 flex h-[calc(100vh-100px)] gap-6\">\r\n\r\n                {/* --- LEFT SIDEBAR (CHATS / COMMUNITIES TOGGLE) --- */}\r\n                <div className=\"w-full md:w-[380px] h-full bg-white border rounded-2xl shadow-sm flex flex-col overflow-hidden\">\r\n                    <div className=\"p-4 border-b\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h2 className=\"text-xl font-black text-blue-900 italic tracking-tighter\">{t('msg.title')}</h2>\r\n                            {activeTab === 'chats' && (\r\n                                <button onClick={() => setIsNewChat(true)} className=\"p-2 rounded-full text-gray-400 hover:text-blue-700 hover:bg-blue-50\">üìù</button>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Toggle Tabs */}\r\n                        <div className=\"flex bg-gray-100 p-1 rounded-xl mb-4\">\r\n                            <button\r\n                                onClick={() => setActiveTab('chats')}\r\n                                className={`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${activeTab === 'chats' ? 'bg-white shadow-sm text-blue-900' : 'text-gray-400 hover:text-gray-600'}`}\r\n                            >\r\n                                Direct Messages\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setActiveTab('communities')}\r\n                                className={`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${activeTab === 'communities' ? 'bg-white shadow-sm text-blue-900' : 'text-gray-400 hover:text-gray-600'}`}\r\n                            >\r\n                                Community\r\n                            </button>\r\n                        </div>\r\n\r\n                        {activeTab === 'chats' && (\r\n                            <>\r\n                                <div className=\"relative mb-4\">\r\n                                    <input type=\"text\" placeholder={t('msg.search_placeholder')} value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"w-full bg-gray-100 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none transition\" />\r\n                                    <span className=\"absolute right-3 top-2 text-gray-400 text-sm\">üîç</span>\r\n                                </div>\r\n                                <div className=\"flex gap-2\">\r\n                                    {['focused', 'other', 'bots'].map((tab) => (\r\n                                        <button key={tab} onClick={() => setSearchTab(tab as any)} className={`px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${searchTab === tab ? 'bg-blue-700 text-white shadow-lg' : 'bg-gray-100 text-gray-500 hover:bg-gray-200'}`}>\r\n                                            {t(`msg.tabs.${tab}` as any)}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* List Content */}\r\n                    <div className=\"flex-1 overflow-y-auto no-scrollbar\">\r\n                        {activeTab === 'chats' ? (\r\n                            loading ? <div className=\"p-10 text-center animate-pulse text-[10px] font-black text-gray-300 uppercase tracking-widest\">Loading...</div> :\r\n                                searchTab === 'bots' ? bots.map(bot => (\r\n                                    <div key={bot._id} onClick={() => handleSelectUser(bot)} className={`p-4 flex items-center gap-3 cursor-pointer hover:bg-blue-50 transition border-l-4 ${selectedUser?._id === bot._id ? 'border-blue-700 bg-blue-50/50' : 'border-transparent'}`}><div className=\"text-2xl w-10 h-10 flex items-center justify-center bg-blue-50 rounded-full\">ü§ñ</div><div><h4 className=\"text-sm font-bold text-gray-900\">{bot.name}</h4><p className=\"text-[10px] font-black text-blue-600 uppercase tracking-widest\">Official Bot</p></div></div>\r\n                                )) : filteredConversations.length > 0 ? filteredConversations.map((conv) => (\r\n                                    <div key={conv.user._id} onClick={() => handleSelectUser(conv.user)} className={`p-4 flex items-center gap-3 cursor-pointer hover:bg-gray-50 transition border-l-4 ${selectedUser?._id === conv.user._id ? 'border-blue-700 bg-blue-50/30' : 'border-transparent'}`}>\r\n                                        <div className=\"w-10 h-10 rounded-full bg-gray-200 overflow-hidden\">{conv.user.profilePic ? <img src={conv.user.profilePic} className=\"w-full h-full object-cover\" /> : <div className=\"w-full h-full flex items-center justify-center font-bold text-gray-500\">{conv.user.name[0]}</div>}</div>\r\n                                        <div className=\"flex-1 min-w-0\"><div className=\"flex justify-between items-start\"><h4 className={`text-sm ${conv.unreadCount > 0 ? 'font-black' : 'font-bold'} truncate`}>{conv.user.name}</h4><span className=\"text-[9px] text-gray-400\">{formatDistanceToNow(new Date(conv.lastMessage.createdAt))}</span></div><p className=\"text-xs text-gray-500 truncate\">{conv.lastMessage.text}</p></div>\r\n                                    </div>\r\n                                )) : <div className=\"p-10 text-center opacity-30\">No chats found</div>\r\n                        ) : (\r\n                            // COMMUNITY LIST (Unified)\r\n                            <div className=\"p-4 space-y-6\">\r\n                                {/* My Joined Communities */}\r\n                                <div>\r\n                                    <h3 className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2\">My Joined Communities</h3>\r\n                                    {communities.my.length > 0 ? (\r\n                                        <div className=\"space-y-2\">\r\n                                            {communities.my.map(c => (\r\n                                                <div key={c._id} className=\"p-3 bg-blue-50 border border-blue-100 rounded-xl flex justify-between items-center group cursor-pointer hover:shadow-md transition\">\r\n                                                    <div>\r\n                                                        <h4 className=\"font-bold text-blue-900 text-sm\">{c.name}</h4>\r\n                                                        <p className=\"text-[10px] text-blue-500 font-bold uppercase\">{c.memberCount} Members</p>\r\n                                                    </div>\r\n                                                    <span className=\"text-xl\">‚û°Ô∏è</span>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    ) : (\r\n                                        <p className=\"text-xs text-gray-400 italic\">You haven't joined any communities yet.</p>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* All Existing Communities */}\r\n                                <div>\r\n                                    <h3 className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2\">Discover Communities</h3>\r\n                                    <div className=\"space-y-3\">\r\n                                        {[...communities.paid, ...communities.free].length > 0 ? (\r\n                                            [...communities.paid, ...communities.free].map(c => (\r\n                                                <div key={c._id} className=\"p-4 bg-white border rounded-xl hover:border-blue-300 transition group\">\r\n                                                    <div className=\"flex justify-between items-start mb-2\">\r\n                                                        <div className=\"flex items-center gap-2\">\r\n                                                            <div className=\"w-8 h-8 rounded-full bg-gray-100 overflow-hidden\">{c.mentor?.profilePic && <img src={c.mentor.profilePic} />}</div>\r\n                                                            <div>\r\n                                                                <h4 className=\"font-bold text-gray-900 text-sm\">{c.name}</h4>\r\n                                                                <p className=\"text-[10px] text-gray-500\">by {c.mentor?.name}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <span className={`${c.price > 0 ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-500'} font-black text-[10px] px-2 py-0.5 rounded uppercase`}>\r\n                                                            {c.price > 0 ? `‚Çπ${c.price}` : 'Free'}\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <p className=\"text-xs text-gray-500 mb-3 line-clamp-2\">{c.description}</p>\r\n                                                    <button\r\n                                                        onClick={() => c.price > 0 ? initPaidJoin(c) : handleJoinFree(c)}\r\n                                                        className={`w-full py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${c.price > 0 ? 'bg-black text-white hover:bg-gray-800' : 'border border-blue-600 text-blue-600 hover:bg-blue-50'}`}\r\n                                                    >\r\n                                                        {c.price > 0 ? 'Check Details & Join' : 'Join Now'}\r\n                                                    </button>\r\n                                                </div>\r\n                                            ))\r\n                                        ) : (\r\n                                            <p className=\"text-xs text-gray-400 italic\">No more communities to discover.</p>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* --- RIGHT PANEL (CONTENT) --- */}\r\n                <div className=\"flex-1 h-full bg-white border rounded-2xl shadow-sm flex flex-col overflow-hidden relative\">\r\n                    {/* Render existing Chat UI here if activeTab === 'chats' */}\r\n                    {activeTab === 'chats' ? (isNewChat ? (\r\n                        <div className=\"flex flex-col h-full bg-gray-50/30\"><div className=\"p-4 bg-white border-b flex items-center gap-4\"><span className=\"text-xs font-black text-gray-400 uppercase tracking-widest\">{t('msg.new_to')}</span><input autoFocus type=\"text\" placeholder={t('msg.type_name')} value={newChatQuery} onChange={(e) => setNewChatQuery(e.target.value)} className=\"flex-1 border-none focus:ring-0 text-sm font-bold bg-gray-50 px-4 py-1.5 rounded-full\" /><button onClick={() => setIsNewChat(false)} className=\"text-gray-400 hover:text-red-500 font-black text-xl\">√ó</button></div><div className=\"flex-1 overflow-y-auto p-4 space-y-2 no-scrollbar\">{userSearchResults.length > 0 ? userSearchResults.map(u => (<div key={u._id} onClick={() => handleSelectUser(u)} className=\"flex items-center gap-3 p-3 bg-white border border-transparent hover:border-blue-200 hover:bg-blue-50 rounded-2xl cursor-pointer transition-all shadow-sm\"><div className=\"w-10 h-10 rounded-full bg-blue-50 border overflow-hidden flex items-center justify-center font-bold text-blue-700 uppercase\">{u.profilePic ? <img src={u.profilePic} className=\"w-full h-full object-cover\" /> : u.name.charAt(0)}</div><div><h4 className=\"text-sm font-bold text-gray-900\">{u.name}</h4><p className=\"text-[10px] text-gray-400 font-black uppercase tracking-tighter\">{u.accountType === 'Aspirant' ? t('sidebar.aspirant') : u.accountType}</p></div></div>)) : <div className=\"text-center py-20 opacity-30 font-black uppercase text-[10px] tracking-widest\">{newChatQuery.length > 0 ? `${t('msg.no_users')} \"${newChatQuery}\"` : t('msg.search_fellow')}</div>}</div></div>\r\n                    ) : selectedUser ? (\r\n                        /* CHAT WINDOW (Simplified copy) */\r\n                        <>\r\n                            <div className=\"p-4 border-b flex justify-between items-center bg-white z-20\"><div className=\"flex items-center gap-3\"><div className=\"w-10 h-10 rounded-full overflow-hidden border bg-blue-50 flex items-center justify-center font-bold text-blue-700 shadow-sm relative text-xl\">{selectedUser.profilePic ? <img src={selectedUser.profilePic} className=\"w-full h-full object-cover\" /> : selectedUser.name.charAt(0)}</div><div><h3 className=\"text-sm font-black text-gray-900 leading-tight\">{selectedUser.name}</h3></div></div></div>\r\n                            <div className=\"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50/50 no-scrollbar relative\">\r\n                                {messages.map((msg) => {\r\n                                    const isMe = (typeof msg.sender === 'string' ? msg.sender : msg.sender._id) === user?._id;\r\n                                    return <div key={msg._id} className={`flex ${isMe ? 'justify-end' : 'justify-start'}`}><div className={`px-4 py-2 rounded-2xl text-sm ${isMe ? 'bg-blue-700 text-white' : 'bg-white border'}`}>{msg.text}</div></div>\r\n                                })}\r\n                                <div ref={messagesEndRef} />\r\n                            </div>\r\n                            <div className=\"p-4 bg-white border-t\"><form onSubmit={handleSendMessage} className=\"flex gap-2\"><input value={newMessage} onChange={e => setNewMessage(e.target.value)} className=\"flex-1 bg-gray-100 rounded-full px-4 py-2 text-sm outline-none\" placeholder=\"Type a message...\" /><button type=\"submit\" className=\"bg-blue-700 text-white p-2 rounded-full\">üöÄ</button></form></div>\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"h-full flex flex-col items-center justify-center p-12 text-center bg-gray-50/30\"><div className=\"text-6xl mb-4\">üì¨</div><h2 className=\"text-2xl font-black text-blue-900 italic\">Messages</h2></div>\r\n                    )) : (\r\n                        /* COMMUNITY DASHBOARD PLACEHOLDER */\r\n                        <div className=\"h-full flex flex-col items-center justify-center p-12 text-center bg-gray-50/30\">\r\n                            <div className=\"text-6xl mb-4\">üèõÔ∏è</div>\r\n                            <h2 className=\"text-2xl font-black text-blue-900 italic mb-2\">Community Hub</h2>\r\n                            <p className=\"text-gray-500 text-sm max-w-sm\">Select a community from the sidebar to start interacting, or discover new ones to join.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </main>\r\n\r\n            {/* PAID JOIN MODAL */}\r\n            {showPaymentModal && selectedCommunity && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-md p-8 shadow-2xl relative overflow-hidden\">\r\n                        <div className=\"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-blue-500 to-purple-600\"></div>\r\n                        <h2 className=\"text-2xl font-black text-gray-900 uppercase tracking-tight mb-2\">{selectedCommunity.name}</h2>\r\n                        <p className=\"text-xs text-gray-500 font-bold uppercase tracking-widest mb-6\">Premium Membership</p>\r\n\r\n                        <div className=\"bg-gray-50 p-4 rounded-2xl mb-6\">\r\n                            <p className=\"text-sm font-medium text-gray-700 mb-4\">{selectedCommunity.description}</p>\r\n                            <div className=\"flex justify-between items-center border-t border-gray-200 pt-4\">\r\n                                <span className=\"text-xs font-black text-gray-400 uppercase tracking-widest\">Price</span>\r\n                                <span className=\"text-2xl font-black text-green-600\">‚Çπ{selectedCommunity.price}/mo</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* QR Code Section */}\r\n                        <div className=\"text-center mb-8\">\r\n                            <p className=\"text-xs font-bold text-gray-500 mb-2\">Scan to Pay</p>\r\n                            <div className=\"w-48 h-48 bg-gray-200 mx-auto rounded-xl flex items-center justify-center overflow-hidden border-4 border-dashed border-gray-300\">\r\n                                {selectedCommunity.paymentQrImage ? (\r\n                                    <img src={selectedCommunity.paymentQrImage} className=\"w-full h-full object-cover\" />\r\n                                ) : (\r\n                                    <span className=\"text-xs text-gray-400 font-bold\">No QR Code<br />Contact Mentor</span>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-4\">\r\n                            <button onClick={() => setShowPaymentModal(false)} className=\"flex-1 bg-gray-100 text-gray-600 py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-200\">\r\n                                Cancel\r\n                            </button>\r\n                            <button onClick={handleConfirmPayment} className=\"flex-1 bg-blue-600 text-white py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-blue-700 shadow-lg\">\r\n                                I Have Paid\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction MessagesFallback() {\r\n    return <div className=\"text-center pt-20\">Loading...</div>;\r\n}\r\n\r\nexport default function MessagesPage() {\r\n    return (\r\n        <Suspense fallback={<MessagesFallback />}>\r\n            <MessagesContent />\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\network\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2311,2314],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2311,2314],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2319,2322],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2319,2322],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2327,2330],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2327,2330],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":107,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":110,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2351,2354],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2351,2354],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2536,2539],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2536,2539],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2560,2563],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2560,2563],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":84,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":87,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2568,2571],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2568,2571],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2576,2579],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2576,2579],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":116,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":119,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2600,2603],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2600,2603],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2785,2788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2785,2788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":93,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":96,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2826,2829],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2826,2829],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2834,2837],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2834,2837],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":109,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":112,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2842,2845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2842,2845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":133,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":136,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2866,2869],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2866,2869],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":86,"column":8,"nodeType":"ArrayExpression","endLine":86,"endColumn":34,"suggestions":[{"desc":"Update the dependencies array to be: [currentUser, fetchData, searchQuery]","fix":{"range":[3526,3552],"text":"[currentUser, fetchData, searchQuery]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":217,"column":49,"nodeType":"JSXOpeningElement","endLine":217,"endColumn":127},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":217,"column":49,"nodeType":"JSXOpeningElement","endLine":217,"endColumn":127},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":275,"column":45,"nodeType":"JSXOpeningElement","endLine":275,"endColumn":110},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":275,"column":45,"nodeType":"JSXOpeningElement","endLine":275,"endColumn":110},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":303,"column":45,"nodeType":"JSXOpeningElement","endLine":303,"endColumn":133},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":303,"column":45,"nodeType":"JSXOpeningElement","endLine":303,"endColumn":133}],"suppressedMessages":[],"errorCount":14,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport Link from 'next/link';\r\n\r\ninterface NetworkUser {\r\n    _id: string;\r\n    name: string;\r\n    profilePic: string;\r\n    accountType: string;\r\n    about: string;\r\n    connectionStatus: 'none' | 'sent' | 'received' | 'connected';\r\n    requestId?: string;\r\n}\r\n\r\ninterface PendingRequest {\r\n    _id: string;\r\n    requester: {\r\n        _id: string;\r\n        name: string;\r\n        profilePic: string;\r\n        accountType: string;\r\n    };\r\n}\r\n\r\nexport default function NetworkPage() {\r\n    const { user: currentUser } = useAuth();\r\n    const { t } = useLanguage();\r\n    const [suggestions, setSuggestions] = useState<NetworkUser[]>([]);\r\n    const [connections, setConnections] = useState<NetworkUser[]>([]);\r\n    const [pendingRequests, setPendingRequests] = useState<PendingRequest[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTab, setActiveTab] = useState<'suggestions' | 'connections' | 'pending'>('suggestions');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    const fetchData = async () => {\r\n        if (!currentUser) return;\r\n        try {\r\n            const [sugRes, connRes, pendRes] = await Promise.all([\r\n                fetch(`http://localhost:5000/api/connections/suggestions?search=${searchQuery}`, {\r\n                    headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n                }),\r\n                fetch('http://localhost:5000/api/connections', {\r\n                    headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n                }),\r\n                fetch('http://localhost:5000/api/connections/pending', {\r\n                    headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n                })\r\n            ]);\r\n\r\n            const sugData = await sugRes.json();\r\n            const connData = await connRes.json();\r\n            const pendData = await pendRes.json();\r\n\r\n            // Deduplicate and filter out nulls\r\n            if (Array.isArray(sugData)) {\r\n                const unique = sugData.filter(Boolean).filter((v: any, i: any, a: any) => a.findIndex((t: any) => t._id === v._id) === i);\r\n                setSuggestions(unique);\r\n            }\r\n            if (Array.isArray(connData)) {\r\n                const unique = connData.filter((c: any) => !!c).filter((v: any, i: any, a: any) => a.findIndex((t: any) => t._id === v._id) === i);\r\n                setConnections(unique);\r\n            }\r\n            if (Array.isArray(pendData)) {\r\n                const unique = pendData.filter((r: any) => !!r && !!r.requester).filter((v: any, i: any, a: any) => a.findIndex((t: any) => t._id === v._id) === i);\r\n                setPendingRequests(unique);\r\n            }\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            fetchData();\r\n            // Clear network badge when visiting this page\r\n            fetch('http://localhost:5000/api/connections/mark-seen', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            }).then(() => {\r\n                window.dispatchEvent(new Event('notificationsUpdated'));\r\n            }).catch(console.error);\r\n        }\r\n    }, [currentUser, searchQuery]);\r\n\r\n    const handleConnect = async (targetId: string) => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/connections/request', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                },\r\n                body: JSON.stringify({ recipientId: targetId })\r\n            });\r\n            if (res.ok) {\r\n                setSuggestions(suggestions.map(s =>\r\n                    s._id === targetId ? { ...s, connectionStatus: 'sent' } : s\r\n                ));\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleWithdraw = async (requestId: string, targetId: string) => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/connections/withdraw/${requestId}`, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                // Update local state to reflect withdrawn status\r\n                setSuggestions(prev => prev.map(s =>\r\n                    s._id === targetId ? { ...s, connectionStatus: 'none', requestId: undefined } : s\r\n                ));\r\n            } else {\r\n                const data = await res.json();\r\n                alert(data.message || 'Failed to withdraw request');\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert('Error withdrawing request');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleResponse = async (requestId: string, status: 'accepted' | 'rejected') => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/connections/respond', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                },\r\n                body: JSON.stringify({ requestId, status })\r\n            });\r\n            if (res.ok) {\r\n                setPendingRequests(pendingRequests.filter(r => r._id !== requestId));\r\n                fetchData(); // Refresh everything\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 space-y-6\">\r\n                    {/* Header Card with Navigation */}\r\n                    <div className=\"bg-white rounded-3xl border shadow-sm p-4 space-y-4\">\r\n                        <div className=\"flex flex-col md:flex-row gap-4 items-center justify-between\">\r\n                            <div className=\"flex bg-gray-100 p-1.5 rounded-2xl w-full md:w-auto\">\r\n                                <button\r\n                                    onClick={() => setActiveTab('suggestions')}\r\n                                    className={`px-6 py-2.5 rounded-xl font-black uppercase text-[10px] tracking-widest transition-all ${activeTab === 'suggestions' ? 'bg-white text-[#1a237e] shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}\r\n                                >\r\n                                    {t('network.tabs.discover')}\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setActiveTab('connections')}\r\n                                    className={`px-6 py-2.5 rounded-xl font-black uppercase text-[10px] tracking-widest transition-all ${activeTab === 'connections' ? 'bg-white text-[#1a237e] shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}\r\n                                >\r\n                                    {t('network.tabs.my_network')} ({connections.length})\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setActiveTab('pending')}\r\n                                    className={`px-6 py-2.5 rounded-xl font-black uppercase text-[10px] tracking-widest transition-all relative ${activeTab === 'pending' ? 'bg-white text-[#1a237e] shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}\r\n                                >\r\n                                    {t('network.tabs.requests')}\r\n                                    {pendingRequests.length > 0 && (\r\n                                        <span className=\"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[8px] font-bold text-white\">\r\n                                            {pendingRequests.length}\r\n                                        </span>\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n\r\n                            {activeTab === 'suggestions' && (\r\n                                <div className=\"relative w-full md:w-64\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder={t('network.search_placeholder')}\r\n                                        value={searchQuery}\r\n                                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                                        className=\"w-full bg-gray-50 border border-gray-100 py-2.5 pl-10 pr-4 rounded-xl outline-none focus:border-blue-600 focus:bg-white transition-all text-xs font-bold\"\r\n                                    />\r\n                                    <span className=\"absolute left-4 top-1/2 -translate-y-1/2 opacity-30 text-xs\">üîç</span>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {loading ? (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate-pulse\">\r\n                            {[1, 2, 3, 4, 5, 6].map(i => (\r\n                                <div key={i} className=\"bg-white h-64 rounded-3xl border\"></div>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {/* Suggestions View */}\r\n                            {activeTab === 'suggestions' && suggestions.map((u) => (\r\n                                <div key={u._id} className=\"bg-white rounded-3xl border shadow-sm overflow-hidden group hover:shadow-xl transition-all duration-300\">\r\n                                    <div className=\"h-24 bg-gradient-to-br from-[#1a237e] to-[#3949ab] relative\">\r\n                                        <div className=\"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]\"></div>\r\n                                    </div>\r\n                                    <div className=\"px-6 pb-6 text-center relative\">\r\n                                        <div className=\"mx-auto -mt-10 mb-3 p-1 bg-white rounded-full shadow-lg w-20 h-20 overflow-hidden border-2 border-white\">\r\n                                            {u?.profilePic ? (\r\n                                                <img src={u.profilePic} className=\"w-full h-full object-cover rounded-full\" />\r\n                                            ) : (\r\n                                                <div className=\"w-full h-full flex items-center justify-center bg-gray-50 font-black text-[#1a237e] text-2xl uppercase rounded-full\">\r\n                                                    {u?.name?.charAt(0) || '?'}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                        <Link href={`/profile/${u._id}`} className=\"block text-base font-black text-gray-900 tracking-tight hover:text-blue-700 transition line-clamp-1\">\r\n                                            {u.name}\r\n                                        </Link>\r\n                                        <p className=\"text-[9px] font-black text-blue-600 uppercase tracking-widest mt-1 mb-3\">\r\n                                            {t('network.karnataka_aspirant')}\r\n                                        </p>\r\n                                        <p className=\"text-[11px] text-gray-500 line-clamp-2 font-medium h-8 mb-6 italic leading-relaxed\">\r\n                                            {u.about || t('network.about_placeholder')}\r\n                                        </p>\r\n\r\n                                        {u.connectionStatus === 'none' && (\r\n                                            <button\r\n                                                onClick={() => handleConnect(u._id)}\r\n                                                className=\"w-full py-3 bg-[#1a237e] text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg shadow-blue-900/10 active:scale-95\"\r\n                                            >\r\n                                                {t('network.connect')}\r\n                                            </button>\r\n                                        )}\r\n                                        {u.connectionStatus === 'sent' && (\r\n                                            <button\r\n                                                onClick={() => u.requestId && handleWithdraw(u.requestId, u._id)}\r\n                                                className=\"w-full py-3 bg-gray-100 text-gray-500 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-red-50 hover:text-red-500 transition-all border border-transparent hover:border-red-100\"\r\n                                            >\r\n                                                {t('network.withdraw')}\r\n                                            </button>\r\n                                        )}\r\n                                        {u.connectionStatus === 'received' && (\r\n                                            <button\r\n                                                onClick={() => setActiveTab('pending')}\r\n                                                className=\"w-full py-3 bg-green-50 text-green-700 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-green-100 transition-all border border-green-100\"\r\n                                            >\r\n                                                {t('network.review')}\r\n                                            </button>\r\n                                        )}\r\n                                        {u.connectionStatus === 'connected' && (\r\n                                            <Link\r\n                                                href={`/profile/${u._id}`}\r\n                                                className=\"block w-full py-3 bg-white text-blue-700 border-2 border-blue-50 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-50 transition-all\"\r\n                                            >\r\n                                                {t('network.connected')}\r\n                                            </Link>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n\r\n                            {/* Connections View */}\r\n                            {activeTab === 'connections' && connections.map((u) => (\r\n                                <div key={u._id} className=\"bg-white rounded-3xl border shadow-sm p-5 flex items-center gap-4 hover:shadow-md transition-all\">\r\n                                    <div className=\"w-16 h-16 rounded-2xl bg-gray-50 border overflow-hidden flex-shrink-0\">\r\n                                        {u.profilePic ? (\r\n                                            <img src={u.profilePic} className=\"w-full h-full object-cover\" />\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full flex items-center justify-center font-black text-[#1a237e] text-xl uppercase\">\r\n                                                {u.name.charAt(0)}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <Link href={`/profile/${u._id}`} className=\"block font-black text-gray-900 tracking-tight hover:text-blue-700 transition truncate uppercase text-sm\">\r\n                                            {u.name}\r\n                                        </Link>\r\n                                        <p className=\"text-[9px] font-black text-gray-400 uppercase tracking-widest\">{t('network.aspirant_network')}</p>\r\n                                    </div>\r\n                                    <Link\r\n                                        href={`/messages?user=${u._id}`}\r\n                                        className=\"p-3 bg-gray-50 text-blue-700 rounded-xl hover:bg-blue-700 hover:text-white transition-all shadow-sm\"\r\n                                        title=\"Message\"\r\n                                    >\r\n                                        üí¨\r\n                                    </Link>\r\n                                </div>\r\n                            ))}\r\n\r\n                            {/* Pending Requests View */}\r\n                            {activeTab === 'pending' && pendingRequests.map((r) => (\r\n                                <div key={r._id} className=\"bg-white rounded-3xl border shadow-sm p-6 text-center\">\r\n                                    <div className=\"mx-auto mb-4 w-20 h-20 rounded-full border-2 border-blue-100 p-1\">\r\n                                        {r?.requester?.profilePic ? (\r\n                                            <img src={r.requester.profilePic} className=\"w-full h-full object-cover rounded-full\" />\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full flex items-center justify-center bg-gray-50 rounded-full font-black text-[#1a237e] text-2xl uppercase\">\r\n                                                {r?.requester?.name?.charAt(0) || '?'}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <h3 className=\"font-black text-gray-900 tracking-tight uppercase text-sm\">{r?.requester?.name || 'Unknown Aspirant'}</h3>\r\n                                    <p className=\"text-[9px] font-black text-blue-600 uppercase tracking-widest mt-1 mb-4\">{t('network.requesting')}</p>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-2\">\r\n                                        <button\r\n                                            onClick={() => handleResponse(r._id, 'accepted')}\r\n                                            className=\"py-2.5 bg-[#1a237e] text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all\"\r\n                                        >\r\n                                            {t('network.accept')}\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleResponse(r._id, 'rejected')}\r\n                                            className=\"py-2.5 bg-gray-50 text-gray-500 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-red-50 hover:text-red-500 transition-all\"\r\n                                        >\r\n                                            {t('network.ignore')}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n\r\n                            {/* Empty States */}\r\n                            {((activeTab === 'suggestions' && suggestions.length === 0) ||\r\n                                (activeTab === 'connections' && connections.length === 0) ||\r\n                                (activeTab === 'pending' && pendingRequests.length === 0)) && (\r\n                                    <div className=\"col-span-full py-20 bg-white rounded-3xl border border-dashed border-gray-100 text-center\">\r\n                                        <p className=\"text-5xl mb-6 grayscale opacity-50\">üõ∞Ô∏è</p>\r\n                                        <h3 className=\"text-sm font-black text-gray-900 uppercase tracking-widest mb-1\">{t('network.empty_title')}</h3>\r\n                                        <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest\">{t('network.empty_desc')}</p>\r\n                                    </div>\r\n                                )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\not-found.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":10,"column":80,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[582,690],"text":"\r\n                    The page you are looking for might have been moved or doesn&apos;t exist.\r\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[582,690],"text":"\r\n                    The page you are looking for might have been moved or doesn&lsquo;t exist.\r\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[582,690],"text":"\r\n                    The page you are looking for might have been moved or doesn&#39;t exist.\r\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[582,690],"text":"\r\n                    The page you are looking for might have been moved or doesn&rsquo;t exist.\r\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Link from 'next/link';\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 p-6\">\r\n            <div className=\"bg-white p-10 rounded-[40px] shadow-2xl max-w-lg w-full text-center border border-gray-100\">\r\n                <div className=\"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl mb-6 mx-auto\">üîç</div>\r\n                <h2 className=\"text-3xl font-black text-gray-900 mb-2\">404 - Not Found</h2>\r\n                <p className=\"text-gray-500 font-medium mb-8\">\r\n                    The page you are looking for might have been moved or doesn't exist.\r\n                </p>\r\n                <Link\r\n                    href=\"/\"\r\n                    className=\"inline-block bg-blue-600 hover:bg-blue-700 text-white font-black px-10 py-4 rounded-2xl transition shadow-lg shadow-blue-600/20 uppercase text-xs tracking-widest\"\r\n                >\r\n                    Return Home\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\notifications\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchNotifications'. Either include it or remove the dependency array.","line":87,"column":8,"nodeType":"ArrayExpression","endLine":87,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchNotifications, user]","fix":{"range":[3275,3281],"text":"[fetchNotifications, user]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":171,"column":76,"nodeType":"JSXOpeningElement","endLine":171,"endColumn":148},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":171,"column":76,"nodeType":"JSXOpeningElement","endLine":171,"endColumn":148}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { formatDistanceToNow } from 'date-fns';\r\n\r\ninterface Notification {\r\n    _id: string;\r\n    type: 'like' | 'comment' | 'follow' | 'connection_request' | 'connection_accept' | 'mention' | 'connection_accepted' | 'story_reaction' | 'story_reply' | 'new_post' | 'job_update';\r\n    sender: {\r\n        _id: string;\r\n        name: string;\r\n        profilePic: string;\r\n    };\r\n    post?: string;\r\n    comment?: string;\r\n    isRead: boolean;\r\n    createdAt: string;\r\n    title?: string;\r\n    message?: string;\r\n    link?: string;\r\n}\r\n\r\nexport default function NotificationsPage() {\r\n    const { user } = useAuth();\r\n    const { t } = useLanguage();\r\n    const router = useRouter();\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchNotifications = async () => {\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/notifications', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (Array.isArray(data)) setNotifications(data);\r\n        } catch (err) { console.error(err); } finally { setLoading(false); }\r\n    };\r\n\r\n    const markAllAsRead = async () => {\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/notifications/read', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                setNotifications(notifications.map(n => ({ ...n, isRead: true })));\r\n                // Trigger navbar update\r\n                window.dispatchEvent(new Event('notificationsUpdated'));\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const markSingleAsRead = async (id: string) => {\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/notifications/${id}/read`, {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                setNotifications(notifications.map(n => n._id === id ? { ...n, isRead: true } : n));\r\n                window.dispatchEvent(new Event('notificationsUpdated'));\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            fetchNotifications();\r\n            // Automatically mark all as read when visiting notifications page\r\n            fetch('http://localhost:5000/api/notifications/read', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            }).then(() => {\r\n                window.dispatchEvent(new Event('notificationsUpdated'));\r\n            }).catch(console.error);\r\n        }\r\n    }, [user]);\r\n\r\n    const getNotificationContent = (notification: Notification) => {\r\n        if (notification.type === 'job_update') {\r\n            return (\r\n                <span className=\"block mt-1\">\r\n                    <span className=\"font-bold text-blue-900 block\">{notification.title}</span>\r\n                    <span className=\"text-gray-600 font-normal\">{notification.message}</span>\r\n                </span>\r\n            );\r\n        }\r\n\r\n        switch (notification.type) {\r\n            case 'like': return t('notif.like');\r\n            case 'comment': return t('notif.comment');\r\n            case 'follow': return t('notif.follow');\r\n            case 'connection_request': return t('notif.conn_req');\r\n            case 'connection_accepted': return t('notif.conn_acc');\r\n            case 'mention': return t('notif.mention');\r\n            case 'story_reaction': return t('notif.story_react');\r\n            case 'story_reply': return t('notif.story_reply');\r\n            case 'new_post': return t('notif.new_post');\r\n            default: return t('notif.loading');\r\n        }\r\n    };\r\n\r\n    const getNotificationIcon = (type: string) => {\r\n        switch (type) {\r\n            case 'like': return '‚ù§Ô∏è';\r\n            case 'comment': return 'üí¨';\r\n            case 'follow': return 'üë§';\r\n            case 'connection_request': return 'ü§ù';\r\n            case 'connection_accept': return '‚úÖ';\r\n            case 'mention': return 'üè∑Ô∏è';\r\n            case 'job_update': return 'üíº';\r\n            default: return 'üîî';\r\n        }\r\n    };\r\n\r\n    const handleNotificationClick = (n: Notification) => {\r\n        if (!n.isRead) markSingleAsRead(n._id);\r\n        if (n.link) {\r\n            router.push(n.link);\r\n        } else if (n.sender?._id) {\r\n            router.push(`/profile/${n.sender._id}`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 space-y-4\">\r\n                    <div className=\"bg-white rounded-2xl border shadow-sm p-6 flex justify-between items-center\">\r\n                        <h1 className=\"text-xl font-black text-gray-900 uppercase tracking-tight\">{t('notif.title')}</h1>\r\n                        <button\r\n                            onClick={markAllAsRead}\r\n                            className=\"text-[10px] font-black text-blue-700 uppercase tracking-widest hover:underline\"\r\n                        >\r\n                            {t('notif.mark_all_read')}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white rounded-2xl border shadow-sm overflow-hidden\">\r\n                        {loading ? (\r\n                            <div className=\"p-20 text-center animate-pulse text-[10px] font-black text-gray-300 uppercase tracking-widest\">\r\n                                {t('notif.loading')}\r\n                            </div>\r\n                        ) : notifications.length > 0 ? (\r\n                            <div className=\"divide-y divide-gray-50\">\r\n                                {notifications.map((n) => {\r\n                                    if (!n.sender) return null;\r\n                                    return (\r\n                                        <div\r\n                                            key={n._id}\r\n                                            onClick={() => handleNotificationClick(n)}\r\n                                            className={`p-6 flex gap-4 hover:bg-gray-50 transition-colors cursor-pointer ${!n.isRead ? 'bg-blue-50/50 border-l-4 border-blue-700' : ''}`}\r\n                                        >\r\n                                            <div className=\"relative\">\r\n                                                <div className=\"w-12 h-12 rounded-full bg-blue-50 border overflow-hidden flex items-center justify-center font-bold text-blue-700 uppercase\">\r\n                                                    {n.sender.profilePic ? <img src={n.sender.profilePic} className=\"w-full h-full object-cover\" /> : n.sender.name.charAt(0)}\r\n                                                </div>\r\n                                                <div className=\"absolute -bottom-1 -right-1 bg-white rounded-full shadow-sm w-6 h-6 flex items-center justify-center text-xs border\">\r\n                                                    {getNotificationIcon(n.type)}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"flex-1\">\r\n                                                <p className=\"text-sm font-medium text-gray-800\">\r\n                                                    <Link href={`/profile/${n.sender._id}`} className=\"font-black hover:text-blue-700\">{n.sender.name}</Link>\r\n                                                    {' '}{getNotificationContent(n)}\r\n                                                </p>\r\n                                                <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1\">\r\n                                                    {formatDistanceToNow(new Date(n.createdAt))} {t('time.ago')}\r\n                                                </p>\r\n                                            </div>\r\n                                            {!n.isRead && (\r\n                                                <div className=\"w-2 h-2 bg-blue-700 rounded-full mt-2\"></div>\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"p-20 text-center\">\r\n                                <div className=\"text-4xl mb-4\">üîî</div>\r\n                                <h3 className=\"text-lg font-black text-gray-900 uppercase tracking-tight\">{t('notif.empty_title')}</h3>\r\n                                <p className=\"text-gray-400 text-xs font-bold uppercase tracking-widest mt-2\">{t('notif.empty_desc')}</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FiBell' is defined but never used.","line":8,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":35,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FiBell"},"fix":{"range":[271,279],"text":""},"desc":"Remove unused variable \"FiBell\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FiCheckCircle' is defined but never used.","line":8,"column":60,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":73,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FiCheckCircle"},"fix":{"range":[302,317],"text":""},"desc":"Remove unused variable \"FiCheckCircle\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":112,"column":41,"nodeType":"JSXOpeningElement","endLine":112,"endColumn":143},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":131,"column":29,"nodeType":"JSXOpeningElement","endLine":131,"endColumn":237},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":216,"column":41,"nodeType":"JSXOpeningElement","endLine":216,"endColumn":103}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { FiUsers, FiShare2, FiBell, FiAward, FiArrowRight, FiCheckCircle, FiSearch, FiMessageSquare, FiActivity } from 'react-icons/fi';\r\n\r\nexport default function Home() {\r\n    const { user, loading } = useAuth();\r\n    const { language, setLanguage, t } = useLanguage();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && user) {\r\n            router.push('/feed');\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    if (loading || user) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#F3F2EF] flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-5xl font-black text-[#1a237e] uppercase tracking-tighter mb-4 animate-pulse\">SarkariMinds</h1>\r\n                    <div className=\"w-16 h-1 w-full bg-blue-100 rounded-full overflow-hidden\">\r\n                        <div className=\"w-1/2 h-full bg-[#1a237e] animate-[loading_1.5s_infinite]\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF] font-sans selection:bg-blue-100 selection:text-blue-900\">\r\n            {/* Navigation */}\r\n            <nav className=\"fixed top-0 w-full z-50 bg-white shadow-sm border-b border-gray-200\">\r\n                <div className=\"max-w-7xl mx-auto px-4 md:px-6 h-16 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-2 md:gap-3 group cursor-pointer transition-all duration-300\">\r\n                        <div className=\"w-10 h-10 bg-[#1a237e] rounded-lg flex items-center justify-center text-white font-black text-xl shadow-lg\">S</div>\r\n                        <span className=\"text-xl md:text-2xl font-black text-[#1a237e] tracking-tighter uppercase italic\">SarkariMinds</span>\r\n                    </div>\r\n\r\n                    <div className=\"hidden lg:flex items-center gap-8\">\r\n                        <div className=\"flex items-center gap-1.5 text-gray-400 group cursor-pointer\">\r\n                            <FiSearch className=\"group-hover:text-[#1a237e]\" />\r\n                            <span className=\"text-xs font-bold uppercase tracking-widest group-hover:text-[#1a237e]\">{t('nav.discover')}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1.5 text-gray-400 group cursor-pointer\">\r\n                            <FiUsers className=\"group-hover:text-[#1a237e]\" />\r\n                            <span className=\"text-xs font-bold uppercase tracking-widest group-hover:text-[#1a237e]\">{t('nav.network')}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1.5 text-gray-400 group cursor-pointer\">\r\n                            <FiActivity className=\"group-hover:text-[#1a237e]\" />\r\n                            <span className=\"text-xs font-bold uppercase tracking-widest group-hover:text-[#1a237e]\">{t('nav.feed')}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3 md:gap-6\">\r\n                        <div className=\"flex items-center gap-3 bg-gray-50 px-3 py-1.5 rounded-full border border-gray-100 shadow-inner mr-4\">\r\n                            <button\r\n                                onClick={() => setLanguage('en')}\r\n                                className={`text-[10px] font-black uppercase tracking-widest transition-all ${language === 'en' ? 'text-blue-700 underline underline-offset-4 decoration-2' : 'text-gray-400 hover:text-gray-600'}`}\r\n                            >\r\n                                English\r\n                            </button>\r\n                            <span className=\"text-gray-300\">|</span>\r\n                            <button\r\n                                onClick={() => setLanguage('kn')}\r\n                                className={`text-[11px] font-bold transition-all ${language === 'kn' ? 'text-blue-700 underline underline-offset-4 decoration-2' : 'text-gray-400 hover:text-gray-600'}`}\r\n                            >\r\n                                ‡≤ï‡≤®‡≥ç‡≤®‡≤°\r\n                            </button>\r\n                        </div>\r\n                        <Link href=\"/login\" className=\"text-xs font-black text-gray-500 hover:text-[#1a237e] transition-colors uppercase tracking-widest\">{t('hero.cta.login')}</Link>\r\n                        <Link href=\"/signup\" className=\"bg-[#1a237e] text-white px-5 md:px-8 py-2 md:py-3 rounded-lg font-black text-[10px] md:text-xs uppercase tracking-widest hover:bg-black transition-all shadow-md active:scale-95\">{t('hero.cta.start')}</Link>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n\r\n            {/* Hero Section */}\r\n            <main className=\"pt-24 lg:pt-40 pb-20 overflow-hidden\">\r\n                <div className=\"max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center\">\r\n                    <div className=\"space-y-8 animate-in slide-in-from-left duration-700\">\r\n                        <div className=\"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 border border-blue-100 rounded-md\">\r\n                            <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-[#1a237e]\">{t('hero.subtitle')}</span>\r\n                        </div>\r\n\r\n                        <h1 className=\"text-6xl md:text-7xl lg:text-8xl font-black text-gray-900 leading-[0.9] tracking-tighter\">\r\n                            {t('hero.title1')}<br />\r\n                            <span className=\"text-[#1a237e]\">{t('hero.title2')}</span>\r\n                        </h1>\r\n\r\n                        <p className=\"text-xl text-gray-600 font-medium max-w-lg leading-relaxed\">\r\n                            {t('hero.description')}\r\n                        </p>\r\n\r\n                        <div className=\"flex flex-wrap gap-4 pt-4\">\r\n                            <Link href=\"/signup\" className=\"px-10 py-5 bg-[#1a237e] text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-black transition-all shadow-xl flex items-center gap-3 group\">\r\n                                {t('hero.cta.start')}\r\n                                <FiArrowRight className=\"group-hover:translate-x-1 transition-transform\" />\r\n                            </Link>\r\n                            <Link href=\"/login\" className=\"px-10 py-5 bg-white text-[#1a237e] border-2 border-[#1a237e] rounded-xl font-black text-sm uppercase tracking-widest hover:bg-blue-50 transition-all\">\r\n                                {t('hero.cta.login')}\r\n                            </Link>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-4 pt-4\">\r\n                            <div className=\"flex -space-x-3\">\r\n                                {[1, 2, 3, 4].map(i => (\r\n                                    <div key={i} className=\"w-10 h-10 rounded-full border-2 border-white bg-gray-200 overflow-hidden\">\r\n                                        <img src={`https://i.pravatar.cc/150?u=asp_${i}`} alt=\"user\" className=\"w-full h-full object-cover\" />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <p className=\"text-xs font-bold text-gray-400 uppercase tracking-widest\">{t('hero.social_proof')}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"relative animate-in zoom-in duration-1000\">\r\n                        {/* Feed Mockup Aesthetic */}\r\n                        <div className=\"bg-white rounded-[2rem] shadow-2xl overflow-hidden border border-gray-100 transform rotate-2 hover:rotate-0 transition-all duration-700\">\r\n                            <div className=\"p-6 border-b border-gray-50 flex items-center justify-between\">\r\n                                <div className=\"flex gap-2\">\r\n                                    <div className=\"w-3 h-3 rounded-full bg-red-400\"></div>\r\n                                    <div className=\"w-3 h-3 rounded-full bg-yellow-400\"></div>\r\n                                    <div className=\"w-3 h-3 rounded-full bg-green-400\"></div>\r\n                                </div>\r\n                                <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('home.hero_feed_mockup')}</span>\r\n                            </div>\r\n                            <img src=\"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=800&q=80\" alt=\"Networking Interface\" className=\"w-full h-auto grayscale-[0.2] hover:grayscale-0 transition-all\" />\r\n                        </div>\r\n\r\n                        {/* Status Bubbles */}\r\n                        <div className=\"absolute -top-10 -right-4 bg-blue-700 text-white p-6 rounded-3xl shadow-2xl animate-bounce duration-[5000ms]\">\r\n                            <FiUsers className=\"mb-2\" size={24} />\r\n                            <p className=\"text-[10px] font-black uppercase\">{t('home.status.connections')}</p>\r\n                            <p className=\"text-xl font-black\">2.4K+</p>\r\n                        </div>\r\n                        <div className=\"absolute -bottom-8 -left-8 bg-white p-6 rounded-3xl shadow-xl border border-gray-50 transform -rotate-6 animate-pulse\">\r\n                            <FiShare2 className=\"text-blue-600 mb-2\" size={24} />\r\n                            <p className=\"text-[10px] font-black uppercase text-gray-400\">{t('home.status.posts')}</p>\r\n                            <p className=\"text-xl font-black text-gray-900\">50K+</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            {/* Social Proof Section */}\r\n            <section className=\"py-24 bg-white\">\r\n                <div className=\"max-w-7xl mx-auto px-6\">\r\n                    <div className=\"text-center mb-16 space-y-4\">\r\n                        <h2 className=\"text-xs font-black text-blue-600 uppercase tracking-[0.4em]\">{t('home.features.subtitle')}</h2>\r\n                        <h3 className=\"text-4xl font-black text-gray-900 tracking-tighter\">{t('home.features.title')}</h3>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-10\">\r\n                        <div className=\"space-y-6 p-8 rounded-[2rem] bg-gray-50 hover:bg-blue-50/50 transition-colors border border-transparent hover:border-blue-100\">\r\n                            <div className=\"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-[#1a237e] shadow-sm\"><FiUsers size={28} /></div>\r\n                            <h4 className=\"text-xl font-black text-gray-900 uppercase tracking-tight\">{t('home.features.expand.title')}</h4>\r\n                            <p className=\"text-sm font-medium text-gray-500 leading-relaxed\">{t('home.features.expand.desc')}</p>\r\n                        </div>\r\n                        <div className=\"space-y-6 p-8 rounded-[2rem] bg-gray-50 hover:bg-blue-50/50 transition-colors border border-transparent hover:border-blue-100\">\r\n                            <div className=\"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-[#1a237e] shadow-sm\"><FiShare2 size={28} /></div>\r\n                            <h4 className=\"text-xl font-black text-gray-900 uppercase tracking-tight\">{t('home.features.document.title')}</h4>\r\n                            <p className=\"text-sm font-medium text-gray-500 leading-relaxed\">{t('home.features.document.desc')}</p>\r\n                        </div>\r\n                        <div className=\"space-y-6 p-8 rounded-[2rem] bg-gray-50 hover:bg-blue-50/50 transition-colors border border-transparent hover:border-blue-100\">\r\n                            <div className=\"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-[#1a237e] shadow-sm\"><FiAward size={28} /></div>\r\n                            <h4 className=\"text-xl font-black text-gray-900 uppercase tracking-tight\">{t('home.features.learn.title')}</h4>\r\n                            <p className=\"text-sm font-medium text-gray-500 leading-relaxed\">{t('home.features.learn.desc')}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* LinkedIn-style Value Props */}\r\n            <section className=\"py-24 bg-[#F3F2EF]\">\r\n                <div className=\"max-w-7xl mx-auto px-6\">\r\n                    <div className=\"flex flex-col lg:flex-row items-center gap-20\">\r\n                        <div className=\"flex-1 space-y-8\">\r\n                            <h2 className=\"text-5xl font-black text-gray-900 tracking-tighter leading-none\">\r\n                                {t('home.identity.title')}\r\n                            </h2>\r\n                            <ul className=\"space-y-6\">\r\n                                <li className=\"flex gap-4\">\r\n                                    <div className=\"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center text-green-600 mt-1 flex-shrink-0\">‚úì</div>\r\n                                    <div>\r\n                                        <p className=\"font-black text-gray-900 uppercase text-xs tracking-widest\">{t('home.identity.profile.title')}</p>\r\n                                        <p className=\"text-sm text-gray-500 mt-1\">{t('home.identity.profile.desc')}</p>\r\n                                    </div>\r\n                                </li>\r\n                                <li className=\"flex gap-4\">\r\n                                    <div className=\"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center text-green-600 mt-1 flex-shrink-0\">‚úì</div>\r\n                                    <div>\r\n                                        <p className=\"font-black text-gray-900 uppercase text-xs tracking-widest\">{t('home.identity.feed.title')}</p>\r\n                                        <p className=\"text-sm text-gray-500 mt-1\">{t('home.identity.feed.desc')}</p>\r\n                                    </div>\r\n                                </li>\r\n                                <li className=\"flex gap-4\">\r\n                                    <div className=\"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center text-green-600 mt-1 flex-shrink-0\">‚úì</div>\r\n                                    <div>\r\n                                        <p className=\"font-black text-gray-900 uppercase text-xs tracking-widest\">{t('home.identity.messaging.title')}</p>\r\n                                        <p className=\"text-sm text-gray-500 mt-1\">{t('home.identity.messaging.desc')}</p>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                            <div className=\"pt-4\">\r\n                                <Link href=\"/signup\" className=\"px-8 py-4 bg-[#1a237e] text-white rounded-lg font-black text-xs uppercase tracking-widest shadow-lg hover:bg-black transition-all\">{t('home.identity.join_btn')}</Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex-1 relative\">\r\n                            <div className=\"bg-white p-8 rounded-[3rem] shadow-2xl space-y-8\">\r\n                                <div className=\"flex items-center gap-4 border-b border-gray-100 pb-8\">\r\n                                    <div className=\"w-16 h-16 rounded-full bg-blue-100 overflow-hidden shadow-inner\">\r\n                                        <img src=\"https://i.pravatar.cc/150?u=current\" alt=\"avatar\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-black text-lg text-gray-900 uppercase tracking-tight\">Kiran Kumar</p>\r\n                                        <p className=\"text-[10px] font-black text-blue-600 uppercase tracking-widest\">{t('home.identity.mock.role')}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"space-y-4\">\r\n                                    <div className=\"h-4 bg-gray-50 rounded-full w-3/4\"></div>\r\n                                    <div className=\"h-4 bg-gray-50 rounded-full w-full\"></div>\r\n                                    <div className=\"h-4 bg-gray-50 rounded-full w-1/2\"></div>\r\n                                </div>\r\n                                <div className=\"flex gap-4 pt-4\">\r\n                                    <div className=\"flex-1 h-12 bg-[#1a237e] rounded-xl flex items-center justify-center text-white font-black text-[10px] uppercase tracking-widest\">{t('home.identity.mock.requests')}</div>\r\n                                    <div className=\"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center text-blue-600 group hover:bg-blue-600 hover:text-white transition-colors cursor-pointer\"><FiMessageSquare /></div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"absolute -top-6 -left-6 bg-yellow-400 p-4 rounded-2xl shadow-xl transform -rotate-3\">\r\n                                <p className=\"font-black text-[10px] uppercase tracking-tighter\">{t('home.identity.mock.verified')}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* CTA */}\r\n            <section className=\"py-32 px-6\">\r\n                <div className=\"max-w-4xl mx-auto bg-white rounded-[4rem] p-12 lg:p-20 text-center shadow-xl border border-gray-100\">\r\n                    <h2 className=\"text-5xl font-black text-gray-900 tracking-tighter mb-8 italic\">{t('home.cta.title')}</h2>\r\n                    <p className=\"text-gray-500 font-medium text-lg mb-10\">{t('home.cta.desc')}</p>\r\n                    <Link href=\"/signup\" className=\"px-16 py-6 bg-[#1a237e] text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-black transition-all shadow-2xl flex items-center justify-center gap-4 group mx-auto w-fit\">\r\n                        {t('home.cta.btn')}\r\n                        <FiArrowRight className=\"group-hover:translate-x-2 transition-transform\" />\r\n                    </Link>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Footer */}\r\n            <footer className=\"py-20 border-t border-gray-200\">\r\n                <div className=\"max-w-7xl mx-auto px-6 text-center space-y-10\">\r\n                    <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"w-12 h-12 bg-[#1a237e] rounded-xl flex items-center justify-center text-white font-black text-2xl shadow-lg\">S</div>\r\n                        <span className=\"text-3xl font-black text-[#1a237e] tracking-tighter uppercase italic\">SarkariMinds</span>\r\n                    </div>\r\n                    <p className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em]\">{t('home.footer.mission')}</p>\r\n                    <div className=\"flex justify-center gap-12 text-[10px] font-black text-gray-500 uppercase tracking-widest\">\r\n                        <Link href=\"/privacy\" className=\"hover:text-[#1a237e]\">{t('nav.privacy')}</Link>\r\n                        <Link href=\"/terms\" className=\"hover:text-[#1a237e]\">{t('nav.terms')}</Link>\r\n                        <Link href=\"/about\" className=\"hover:text-[#1a237e]\">{t('nav.about')}</Link>\r\n                        <Link href=\"/contact\" className=\"hover:text-[#1a237e]\">{t('nav.contact')}</Link>\r\n                    </div>\r\n                    <p className=\"text-[8px] font-bold text-gray-300 uppercase\">¬© 2026 SarkariMinds Team. All rights reserved.</p>\r\n                </div>\r\n            </footer>\r\n\r\n            <style jsx global>{`\r\n                @keyframes loading {\r\n                    0% { transform: translateX(-100%); }\r\n                    100% { transform: translateX(200%); }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\profile\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[618,621],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[618,621],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[641,644],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[641,644],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[664,667],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[664,667],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1121,1124],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1121,1124],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":48,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1614,1617],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1614,1617],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2996,2999],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2996,2999],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3099,3102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3099,3102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadPage'. Either include it or remove the dependency array.","line":114,"column":8,"nodeType":"ArrayExpression","endLine":114,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: [id, currentUser?.token, loadPage]","fix":{"range":[4160,4184],"text":"[id, currentUser?.token, loadPage]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":216,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":216,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8210,8213],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8210,8213],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":257,"column":33,"nodeType":"JSXOpeningElement","endLine":257,"endColumn":102},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":257,"column":33,"nodeType":"JSXOpeningElement","endLine":257,"endColumn":102},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":279,"column":63,"nodeType":"JSXOpeningElement","endLine":279,"endColumn":134},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":279,"column":63,"nodeType":"JSXOpeningElement","endLine":279,"endColumn":134},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":341,"column":85,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":341,"endColumn":88,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16646,16649],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16646,16649],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":493,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":493,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[29712,29715],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[29712,29715],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport PostCard from '@/components/PostCard';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport Link from 'next/link';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\ninterface UserProfile {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n    accountType: string;\r\n    about: string;\r\n    profilePic: string;\r\n    coverPic: string;\r\n    exams: string[];\r\n    connections: any[];\r\n    followers: any[];\r\n    following: any[];\r\n    connectionStatus: 'none' | 'pending' | 'accepted' | 'rejected';\r\n    isRequester: boolean;\r\n    requestId: string | null;\r\n}\r\n\r\nexport default function ProfilePage() {\r\n    const { id } = useParams();\r\n    const router = useRouter();\r\n    const { user: currentUser, updateUser, logout } = useAuth();\r\n    const { t } = useLanguage();\r\n    const [profile, setProfile] = useState<UserProfile | null>(null);\r\n    const [posts, setPosts] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isFollowing, setIsFollowing] = useState(false);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [editForm, setEditForm] = useState({\r\n        name: '',\r\n        about: '',\r\n        profilePic: '',\r\n        coverPic: '',\r\n        profileFile: null as File | null,\r\n        coverFile: null as File | null,\r\n        preferredExams: [] as string[]\r\n    });\r\n    const [allExams, setAllExams] = useState<any[]>([]);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    const fetchProfile = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/users/${id}`, {\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setProfile(data);\r\n\r\n                // Sync with AuthContext if it's the current user\r\n                if (currentUser?._id === data._id) {\r\n                    updateUser({\r\n                        name: data.name,\r\n                        profilePic: data.profilePic,\r\n                        coverPic: data.coverPic,\r\n                        about: data.about,\r\n                        connectionsCount: data.connections?.length || 0,\r\n                        followersCount: data.followers?.length || 0,\r\n                        followingCount: data.following?.length || 0,\r\n                    });\r\n                }\r\n\r\n                setEditForm({\r\n                    name: data.name,\r\n                    about: data.about || '',\r\n                    profilePic: data.profilePic || '',\r\n                    coverPic: data.coverPic || '',\r\n                    profileFile: null,\r\n                    coverFile: null,\r\n                    preferredExams: data.preferredExams?.map((e: any) => e._id || e) || []\r\n                });\r\n                setIsFollowing(data.followers.some((f: any) => f._id === currentUser?._id));\r\n            } else {\r\n                router.push('/feed');\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const fetchPosts = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/posts/user/${id}`, {\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (Array.isArray(data)) setPosts(data);\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const fetchAllExams = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/exams');\r\n            if (res.ok) setAllExams(await res.json());\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const loadPage = async () => {\r\n        setLoading(true);\r\n        await Promise.all([fetchProfile(), fetchPosts(), fetchAllExams()]);\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (currentUser?.token && id) loadPage();\r\n    }, [id, currentUser?.token]);\r\n\r\n    const handleConnect = async () => {\r\n        if (!profile) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/connections/request', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                },\r\n                body: JSON.stringify({ recipientId: profile._id })\r\n            });\r\n            if (res.ok) fetchProfile();\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleAcceptRequest = async () => {\r\n        if (!profile || !profile.requestId) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/connections/respond', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                },\r\n                body: JSON.stringify({ requestId: profile.requestId, status: 'accepted' })\r\n            });\r\n            if (res.ok) fetchProfile();\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleToggleFollow = async () => {\r\n        if (!profile) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/users/${profile._id}/follow`, {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setIsFollowing(data.isFollowing);\r\n                fetchProfile();\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleDeleteAccount = async () => {\r\n        if (!confirm(t('profile.delete_confirm'))) return;\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/profile', {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${currentUser?.token}` }\r\n            });\r\n            if (res.ok) {\r\n                alert(t('profile.delete_success'));\r\n                logout();\r\n            } else {\r\n                alert(t('profile.delete_failed'));\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleUpdateProfile = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsSaving(true);\r\n        const formData = new FormData();\r\n        formData.append('name', editForm.name);\r\n        formData.append('about', editForm.about);\r\n        if (editForm.profileFile) formData.append('profilePic', editForm.profileFile);\r\n        if (editForm.coverFile) formData.append('coverPic', editForm.coverFile);\r\n\r\n        try {\r\n            // First update general profile\r\n            const res = await fetch('http://localhost:5000/api/users/profile', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                },\r\n                body: formData\r\n            });\r\n\r\n            // Then update exams (using the new endpoint)\r\n            const examRes = await fetch('http://localhost:5000/api/exams/select', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${currentUser?.token}`\r\n                },\r\n                body: JSON.stringify({ preferredExamIds: editForm.preferredExams })\r\n            });\r\n\r\n            if (res.ok && examRes.ok) {\r\n                const data = await res.json();\r\n                const examData = await examRes.json();\r\n                updateUser({\r\n                    name: data.name,\r\n                    profilePic: data.profilePic,\r\n                    coverPic: data.coverPic,\r\n                    about: data.about,\r\n                    preferredExams: examData.preferredExams,\r\n                    exams: examData.preferredExams.map((e: any) => e.name)\r\n                });\r\n                setIsEditing(false);\r\n                fetchProfile();\r\n                alert(t('profile.update_success'));\r\n            } else {\r\n                const errorData = await res.json();\r\n                alert(`${t('profile.update_failed')} ${errorData.message}`);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert(t('profile.update_error'));\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    if (loading && !profile) return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <div className=\"pt-32 text-center text-gray-400 font-black uppercase tracking-widest animate-pulse\">{t('profile.loading')}</div>\r\n        </div>\r\n    );\r\n\r\n    if (!profile) return null;\r\n\r\n    const isSelf = currentUser?._id === profile._id;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 space-y-6\">\r\n                    {/* Profile Header */}\r\n                    <div className=\"bg-white rounded-3xl border shadow-sm overflow-hidden\">\r\n                        <div className=\"h-52 md:h-72 bg-gray-200 relative group\">\r\n                            {profile.coverPic ? (\r\n                                <img src={profile.coverPic} className=\"w-full h-full object-cover\" />\r\n                            ) : (\r\n                                <div className=\"w-full h-full bg-gradient-to-r from-[#1a237e] via-[#283593] to-[#3949ab]\">\r\n                                    <div className=\"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]\"></div>\r\n                                </div>\r\n                            )}\r\n                            {isSelf && (\r\n                                <button\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    className=\"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/40 backdrop-blur-md rounded-full text-white transition-all opacity-0 group-hover:opacity-100\"\r\n                                >\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                        <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\r\n                                    </svg>\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"px-8 pb-8\">\r\n                            <div className=\"relative flex justify-between items-end -mt-16 mb-6\">\r\n                                <div className=\"p-1.5 bg-white rounded-full shadow-2xl relative group\">\r\n                                    <div className=\"w-36 h-36 rounded-full bg-blue-50 flex items-center justify-center text-5xl font-black text-blue-800 uppercase overflow-hidden border-8 border-white\">\r\n                                        {profile.profilePic ? <img src={profile.profilePic} className=\"w-full h-full object-cover\" /> : profile.name.charAt(0)}\r\n                                    </div>\r\n                                    {isSelf && (\r\n                                        <button\r\n                                            onClick={() => setIsEditing(true)}\r\n                                            className=\"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-white\"\r\n                                        >\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                                <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"flex space-x-3 mb-2\">\r\n                                    {isSelf ? (\r\n                                        <div className=\"flex space-x-2\">\r\n                                            <button\r\n                                                onClick={() => setIsEditing(true)}\r\n                                                className=\"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-full text-xs font-black uppercase tracking-widest hover:bg-gray-200 transition-all active:scale-95\"\r\n                                            >\r\n                                                {t('profile.edit')}\r\n                                            </button>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <>\r\n                                            <button\r\n                                                onClick={handleToggleFollow}\r\n                                                className={`px-6 py-2.5 rounded-full text-xs font-black uppercase tracking-widest transition-all ${isFollowing ? 'bg-gray-100 text-gray-600' : 'bg-blue-50 text-blue-700 border-2 border-blue-200'}`}\r\n                                            >\r\n                                                {isFollowing ? t('profile.following') : t('profile.follow')}\r\n                                            </button>\r\n\r\n                                            {profile.connectionStatus === 'accepted' ? (\r\n                                                <Link href={`/messages?user=${profile._id}`} className=\"px-6 py-2.5 bg-blue-700 text-white rounded-full text-xs font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg active:scale-95\">\r\n                                                    {t('profile.message')}\r\n                                                </Link>\r\n                                            ) : profile.connectionStatus === 'pending' ? (\r\n                                                <button\r\n                                                    onClick={!profile.isRequester ? handleAcceptRequest : undefined}\r\n                                                    disabled={profile.isRequester}\r\n                                                    className={`px-6 py-2.5 rounded-full text-xs font-black uppercase tracking-widest transition-all ${profile.isRequester ? 'bg-gray-100 text-gray-400' : 'bg-green-600 text-white hover:bg-black shadow-lg active:scale-95'}`}\r\n                                                >\r\n                                                    {profile.isRequester ? t('profile.pending') : t('profile.accept')}\r\n                                                </button>\r\n                                            ) : (\r\n                                                <button\r\n                                                    onClick={handleConnect}\r\n                                                    className=\"px-6 py-2.5 bg-blue-700 text-white rounded-full text-xs font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg active:scale-95\"\r\n                                                >\r\n                                                    {t('profile.connect')}\r\n                                                </button>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-1\">\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <h1 className=\"text-2xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-2\">\r\n                                        {profile.name}\r\n                                        {['mentor', 'academy'].includes((profile as any).role || '') && (\r\n                                            <span className=\"text-blue-500\" title=\"Verified\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-6 h-6\">\r\n                                                    <path fillRule=\"evenodd\" d=\"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.491 4.491 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clipRule=\"evenodd\" />\r\n                                                </svg>\r\n                                            </span>\r\n                                        )}\r\n                                    </h1>\r\n                                    <span className=\"bg-blue-100 text-blue-700 text-[10px] px-3 py-1 rounded-full font-black uppercase tracking-widest\">{profile.accountType === 'Aspirant' ? t('sidebar.aspirant') : profile.accountType}</span>\r\n                                </div>\r\n                                <p className=\"text-gray-600 font-medium whitespace-pre-line text-sm max-w-lg\">\r\n                                    {profile.about || t('profile.default_about')}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"mt-6 flex items-center space-x-6\">\r\n                                <div className=\"flex flex-col\">\r\n                                    <span className=\"text-xl font-black text-gray-900\">{profile.connections?.length || 0}</span>\r\n                                    <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]\">{t('profile.connections')}</span>\r\n                                </div>\r\n                                <div className=\"flex flex-col\">\r\n                                    <span className=\"text-xl font-black text-gray-900\">{profile.followers?.length || 0}</span>\r\n                                    <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]\">{t('profile.followers')}</span>\r\n                                </div>\r\n                                <div className=\"flex flex-col\">\r\n                                    <span className=\"text-xl font-black text-gray-900\">{profile.following?.length || 0}</span>\r\n                                    <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]\">{t('profile.following_count')}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {isEditing && (\r\n                        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\">\r\n                            <div className=\"bg-white rounded-3xl w-full max-w-lg overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200\">\r\n                                <div className=\"p-6 border-b flex justify-between items-center\">\r\n                                    <h2 className=\"text-xl font-black text-gray-900 uppercase tracking-tight\">{t('profile.edit')}</h2>\r\n                                    <button onClick={() => setIsEditing(false)} className=\"text-gray-400 hover:text-gray-600\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                                        </svg>\r\n                                    </button>\r\n                                </div>\r\n                                <form onSubmit={handleUpdateProfile} className=\"p-6 space-y-4\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('profile.label.name')}</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={editForm.name}\r\n                                            onChange={(e) => setEditForm({ ...editForm, name: e.target.value })}\r\n                                            className=\"w-full px-4 py-3 bg-gray-50 border rounded-xl font-bold focus:border-blue-600 outline-none transition\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('profile.label.bio')}</label>\r\n                                        <textarea\r\n                                            value={editForm.about}\r\n                                            onChange={(e) => setEditForm({ ...editForm, about: e.target.value })}\r\n                                            rows={3}\r\n                                            placeholder={t('profile.bio_placeholder')}\r\n                                            className=\"w-full px-4 py-3 bg-gray-50 border rounded-xl font-medium focus:border-blue-600 outline-none transition resize-none\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div className=\"space-y-2\">\r\n                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('profile.label.profile_photo')}</label>\r\n                                            <div className=\"relative\">\r\n                                                <input\r\n                                                    type=\"file\"\r\n                                                    accept=\"image/*\"\r\n                                                    onChange={(e) => setEditForm({ ...editForm, profileFile: e.target.files?.[0] || null })}\r\n                                                    className=\"w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-black file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"space-y-2\">\r\n                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('profile.label.cover_photo')}</label>\r\n                                            <div className=\"relative\">\r\n                                                <input\r\n                                                    type=\"file\"\r\n                                                    accept=\"image/*\"\r\n                                                    onChange={(e) => setEditForm({ ...editForm, coverFile: e.target.files?.[0] || null })}\r\n                                                    className=\"w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-black file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"space-y-4 pt-2\">\r\n                                        <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">Select Target Exams</label>\r\n                                        <div className=\"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto pr-2 custom-scrollbar\">\r\n                                            {allExams.map(exam => (\r\n                                                <label key={exam._id} className={`flex items-center gap-2 p-2 border rounded-xl cursor-pointer transition ${editForm.preferredExams.includes(exam._id) ? 'bg-blue-50 border-blue-200' : 'hover:bg-gray-50'}`}>\r\n                                                    <input\r\n                                                        type=\"checkbox\"\r\n                                                        checked={editForm.preferredExams.includes(exam._id)}\r\n                                                        onChange={(e) => {\r\n                                                            const newExams = e.target.checked\r\n                                                                ? [...editForm.preferredExams, exam._id]\r\n                                                                : editForm.preferredExams.filter((id: string) => id !== exam._id);\r\n                                                            if (newExams.length > 5) return alert('Maximum 5 exams allowed');\r\n                                                            setEditForm({ ...editForm, preferredExams: newExams });\r\n                                                        }}\r\n                                                        className=\"w-3 h-3 text-blue-600 rounded\"\r\n                                                    />\r\n                                                    <span className=\"text-[10px] font-bold text-gray-700\">{exam.name}</span>\r\n                                                </label>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"pt-4 flex space-x-3\">\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setIsEditing(false)}\r\n                                            className=\"flex-1 px-6 py-3 bg-gray-100 text-gray-600 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-200\"\r\n                                        >\r\n                                            {t('common.cancel')}\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            disabled={isSaving}\r\n                                            className=\"flex-1 px-6 py-3 bg-blue-700 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-black transition-all shadow-lg active:scale-95 disabled:opacity-50\"\r\n                                        >\r\n                                            {isSaving ? t('profile.saving') : t('profile.save_changes')}\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Target Exams */}\r\n                    <div className=\"bg-white rounded-2xl border shadow-sm p-6\">\r\n                        <h3 className=\"text-xs font-black text-gray-400 uppercase tracking-[0.2em] mb-4\">{t('profile.targeting_exams')}</h3>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {profile.exams.length > 0 ? profile.exams.map(exam => (\r\n                                <span key={exam} className=\"px-4 py-2 bg-gray-50 border rounded-xl text-xs font-bold text-gray-700 hover:border-blue-200 hover:bg-blue-50 transition-colors\">\r\n                                    {exam}\r\n                                </span>\r\n                            )) : (\r\n                                <p className=\"text-xs text-gray-400 italic\">{t('profile.no_exams')}</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Posts Section */}\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex items-center justify-between px-2\">\r\n                            <h3 className=\"text-xs font-black text-gray-900 uppercase tracking-[0.2em]\">{t('profile.activity')}</h3>\r\n                            <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{posts.length} {t('profile.posts')}</span>\r\n                        </div>\r\n\r\n                        {posts.length > 0 ? (\r\n                            posts.map((post: any) => (\r\n                                <PostCard key={post._id} post={post} />\r\n                            ))\r\n                        ) : (\r\n                            <div className=\"bg-white rounded-2xl border p-20 text-center\">\r\n                                <p className=\"text-sm font-black text-gray-300 uppercase tracking-widest italic\">{t('profile.no_activity')}</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Account Management (Self Only) */}\r\n                    {isSelf && (\r\n                        <div className=\"pt-10 pb-6 border-t border-gray-200\">\r\n                            <h3 className=\"text-xs font-black text-gray-400 uppercase tracking-[0.2em] mb-4 text-center\">{t('profile.account_settings')}</h3>\r\n                            <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n                                <button\r\n                                    onClick={logout}\r\n                                    className=\"w-full sm:w-auto px-8 py-3 bg-white border-2 border-red-100 text-red-600 rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-red-50 transition-all active:scale-95\"\r\n                                >\r\n                                    {t('profile.logout')}\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleDeleteAccount}\r\n                                    className=\"w-full sm:w-auto px-8 py-3 bg-red-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-black transition-all active:scale-95 shadow-lg shadow-red-200\"\r\n                                >\r\n                                    {t('profile.delete_account')}\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"mt-4 text-[10px] text-gray-400 text-center font-bold uppercase tracking-widest opacity-50\">\r\n                                {t('profile.delete_warning')}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\register\\academy\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":49,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":49,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { FiArrowLeft, FiCheck, FiBriefcase, FiGlobe, FiMapPin, FiInfo } from 'react-icons/fi';\r\n\r\nexport default function AcademyRegister() {\r\n    const { t } = useLanguage();\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        academyName: '',\r\n        location: '',\r\n        website: '',\r\n        description: ''\r\n    });\r\n    const { user, loading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login?redirect=/register/academy');\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    const handleApply = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const res = await fetch('http://localhost:5000/api/users/apply-academy', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify(formData)\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                setSuccess(true);\r\n                setTimeout(() => router.push('/feed'), 3000);\r\n            } else {\r\n                alert(data.message);\r\n            }\r\n        } catch (err) {\r\n            alert(t('auth.reg_fail'));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (authLoading) return <div className=\"min-h-screen flex items-center justify-center\">{t('auth.authenticating')}</div>;\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#F8FAFC] flex items-center justify-center p-6 text-center\">\r\n                <div className=\"max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl p-12 border border-green-100\">\r\n                    <div className=\"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                        <FiCheck size={40} />\r\n                    </div>\r\n                    <h2 className=\"text-3xl font-black text-gray-900 mb-4\">{t('partner.academy.success_title')}</h2>\r\n                    <p className=\"text-gray-500 font-medium leading-relaxed\">\r\n                        {t('partner.academy.success_desc')}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-400 mt-8 font-bold uppercase tracking-widest animate-pulse\">{t('auth.redirecting')}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F8FAFC] flex items-center justify-center p-6\">\r\n            <div className=\"max-w-5xl w-full bg-white rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row border border-gray-100\">\r\n\r\n                {/* Visual Sidebar */}\r\n                <div className=\"md:w-5/12 bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 p-12 text-white flex flex-col justify-between relative\">\r\n                    <div className=\"relative z-10\">\r\n                        <Link href=\"/feed\" className=\"inline-flex items-center gap-2 text-blue-200 font-bold text-sm mb-12 hover:text-white transition-colors\">\r\n                            <FiArrowLeft /> {t('news.go_back')}\r\n                        </Link>\r\n                        <div className=\"inline-block bg-white/10 backdrop-blur-md border border-white/20 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-6\">{t('partner.academy.badge')}</div>\r\n                        <h2 className=\"text-5xl font-black mb-6 leading-[1.1]\">{t('partner.academy.hero')}</h2>\r\n                        <ul className=\"space-y-4\">\r\n                            {[\r\n                                { icon: <FiBriefcase />, text: t('partner.academy.benefit1') },\r\n                                { icon: <FiGlobe />, text: t('partner.academy.benefit2') },\r\n                                { icon: <FiInfo />, text: t('partner.academy.benefit3') }\r\n                            ].map((item, i) => (\r\n                                <li key={i} className=\"flex items-center gap-3 text-blue-100/80 font-semibold\">\r\n                                    <span className=\"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center text-white\">{item.icon}</span>\r\n                                    {item.text}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Application Form */}\r\n                <div className=\"md:w-7/12 p-12 md:p-16\">\r\n                    <div className=\"mb-10\">\r\n                        <h3 className=\"text-3xl font-black text-gray-900 mb-2\">{t('partner.academy.title')}</h3>\r\n                        <p className=\"text-gray-500 font-medium\">{t('auth.joining')} <span className=\"text-blue-700 font-bold\">SarkariMinds</span>.</p>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleApply} className=\"space-y-6\">\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1\">{t('partner.academy.label.name')}</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                required\r\n                                value={formData.academyName}\r\n                                onChange={e => setFormData({ ...formData, academyName: e.target.value })}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 font-semibold text-gray-700 focus:bg-white focus:border-blue-600 outline-none transition-all\"\r\n                                placeholder={t('partner.academy.ph.name')}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-1\">\r\n                                    <FiMapPin size={12} /> {t('partner.academy.label.location')}\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    required\r\n                                    value={formData.location}\r\n                                    onChange={e => setFormData({ ...formData, location: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 font-semibold text-gray-700 focus:bg-white focus:border-blue-600 outline-none transition-all\"\r\n                                    placeholder={t('partner.academy.ph.location')}\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-1\">\r\n                                    <FiGlobe size={12} /> {t('partner.academy.label.website')}\r\n                                </label>\r\n                                <input\r\n                                    type=\"url\"\r\n                                    value={formData.website}\r\n                                    onChange={e => setFormData({ ...formData, website: e.target.value })}\r\n                                    className=\"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 font-semibold text-gray-700 focus:bg-white focus:border-blue-600 outline-none transition-all\"\r\n                                    placeholder=\"https://example.com\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1\">{t('partner.academy.label.desc')}</label>\r\n                            <textarea\r\n                                required\r\n                                value={formData.description}\r\n                                onChange={e => setFormData({ ...formData, description: e.target.value })}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 font-semibold text-gray-700 focus:bg-white focus:border-blue-600 outline-none transition-all min-h-[100px]\"\r\n                                placeholder={t('partner.academy.ph.desc')}\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"w-full bg-gradient-to-r from-blue-700 to-indigo-800 hover:from-black hover:to-black text-white font-black py-5 rounded-2xl transition-all shadow-xl shadow-blue-100 uppercase tracking-widest active:scale-[0.98] mt-4\"\r\n                        >\r\n                            {loading ? t('partner.submitting') : t('partner.submit')}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\register\\mentor\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":48,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":48,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { FiArrowLeft, FiCheck, FiAward, FiBookOpen, FiActivity } from 'react-icons/fi';\r\n\r\nexport default function MentorRegister() {\r\n    const { t } = useLanguage();\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        experience: '',\r\n        expertise: [] as string[]\r\n    });\r\n    const [currentExpertise, setCurrentExpertise] = useState('');\r\n    const { user, loading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login?redirect=/register/mentor');\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    const handleApply = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const res = await fetch('http://localhost:5000/api/users/apply-mentor', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify(formData)\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                setSuccess(true);\r\n                setTimeout(() => router.push('/feed'), 3000);\r\n            } else {\r\n                alert(data.message);\r\n            }\r\n        } catch (err) {\r\n            alert(t('auth.reg_fail'));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const addExpertise = () => {\r\n        if (currentExpertise && !formData.expertise.includes(currentExpertise)) {\r\n            setFormData({ ...formData, expertise: [...formData.expertise, currentExpertise] });\r\n            setCurrentExpertise('');\r\n        }\r\n    };\r\n\r\n    if (authLoading) return <div className=\"min-h-screen flex items-center justify-center\">{t('auth.authenticating')}</div>;\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#F8FAFC] flex items-center justify-center p-6 text-center\">\r\n                <div className=\"max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl p-12 border border-green-100\">\r\n                    <div className=\"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                        <FiCheck size={40} />\r\n                    </div>\r\n                    <h2 className=\"text-3xl font-black text-gray-900 mb-4\">{t('partner.academy.success_title')}</h2>\r\n                    <p className=\"text-gray-500 font-medium leading-relaxed\">\r\n                        {t('partner.mentor.success_desc')}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-400 mt-8 font-bold uppercase tracking-widest animate-pulse\">{t('auth.redirecting')}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F8FAFC] flex items-center justify-center p-6\">\r\n            <div className=\"max-w-5xl w-full bg-white rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row border border-gray-100\">\r\n\r\n                {/* Visual Sidebar */}\r\n                <div className=\"md:w-5/12 bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 p-12 text-white flex flex-col justify-between relative\">\r\n                    <div className=\"relative z-10\">\r\n                        <Link href=\"/feed\" className=\"inline-flex items-center gap-2 text-indigo-200 font-bold text-sm mb-12 hover:text-white transition-colors\">\r\n                            <FiArrowLeft /> {t('news.go_back')}\r\n                        </Link>\r\n                        <div className=\"inline-block bg-white/10 backdrop-blur-md border border-white/20 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-6\">{t('partner.mentor.program')}</div>\r\n                        <h2 className=\"text-5xl font-black mb-6 leading-[1.1]\">{t('partner.mentor.hero')}</h2>\r\n                        <ul className=\"space-y-4\">\r\n                            {[\r\n                                { icon: <FiAward />, text: t('partner.mentor.benefit1') },\r\n                                { icon: <FiBookOpen />, text: t('partner.mentor.benefit2') },\r\n                                { icon: <FiActivity />, text: t('partner.mentor.benefit3') }\r\n                            ].map((item, i) => (\r\n                                <li key={i} className=\"flex items-center gap-3 text-indigo-100/80 font-semibold\">\r\n                                    <span className=\"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center text-white\">{item.icon}</span>\r\n                                    {item.text}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Application Form */}\r\n                <div className=\"md:w-7/12 p-12 md:p-16\">\r\n                    <div className=\"mb-10\">\r\n                        <h3 className=\"text-3xl font-black text-gray-900 mb-2\">{t('partner.mentor.title')}</h3>\r\n                        <p className=\"text-gray-500 font-medium\">{t('auth.login_greeting')} <span className=\"text-indigo-600 font-bold\">{user?.name}</span>. {t('partner.mentor.desc')}</p>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleApply} className=\"space-y-8\">\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1\">{t('partner.mentor.label.exp')}</label>\r\n                            <textarea\r\n                                required\r\n                                value={formData.experience}\r\n                                onChange={e => setFormData({ ...formData, experience: e.target.value })}\r\n                                className=\"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 font-semibold text-gray-700 focus:bg-white focus:border-indigo-600 outline-none transition-all min-h-[120px]\"\r\n                                placeholder={t('partner.mentor.ph.exp')}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <label className=\"text-xs font-bold text-gray-400 uppercase tracking-widest ml-1\">{t('partner.mentor.label.expertise')}</label>\r\n                            <div className=\"flex gap-3\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={currentExpertise}\r\n                                    onChange={e => setCurrentExpertise(e.target.value)}\r\n                                    onKeyDown={e => e.key === 'Enter' && (e.preventDefault(), addExpertise())}\r\n                                    className=\"flex-1 bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 font-semibold text-gray-700 focus:bg-white focus:border-indigo-600 outline-none transition-all\"\r\n                                    placeholder={t('partner.mentor.ph.expertise')}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={addExpertise}\r\n                                    className=\"bg-indigo-600 text-white px-6 rounded-2xl font-black hover:bg-black transition-colors\"\r\n                                >\r\n                                    {t('partner.mentor.add_btn')}\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {formData.expertise.map((item, i) => (\r\n                                    <div key={i} className=\"bg-indigo-50 text-indigo-700 text-xs font-black px-4 py-2 rounded-xl flex items-center gap-2 border border-indigo-100\">\r\n                                        {item}\r\n                                        <button type=\"button\" onClick={() => setFormData({ ...formData, expertise: formData.expertise.filter((_, idx) => idx !== i) })} className=\"hover:text-red-500\">√ó</button>\r\n                                    </div>\r\n                                ))}\r\n                                {formData.expertise.length === 0 && <p className=\"text-xs text-gray-400 italic py-2\">{t('partner.mentor.no_expertise')}</p>}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-amber-50 rounded-2xl p-5 border border-amber-100\">\r\n                            <p className=\"text-xs text-amber-800 font-medium leading-relaxed\">\r\n                                {t('partner.mentor.note')}\r\n                            </p>\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading || formData.expertise.length === 0}\r\n                            className=\"w-full bg-gradient-to-r from-indigo-700 to-blue-800 hover:from-black hover:to-black text-white font-black py-5 rounded-2xl transition-all shadow-xl shadow-indigo-100 uppercase tracking-widest active:scale-[0.98] disabled:opacity-50\"\r\n                        >\r\n                            {loading ? t('partner.submitting') : t('partner.submit')}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\register\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'router' is assigned a value but never used.","line":36,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":81,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":81,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":108,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":108,"endColumn":21}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { TranslationKey } from '@/translations';\r\n\r\nconst EXAMS: TranslationKey[] = [\r\n    'exam.kas', 'exam.fda', 'exam.sda',\r\n    'exam.pdo', 'exam.psi', 'exam.pc',\r\n    'exam.aeje', 'exam.hescom', 'exam.tet',\r\n    'exam.va', 'exam.pwd', 'exam.group_abc'\r\n];\r\n\r\nexport default function Register() {\r\n    const { t } = useLanguage();\r\n    const [step, setStep] = useState(1);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        mobile: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        about: '',\r\n        exams: [] as string[],\r\n        method: 'email' as 'email' | 'mobile'\r\n    });\r\n    const [otpData, setOtpData] = useState({ otp: '' });\r\n    const [loading, setLoading] = useState(false);\r\n    const [passwordCriteria, setPasswordCriteria] = useState({\r\n        length: false,\r\n        letter: false,\r\n        match: false,\r\n    });\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        setPasswordCriteria({\r\n            length: formData.password.length >= 6,\r\n            letter: /[a-zA-Z]/.test(formData.password),\r\n            match: formData.password !== '' && formData.password === formData.confirmPassword,\r\n        });\r\n    }, [formData.password, formData.confirmPassword]);\r\n\r\n    const isPasswordValid = passwordCriteria.length && passwordCriteria.letter && passwordCriteria.match;\r\n\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const toggleExam = (exam: string) => {\r\n        if (formData.exams.includes(exam)) {\r\n            setFormData({ ...formData, exams: formData.exams.filter(e => e !== exam) });\r\n        } else {\r\n            setFormData({ ...formData, exams: [...formData.exams, exam] });\r\n        }\r\n    };\r\n\r\n    const handleSendOtp = async () => {\r\n        if (!isPasswordValid) return alert(t('auth.fix_pass'));\r\n        if (formData.exams.length === 0) return alert(t('auth.select_exam_err'));\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/auth/send-otp', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    email: formData.email,\r\n                    mobile: formData.mobile,\r\n                    method: formData.method\r\n                })\r\n            });\r\n            if (res.ok) {\r\n                setStep(3);\r\n            } else {\r\n                const data = await res.json();\r\n                alert(data.message);\r\n            }\r\n        } catch (err) { alert(t('auth.otp_fail')); }\r\n        finally { setLoading(false); }\r\n    };\r\n\r\n    const handleVerifyAndRegister = async () => {\r\n        if (!otpData.otp) return alert(t('auth.enter_otp_err'));\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/auth/verify-register', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    email: formData.email,\r\n                    mobile: formData.mobile,\r\n                    password: formData.password,\r\n                    about: formData.about,\r\n                    exams: formData.exams,\r\n                    otp: otpData.otp\r\n                })\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                localStorage.setItem('user', JSON.stringify(data));\r\n                window.location.href = '/feed';\r\n            } else { alert(data.message); }\r\n        } catch (err) { alert(t('auth.reg_fail')); }\r\n        finally { setLoading(false); }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF] flex flex-col items-center justify-center p-6 text-gray-900 font-sans\">\r\n            <div className=\"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 border border-gray-200\">\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-4xl font-black text-blue-900 tracking-tighter italic\">NammaSarkaari</h1>\r\n                    <p className=\"text-gray-500 mt-1 font-bold text-sm uppercase tracking-widest\">{t('hero.subtitle')}</p>\r\n                </div>\r\n\r\n                {step === 1 && (\r\n                    <div className=\"space-y-4\">\r\n                        <h2 className=\"text-xl font-black text-gray-800 border-b-4 border-yellow-400 inline-block mb-2\">{t('auth.step1')}</h2>\r\n                        <div className=\"space-y-3\">\r\n                            <input name=\"name\" value={formData.name} placeholder={t('auth.fullname')} className=\"w-full px-4 py-4 bg-gray-50 border-2 border-transparent focus:border-blue-600 rounded-xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                            <input name=\"email\" type=\"email\" value={formData.email} placeholder={t('auth.email_label')} className=\"w-full px-4 py-4 bg-gray-50 border-2 border-transparent focus:border-blue-600 rounded-xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                            <input name=\"mobile\" value={formData.mobile} placeholder={t('auth.mobile_hint')} className=\"w-full px-4 py-4 bg-gray-50 border-2 border-transparent focus:border-blue-600 rounded-xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                            <textarea name=\"about\" value={formData.about} placeholder={t('auth.bio_hint')} className=\"w-full px-4 py-4 bg-gray-50 border-2 border-transparent focus:border-blue-600 rounded-xl outline-none transition font-bold resize-none h-24\" onChange={handleInputChange} />\r\n\r\n                            <div className=\"bg-blue-50 p-4 rounded-2xl border-2 border-blue-100 space-y-3\">\r\n                                <input name=\"password\" type=\"password\" value={formData.password} placeholder={t('auth.pass_hint')} className=\"w-full px-4 py-3 bg-white border-2 border-transparent focus:border-blue-600 rounded-xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                                <input name=\"confirmPassword\" type=\"password\" value={formData.confirmPassword} placeholder={t('auth.confirm_pass')} className=\"w-full px-4 py-3 bg-white border-2 border-transparent focus:border-blue-600 rounded-xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n\r\n                                <div className=\"mt-2 flex flex-wrap gap-3 text-[10px] font-black uppercase tracking-tighter\">\r\n                                    <span className={passwordCriteria.length ? 'text-green-600' : 'text-blue-300'}>\r\n                                        {passwordCriteria.length ? '‚úì' : '‚óè'} {t('auth.len6')}\r\n                                    </span>\r\n                                    <span className={passwordCriteria.letter ? 'text-green-600' : 'text-blue-300'}>\r\n                                        {passwordCriteria.letter ? '‚úì' : '‚óè'} {t('auth.letter')}\r\n                                    </span>\r\n                                    <span className={passwordCriteria.match ? 'text-green-600' : 'text-blue-300'}>\r\n                                        {passwordCriteria.match ? '‚úì' : '‚óè'} {t('auth.matching')}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={() => setStep(2)}\r\n                            disabled={!formData.name || !formData.email || !formData.mobile || !isPasswordValid}\r\n                            className=\"w-full bg-blue-700 text-white py-4 rounded-2xl font-black text-lg hover:bg-black transition-all transform active:scale-95 disabled:opacity-30 disabled:pointer-events-none shadow-xl\"\r\n                        >\r\n                            {t('auth.register.next_step')}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {step === 2 && (\r\n                    <div className=\"space-y-5\">\r\n                        <h2 className=\"text-xl font-black text-gray-800 border-b-4 border-yellow-400 inline-block mb-2\">{t('auth.step2')}</h2>\r\n                        <p className=\"text-sm font-bold text-gray-500\">{t('auth.register.how_to_verify')}</p>\r\n\r\n                        <div className=\"flex gap-4\">\r\n                            <button\r\n                                onClick={() => setFormData({ ...formData, method: 'email' })}\r\n                                className={`flex-1 p-4 border-4 rounded-2xl transition-all ${formData.method === 'email' ? 'border-blue-700 bg-blue-50' : 'border-gray-100 hover:border-blue-200'}`}\r\n                            >\r\n                                <div className=\"text-2xl mb-1\">üìß</div>\r\n                                <div className=\"text-xs font-black uppercase tracking-widest\">{t('auth.email_verified').split(' ')[0]}</div>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setFormData({ ...formData, method: 'mobile' })}\r\n                                className={`flex-1 p-4 border-4 rounded-2xl transition-all ${formData.method === 'mobile' ? 'border-blue-700 bg-blue-50' : 'border-gray-100 hover:border-blue-200'}`}\r\n                            >\r\n                                <div className=\"text-2xl mb-1\">üì±</div>\r\n                                <div className=\"text-xs font-black uppercase tracking-widest\">{t('auth.mobile_otp').split(' ')[0]}</div>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <p className=\"text-sm font-bold text-gray-500\">{t('auth.register.pick_exams')}</p>\r\n                            <div className=\"flex flex-wrap gap-2 max-h-48 overflow-y-auto no-scrollbar py-2 p-1\">\r\n                                {EXAMS.map(examKey => (\r\n                                    <button\r\n                                        key={examKey}\r\n                                        onClick={() => toggleExam(examKey)}\r\n                                        className={`px-3 py-2 rounded-xl border-2 text-[10px] font-black uppercase transition ${formData.exams.includes(examKey) ? 'bg-blue-700 border-blue-700 text-white shadow-lg' : 'bg-gray-50 border-gray-100 text-gray-500 hover:border-blue-300'}`}\r\n                                    >\r\n                                        {t(examKey)}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button onClick={handleSendOtp} disabled={loading} className=\"w-full bg-blue-700 text-white py-4 rounded-2xl font-black text-lg hover:bg-black transition-all shadow-xl\">\r\n                            {loading ? t('auth.register.sending_code') : `${t('auth.get_code')} ${formData.method.toUpperCase()}`}\r\n                        </button>\r\n                        <button onClick={() => setStep(1)} className=\"w-full text-gray-400 py-2 font-black text-xs uppercase underline\">{t('auth.return_details')}</button>\r\n                    </div>\r\n                )}\r\n\r\n                {step === 3 && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"text-center\">\r\n                            <h2 className=\"text-2xl font-black text-gray-900 border-b-4 border-yellow-400 inline-block\">{t('auth.step3')}</h2>\r\n                            <p className=\"text-sm font-bold text-gray-500 mt-4 leading-relaxed\">\r\n                                {t('auth.enter_code_sent')} <span className=\"text-blue-700 font-black underline\">{formData.method === 'email' ? formData.email : formData.mobile}</span>.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <input\r\n                                placeholder={t('auth.otp_placeholder')}\r\n                                className=\"w-full px-4 py-6 bg-gray-50 border-4 border-transparent focus:border-blue-700 rounded-3xl text-center tracking-[0.5em] text-4xl font-black focus:bg-white outline-none transition shadow-inner\"\r\n                                maxLength={formData.method === 'email' ? 6 : 4}\r\n                                onChange={(e) => setOtpData({ ...otpData, otp: e.target.value })}\r\n                            />\r\n\r\n                            <div className=\"bg-black text-white p-5 rounded-3xl shadow-2xl space-y-2\">\r\n                                <p className=\"text-[10px] font-black text-yellow-400 uppercase tracking-widest flex items-center gap-2\">\r\n                                    <span>‚ö†Ô∏è</span> {t('auth.register.security_console')}\r\n                                </p>\r\n                                <p className=\"text-[11px] font-medium leading-relaxed opacity-80\">\r\n                                    {t('auth.otp_terminal_hint')}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={handleVerifyAndRegister}\r\n                            disabled={loading || !otpData.otp}\r\n                            className=\"w-full bg-blue-700 text-white py-5 rounded-3xl font-black text-xl hover:bg-green-600 transition-all shadow-2xl active:scale-95 disabled:opacity-20\"\r\n                        >\r\n                            {loading ? t('auth.authenticating') : t('auth.register.finalize_signup')}\r\n                        </button>\r\n                        <button onClick={() => setStep(2)} className=\"w-full text-gray-400 py-2 font-black text-xs uppercase underline\">{t('auth.register.change_selection')}</button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"mt-10 text-center text-xs font-bold text-gray-400 tracking-tighter uppercase px-4 leading-relaxed\">\r\n                    {t('auth.inner_circle')} <Link href=\"/login\" className=\"text-blue-700 hover:text-black transition underline ml-1\">{t('auth.secure_login')}</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\reset-password\\[token]\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'verifyToken'. Either include it or remove the dependency array.","line":25,"column":8,"nodeType":"ArrayExpression","endLine":25,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [token, verifyToken]","fix":{"range":[945,952],"text":"[token, verifyToken]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":39,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":39,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":81,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":81,"endColumn":21}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\nexport default function ResetPassword() {\r\n    const { t } = useLanguage();\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [verifying, setVerifying] = useState(true);\r\n    const [tokenValid, setTokenValid] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const router = useRouter();\r\n    const params = useParams();\r\n    const token = params.token as string;\r\n\r\n    useEffect(() => {\r\n        verifyToken();\r\n    }, [token]);\r\n\r\n    const verifyToken = async () => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/auth/verify-reset-token/${token}`);\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                setTokenValid(true);\r\n                setEmail(data.email);\r\n            } else {\r\n                setError(data.message || t('auth.invalid_token'));\r\n                setTokenValid(false);\r\n            }\r\n        } catch (err) {\r\n            setError(t('auth.conn_failed'));\r\n            setTokenValid(false);\r\n        } finally {\r\n            setVerifying(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        // Validation\r\n        if (password.length < 6) {\r\n            setError(t('auth.len6'));\r\n            return;\r\n        }\r\n\r\n        if (password !== confirmPassword) {\r\n            setError(t('auth.matching'));\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/auth/reset-password/${token}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ password })\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                setSuccess(true);\r\n                setTimeout(() => {\r\n                    router.push('/login');\r\n                }, 3000);\r\n            } else {\r\n                setError(data.message || t('auth.reg_fail')); // Using registration fail as a fallback\r\n            }\r\n        } catch (err) {\r\n            setError(t('auth.conn_failed'));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (verifying) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n                    <p className=\"text-gray-600 font-bold\">{t('auth.reset_password.verifying')}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!tokenValid) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4\">\r\n                <div className=\"w-full max-w-md\">\r\n                    <div className=\"text-center mb-8\">\r\n                        <Link href=\"/\" className=\"text-4xl font-black text-blue-700\">SarkariMinds</Link>\r\n                    </div>\r\n                    <div className=\"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 text-center\">\r\n                        <div className=\"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <span className=\"text-4xl\">‚ùå</span>\r\n                        </div>\r\n                        <h2 className=\"text-2xl font-black text-gray-900 mb-3\">{t('auth.invalid_token')}</h2>\r\n                        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm mb-6\">\r\n                            {error}\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 mb-6\">\r\n                            {t('auth.reset_password.invalid_desc')}\r\n                        </p>\r\n                        <Link\r\n                            href=\"/forgot-password\"\r\n                            className=\"block w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-all text-center\"\r\n                        >\r\n                            {t('auth.reset_password.request_new')}\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4\">\r\n                <div className=\"w-full max-w-md\">\r\n                    <div className=\"text-center mb-8\">\r\n                        <Link href=\"/\" className=\"text-4xl font-black text-blue-700\">SarkariMinds</Link>\r\n                    </div>\r\n                    <div className=\"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 text-center\">\r\n                        <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <span className=\"text-4xl\">‚úÖ</span>\r\n                        </div>\r\n                        <h2 className=\"text-2xl font-black text-gray-900 mb-3\">{t('auth.reset_success')}</h2>\r\n                        <p className=\"text-sm text-gray-600 mb-6\">\r\n                            {t('auth.reset_password.success_desc')}\r\n                        </p>\r\n                        <div className=\"flex items-center justify-center space-x-2 text-blue-600\">\r\n                            <div className=\"w-2 h-2 bg-blue-600 rounded-full animate-bounce\"></div>\r\n                            <div className=\"w-2 h-2 bg-blue-600 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n                            <div className=\"w-2 h-2 bg-blue-600 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-md\">\r\n                {/* Logo */}\r\n                <div className=\"text-center mb-8\">\r\n                    <Link href=\"/\" className=\"text-4xl font-black text-blue-700 hover:text-blue-800 transition-colors\">\r\n                        SarkariMinds\r\n                    </Link>\r\n                    <p className=\"text-sm text-gray-600 mt-2 font-medium\">Professional Network for Aspirants</p>\r\n                </div>\r\n\r\n                {/* Card */}\r\n                <div className=\"bg-white rounded-2xl shadow-xl border border-gray-200 p-8\">\r\n                    <div className=\"text-center mb-6\">\r\n                        <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <span className=\"text-3xl\">üîë</span>\r\n                        </div>\r\n                        <h2 className=\"text-2xl font-black text-gray-900 mb-2\">{t('auth.reset_pass_title')}</h2>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                            {t('auth.reset_password.enter_for')} <strong>{email}</strong>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                                {t('auth.new_pass')}\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type={showPassword ? 'text' : 'password'}\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    required\r\n                                    placeholder={t('auth.new_pass')}\r\n                                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all pr-12\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowPassword(!showPassword)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n                                >\r\n                                    {showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'}\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"text-xs text-gray-500 mt-1\">{t('auth.reset_password.min_chars')}</p>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                                {t('auth.confirm_new_pass')}\r\n                            </label>\r\n                            <input\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                required\r\n                                placeholder={t('auth.confirm_new_pass')}\r\n                                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Password Strength Indicator */}\r\n                        {password && (\r\n                            <div className=\"space-y-2\">\r\n                                <div className=\"flex items-center space-x-2 text-xs\">\r\n                                    <div className={`h-1 flex-1 rounded ${password.length >= 6 ? 'bg-green-500' : 'bg-gray-200'}`}></div>\r\n                                    <div className={`h-1 flex-1 rounded ${password.length >= 8 ? 'bg-green-500' : 'bg-gray-200'}`}></div>\r\n                                    <div className={`h-1 flex-1 rounded ${/[A-Z]/.test(password) && /[0-9]/.test(password) ? 'bg-green-500' : 'bg-gray-200'}`}></div>\r\n                                </div>\r\n                                <p className=\"text-xs text-gray-600\">\r\n                                    {password.length < 6 && t('auth.reset_password.weak')}\r\n                                    {password.length >= 6 && password.length < 8 && t('auth.reset_password.good')}\r\n                                    {password.length >= 8 && /[A-Z]/.test(password) && /[0-9]/.test(password) && t('auth.reset_password.strong')}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {error && (\r\n                            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-bold py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg active:scale-95\"\r\n                        >\r\n                            {loading ? (\r\n                                <span className=\"flex items-center justify-center\">\r\n                                    <svg className=\"animate-spin h-5 w-5 mr-2\" viewBox=\"0 0 24 24\">\r\n                                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\r\n                                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                                    </svg>\r\n                                    {t('auth.reset_password.resetting')}\r\n                                </span>\r\n                            ) : (\r\n                                t('auth.update_pass')\r\n                            )}\r\n                        </button>\r\n                    </form>\r\n\r\n                    <div className=\"mt-6 text-center\">\r\n                        <Link\r\n                            href=\"/login\"\r\n                            className=\"text-sm font-bold text-blue-600 hover:text-blue-700 transition-colors\"\r\n                        >\r\n                            ‚Üê {t('auth.back_to_login')}\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1181,1184],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1181,1184],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":79,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3209,3212],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3209,3212],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Navbar from '@/components/Navbar';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\ninterface Exam {\r\n    _id: string;\r\n    name: string;\r\n    category: string;\r\n}\r\n\r\nexport default function SettingsPage() {\r\n    const { user, updateUser, logout } = useAuth();\r\n    const { t } = useLanguage();\r\n    const [activeTab, setActiveTab] = useState<'profile' | 'account' | 'notifications' | 'verification'>('profile');\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    // Verification State\r\n    const [verificationType, setVerificationType] = useState<'mentor' | 'academy' | null>(null);\r\n    const [mentorForm, setMentorForm] = useState({ experience: '', expertise: '' });\r\n    const [academyForm, setAcademyForm] = useState({ academyName: '', location: '', website: '', description: '' });\r\n\r\n    // Profile Settings State\r\n    const [profileData, setProfileData] = useState({\r\n        name: user?.name || '',\r\n        about: user?.about || '',\r\n        preferredExams: user?.preferredExams?.map((e: any) => e._id || e) || [] as string[],\r\n        receiveAllNotifications: user?.receiveAllNotifications || false\r\n    });\r\n    const [allExams, setAllExams] = useState<Exam[]>([]);\r\n\r\n    React.useEffect(() => {\r\n        const fetchExams = async () => {\r\n            try {\r\n                const res = await fetch('http://localhost:5000/api/exams');\r\n                if (res.ok) setAllExams(await res.json());\r\n            } catch (err) { console.error(err); }\r\n        };\r\n        fetchExams();\r\n    }, []);\r\n\r\n    const toggleExam = (examId: string) => {\r\n        if (profileData.preferredExams.includes(examId)) {\r\n            setProfileData({ ...profileData, preferredExams: profileData.preferredExams.filter(id => id !== examId) });\r\n        } else {\r\n            if (profileData.preferredExams.length >= 5) return alert('Maximum 5 exams allowed');\r\n            setProfileData({ ...profileData, preferredExams: [...profileData.preferredExams, examId] });\r\n        }\r\n    };\r\n\r\n    const handleSaveProfile = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsSaving(true);\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/profile', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({\r\n                    name: profileData.name,\r\n                    about: profileData.about,\r\n                    preferredExams: profileData.preferredExams,\r\n                    receiveAllNotifications: profileData.receiveAllNotifications\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                const updated = await res.json();\r\n                updateUser({\r\n                    name: updated.name,\r\n                    about: updated.about,\r\n                    preferredExams: updated.preferredExams,\r\n                    exams: updated.preferredExams.map((e: any) => e.name || e),\r\n                    receiveAllNotifications: updated.receiveAllNotifications\r\n                });\r\n                alert(t('settings.success'));\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleVerifyMentor = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!user?.token) return;\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/apply-mentor', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user.token}`\r\n                },\r\n                body: JSON.stringify({\r\n                    experience: mentorForm.experience,\r\n                    expertise: mentorForm.expertise.split(',').map(s => s.trim())\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                alert('Mentor application submitted successfully!');\r\n                setVerificationType(null);\r\n                // Optionally refresh user data to show pending status\r\n            } else {\r\n                alert('Failed to submit application');\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert('Error submitting application');\r\n        }\r\n    };\r\n\r\n    const handleVerifyAcademy = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!user?.token) return;\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/apply-academy', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user.token}`\r\n                },\r\n                body: JSON.stringify(academyForm)\r\n            });\r\n\r\n            if (res.ok) {\r\n                alert('Academy application submitted successfully!');\r\n                setVerificationType(null);\r\n            } else {\r\n                alert('Failed to submit application');\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert('Error submitting application');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF]\">\r\n            <Navbar />\r\n            <main className=\"max-w-6xl mx-auto pt-24 px-4 pb-10 flex flex-col md:flex-row gap-6\">\r\n                <div className=\"hidden lg:block w-1/4\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"flex-1 space-y-6\">\r\n                    <div className=\"bg-white rounded-[2.5rem] border shadow-sm overflow-hidden\">\r\n                        <div className=\"p-8 md:p-10 border-b bg-white\">\r\n                            <h1 className=\"text-3xl font-black text-gray-900 uppercase tracking-tight\">{t('settings.title')}</h1>\r\n                            <p className=\"text-gray-400 text-[10px] font-black uppercase tracking-widest mt-1\">{t('settings.subtitle')}</p>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-[280px_1fr] min-h-[500px]\">\r\n                            {/* Tabs Navigation */}\r\n                            <div className=\"bg-gray-50/50 border-r border-gray-100\">\r\n                                <div className=\"p-4 space-y-2\">\r\n                                    <button\r\n                                        onClick={() => setActiveTab('profile')}\r\n                                        className={`w-full text-left px-6 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${activeTab === 'profile' ? 'bg-white text-blue-700 shadow-md border border-blue-100' : 'text-gray-500 hover:bg-white hover:text-gray-700'}`}\r\n                                    >\r\n                                        {t('settings.tabs.profile')}\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setActiveTab('account')}\r\n                                        className={`w-full text-left px-6 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${activeTab === 'account' ? 'bg-white text-blue-700 shadow-md border border-blue-100' : 'text-gray-500 hover:bg-white hover:text-gray-700'}`}\r\n                                    >\r\n                                        {t('settings.tabs.security')}\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setActiveTab('notifications')}\r\n                                        className={`w-full text-left px-6 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${activeTab === 'notifications' ? 'bg-white text-blue-700 shadow-md border border-blue-100' : 'text-gray-500 hover:bg-white hover:text-gray-700'}`}\r\n                                    >\r\n                                        {t('settings.tabs.notifs')}\r\n                                    </button>\r\n                                    {/* Verification Tab only if not verified? Requirements say yes. */}\r\n                                    {(!['mentor', 'academy'].includes(user?.role || '') || user?.role === 'student' || user?.role === 'admin') && (\r\n                                        <button\r\n                                            onClick={() => setActiveTab('verification')}\r\n                                            className={`w-full text-left px-6 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${activeTab === 'verification' ? 'bg-white text-violet-700 shadow-md border border-violet-100' : 'text-gray-500 hover:bg-white hover:text-gray-700'}`}\r\n                                        >\r\n                                            Get Verified\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Content Area */}\r\n                            <div className=\"p-8 md:p-12 bg-white\">\r\n                                {activeTab === 'profile' && (\r\n                                    <form onSubmit={handleSaveProfile} className=\"space-y-8 animate-in fade-in duration-300\">\r\n                                        <div className=\"space-y-2\">\r\n                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">{t('settings.label.name')}</label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={profileData.name}\r\n                                                onChange={(e) => setProfileData({ ...profileData, name: e.target.value })}\r\n                                                className=\"w-full bg-gray-50 border-2 border-transparent focus:border-blue-600 p-4 rounded-2xl font-bold transition-all text-gray-900 outline-none\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"space-y-2\">\r\n                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">{t('settings.label.bio')}</label>\r\n                                            <textarea\r\n                                                rows={4}\r\n                                                value={profileData.about}\r\n                                                onChange={(e) => setProfileData({ ...profileData, about: e.target.value })}\r\n                                                placeholder={t('settings.bio_placeholder')}\r\n                                                className=\"w-full bg-gray-50 border-2 border-transparent focus:border-blue-600 p-4 rounded-2xl font-medium transition-all resize-none text-gray-800 outline-none\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"space-y-4\">\r\n                                            <label className=\"text-[10px] font-black uppercase tracking-widest ml-1 text-gray-400\">Preferred Exams (1-5)</label>\r\n                                            <div className=\"flex flex-wrap gap-2 max-h-56 overflow-y-auto no-scrollbar p-1 border-t border-b border-gray-50 py-3\">\r\n                                                {allExams.map(exam => (\r\n                                                    <button\r\n                                                        key={exam._id}\r\n                                                        type=\"button\"\r\n                                                        onClick={() => toggleExam(exam._id)}\r\n                                                        className={`px-3 py-2 rounded-xl border text-[9px] font-black uppercase transition-all ${profileData.preferredExams.includes(exam._id) ? 'bg-blue-700 border-blue-700 text-white shadow-md' : 'bg-gray-50 border-gray-100 text-gray-500 hover:border-gray-300'}`}\r\n                                                    >\r\n                                                        {exam.name}\r\n                                                    </button>\r\n                                                ))}\r\n                                            </div>\r\n                                            <p className=\"text-[9px] text-gray-400 font-bold uppercase px-1 leading-relaxed\">Select up to 5 exams to focus your feed and notifications.</p>\r\n                                        </div>\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            disabled={isSaving}\r\n                                            className=\"w-full md:w-auto px-12 py-5 bg-[#1a237e] text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-xl active:scale-95 disabled:opacity-50\"\r\n                                        >\r\n                                            {isSaving ? t('settings.updating') : t('settings.update_button')}\r\n                                        </button>\r\n                                    </form>\r\n                                )}\r\n\r\n                                {activeTab === 'account' && (\r\n                                    <div className=\"space-y-8 animate-in fade-in duration-300\">\r\n                                        <div className=\"p-8 bg-blue-50/50 rounded-[2rem] border border-blue-100\">\r\n                                            <h3 className=\"text-sm font-black text-blue-900 uppercase tracking-tight mb-2\">{t('settings.security.firewall')}</h3>\r\n                                            <p className=\"text-xs text-blue-700/70 font-bold mb-6 italic leading-relaxed\">{t('settings.security.rotate_hint')}</p>\r\n                                            <button className=\"px-8 py-3 bg-white border-2 border-blue-200 text-blue-700 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 hover:text-white transition-all shadow-sm\">{t('settings.security.change_key')}</button>\r\n                                        </div>\r\n\r\n                                        <div className=\"p-8 bg-black text-white rounded-[2rem] shadow-2xl\">\r\n                                            <h3 className=\"text-sm font-black text-white uppercase tracking-tight mb-2\">{t('settings.security.decommission')}</h3>\r\n                                            <p className=\"text-xs text-gray-400 font-bold mb-6 italic leading-relaxed\">{t('settings.security.erase_hint')}</p>\r\n                                            <button className=\"px-8 py-3 bg-red-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-red-700 transition-all shadow-lg\">{t('settings.security.execute_delete')}</button>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {activeTab === 'notifications' && (\r\n                                    <div className=\"space-y-6 animate-in fade-in duration-300\">\r\n                                        {[\r\n                                            { title: t('settings.notifs.email_digest'), desc: t('settings.notifs.email_desc'), key: 'emailDigest' },\r\n                                            { title: \"Targeted Exam Alerts\", desc: \"Only receive notifications for your preferred exams\", key: 'targeted', isTargeted: true },\r\n                                            { title: t('settings.notifs.mentions'), desc: t('settings.notifs.mentions_desc'), key: 'mentions' },\r\n                                            { title: t('settings.notifs.connections'), desc: t('settings.notifs.connections_desc'), key: 'connections' }\r\n                                        ].map((n, idx) => (\r\n                                            <div key={idx} className=\"flex items-center justify-between p-6 bg-gray-50 rounded-3xl border border-transparent hover:border-gray-200 transition-all group\">\r\n                                                <div>\r\n                                                    <h4 className=\"text-xs font-black text-gray-900 uppercase tracking-tight group-hover:text-blue-700 transition-colors\">{n.title}</h4>\r\n                                                    <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1\">{n.desc}</p>\r\n                                                </div>\r\n                                                <div\r\n                                                    onClick={n.isTargeted ? () => setProfileData({ ...profileData, receiveAllNotifications: !profileData.receiveAllNotifications }) : undefined}\r\n                                                    className={`w-14 h-7 rounded-full relative p-1 cursor-pointer shadow-inner transition-colors ${(n.isTargeted ? !profileData.receiveAllNotifications : true) ? 'bg-blue-700' : 'bg-gray-300'}`}\r\n                                                >\r\n                                                    <div className={`w-5 h-5 bg-white rounded-full shadow-md transition-all ${(n.isTargeted ? !profileData.receiveAllNotifications : true) ? 'ml-auto' : 'ml-0'}`}></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                        <button\r\n                                            onClick={handleSaveProfile}\r\n                                            className=\"w-full md:w-auto px-8 py-4 bg-gray-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-lg\"\r\n                                        >\r\n                                            Save Notification Settings\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {activeTab === 'verification' && (\r\n                                    <div className=\"animate-in fade-in duration-300 space-y-6\">\r\n                                        {!verificationType ? (\r\n                                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                                <button\r\n                                                    onClick={() => setVerificationType('mentor')}\r\n                                                    className=\"p-8 rounded-[2rem] border-2 border-gray-100 hover:border-violet-600 bg-white hover:bg-violet-50 transition-all text-left group\"\r\n                                                >\r\n                                                    <span className=\"text-4xl mb-4 block group-hover:scale-110 transition-transform\">üéì</span>\r\n                                                    <h3 className=\"text-xl font-black text-gray-900 mb-2\">Verify as Mentor</h3>\r\n                                                    <p className=\"text-xs text-gray-500 font-medium leading-relaxed\">Share your expertise and guide aspirants. Get a verified badge and mentorship tools.</p>\r\n                                                </button>\r\n\r\n                                                <button\r\n                                                    onClick={() => setVerificationType('academy')}\r\n                                                    className=\"p-8 rounded-[2rem] border-2 border-gray-100 hover:border-violet-600 bg-white hover:bg-violet-50 transition-all text-left group\"\r\n                                                >\r\n                                                    <span className=\"text-4xl mb-4 block group-hover:scale-110 transition-transform\">üèõÔ∏è</span>\r\n                                                    <h3 className=\"text-xl font-black text-gray-900 mb-2\">Verify as Academy</h3>\r\n                                                    <p className=\"text-xs text-gray-500 font-medium leading-relaxed\">Register your institution. Publish courses, updates, and manage student batches.</p>\r\n                                                </button>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div>\r\n                                                <button onClick={() => setVerificationType(null)} className=\"text-xs font-bold text-gray-400 hover:text-black mb-6 uppercase tracking-widest flex items-center gap-2\">\r\n                                                    ‚Üê Back\r\n                                                </button>\r\n\r\n                                                {verificationType === 'mentor' && (\r\n                                                    <form onSubmit={handleVerifyMentor} className=\"space-y-6\">\r\n                                                        <div className=\"p-6 bg-violet-50 rounded-2xl border border-violet-100 mb-6\">\r\n                                                            <h3 className=\"text-lg font-black text-violet-900 mb-2\">Mentor Application</h3>\r\n                                                            <p className=\"text-xs text-violet-700\">Submit your details for review. Pending approval.</p>\r\n                                                        </div>\r\n\r\n                                                        <div className=\"space-y-2\">\r\n                                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">Experience (Years/Details)</label>\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                required\r\n                                                                value={mentorForm.experience}\r\n                                                                onChange={e => setMentorForm({ ...mentorForm, experience: e.target.value })}\r\n                                                                className=\"w-full bg-gray-50 border-2 border-transparent focus:border-violet-600 p-4 rounded-2xl font-bold transition-all text-gray-900 outline-none\"\r\n                                                                placeholder=\"e.g. 5 Years teaching FDA/SDA\"\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"space-y-2\">\r\n                                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">Expertise (Comma separated)</label>\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                required\r\n                                                                value={mentorForm.expertise}\r\n                                                                onChange={e => setMentorForm({ ...mentorForm, expertise: e.target.value })}\r\n                                                                className=\"w-full bg-gray-50 border-2 border-transparent focus:border-violet-600 p-4 rounded-2xl font-bold transition-all text-gray-900 outline-none\"\r\n                                                                placeholder=\"e.g. History, Geography, Polity\"\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <button\r\n                                                            type=\"submit\"\r\n                                                            className=\"w-full px-12 py-5 bg-violet-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-xl active:scale-95\"\r\n                                                        >\r\n                                                            Submit Application\r\n                                                        </button>\r\n                                                    </form>\r\n                                                )}\r\n\r\n                                                {verificationType === 'academy' && (\r\n                                                    <form onSubmit={handleVerifyAcademy} className=\"space-y-6\">\r\n                                                        <div className=\"p-6 bg-violet-50 rounded-2xl border border-violet-100 mb-6\">\r\n                                                            <h3 className=\"text-lg font-black text-violet-900 mb-2\">Academy Registration</h3>\r\n                                                            <p className=\"text-xs text-violet-700\">Register your institute for official verification.</p>\r\n                                                        </div>\r\n\r\n                                                        <div className=\"grid md:grid-cols-2 gap-6\">\r\n                                                            <div className=\"space-y-2\">\r\n                                                                <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">Academy Name</label>\r\n                                                                <input\r\n                                                                    type=\"text\"\r\n                                                                    required\r\n                                                                    value={academyForm.academyName}\r\n                                                                    onChange={e => setAcademyForm({ ...academyForm, academyName: e.target.value })}\r\n                                                                    className=\"w-full bg-gray-50 border-2 border-transparent focus:border-violet-600 p-4 rounded-2xl font-bold transition-all text-gray-900 outline-none\"\r\n                                                                />\r\n                                                            </div>\r\n                                                            <div className=\"space-y-2\">\r\n                                                                <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">Location</label>\r\n                                                                <input\r\n                                                                    type=\"text\"\r\n                                                                    required\r\n                                                                    value={academyForm.location}\r\n                                                                    onChange={e => setAcademyForm({ ...academyForm, location: e.target.value })}\r\n                                                                    className=\"w-full bg-gray-50 border-2 border-transparent focus:border-violet-600 p-4 rounded-2xl font-bold transition-all text-gray-900 outline-none\"\r\n                                                                />\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        <div className=\"space-y-2\">\r\n                                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">Website (Optional)</label>\r\n                                                            <input\r\n                                                                type=\"url\"\r\n                                                                value={academyForm.website}\r\n                                                                onChange={e => setAcademyForm({ ...academyForm, website: e.target.value })}\r\n                                                                className=\"w-full bg-gray-50 border-2 border-transparent focus:border-violet-600 p-4 rounded-2xl font-bold transition-all text-gray-900 outline-none\"\r\n                                                                placeholder=\"https://\"\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"space-y-2\">\r\n                                                            <label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1\">Description</label>\r\n                                                            <textarea\r\n                                                                rows={4}\r\n                                                                value={academyForm.description}\r\n                                                                onChange={e => setAcademyForm({ ...academyForm, description: e.target.value })}\r\n                                                                className=\"w-full bg-gray-50 border-2 border-transparent focus:border-violet-600 p-4 rounded-2xl font-medium transition-all resize-none text-gray-800 outline-none\"\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <button\r\n                                                            type=\"submit\"\r\n                                                            className=\"w-full px-12 py-5 bg-violet-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-xl active:scale-95\"\r\n                                                        >\r\n                                                            Submit Registration\r\n                                                        </button>\r\n                                                    </form>\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white rounded-[2rem] border shadow-sm p-6 text-center\">\r\n                        <button\r\n                            onClick={logout}\r\n                            className=\"text-[10px] font-black text-red-500 uppercase tracking-[0.4em] hover:text-black transition-all\"\r\n                        >\r\n                            {t('settings.logout')}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\app\\signup\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'router' is assigned a value but never used.","line":36,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":93,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":93,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":120,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":120,"endColumn":21}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\ninterface Exam {\r\n    _id: string;\r\n    name: string;\r\n    fullName: string;\r\n    category: string;\r\n}\r\n\r\nexport default function SignupPage() {\r\n    const { t } = useLanguage();\r\n    const [step, setStep] = useState(1);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        mobile: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        about: '',\r\n        preferredExams: [] as string[],\r\n        method: 'email' as 'email' | 'mobile'\r\n    });\r\n    const [examsList, setExamsList] = useState<Exam[]>([]);\r\n    const [otpData, setOtpData] = useState({ otp: '' });\r\n    const [loading, setLoading] = useState(false);\r\n    const [passwordCriteria, setPasswordCriteria] = useState({\r\n        length: false,\r\n        letter: false,\r\n        match: false,\r\n    });\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        setPasswordCriteria({\r\n            length: formData.password.length >= 6,\r\n            letter: /[a-zA-Z]/.test(formData.password),\r\n            match: formData.password !== '' && formData.password === formData.confirmPassword,\r\n        });\r\n    }, [formData.password, formData.confirmPassword]);\r\n\r\n    useEffect(() => {\r\n        fetchExams();\r\n    }, []);\r\n\r\n    const fetchExams = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/exams');\r\n            if (res.ok) setExamsList(await res.json());\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const isPasswordValid = passwordCriteria.length && passwordCriteria.letter && passwordCriteria.match;\r\n\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const toggleExam = (examId: string) => {\r\n        if (formData.preferredExams.includes(examId)) {\r\n            setFormData({ ...formData, preferredExams: formData.preferredExams.filter(id => id !== examId) });\r\n        } else {\r\n            if (formData.preferredExams.length >= 5) return alert('Maximum 5 exams allowed');\r\n            setFormData({ ...formData, preferredExams: [...formData.preferredExams, examId] });\r\n        }\r\n    };\r\n\r\n    const handleSendOtp = async () => {\r\n        if (!isPasswordValid) return alert(t('auth.fix_pass'));\r\n        if (formData.preferredExams.length === 0) return alert(t('auth.select_exam_err'));\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/auth/send-otp', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    email: formData.email,\r\n                    mobile: formData.mobile,\r\n                    method: formData.method\r\n                })\r\n            });\r\n            if (res.ok) {\r\n                setStep(3);\r\n            } else {\r\n                const data = await res.json();\r\n                alert(data.message);\r\n            }\r\n        } catch (err) { alert(t('auth.otp_fail')); }\r\n        finally { setLoading(false); }\r\n    };\r\n\r\n    const handleVerifyAndRegister = async () => {\r\n        if (!otpData.otp) return alert(t('auth.enter_otp_err'));\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/auth/verify-register', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    email: formData.email,\r\n                    mobile: formData.mobile,\r\n                    password: formData.password,\r\n                    about: formData.about,\r\n                    preferredExams: formData.preferredExams,\r\n                    otp: otpData.otp\r\n                })\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                localStorage.setItem('user', JSON.stringify(data));\r\n                window.location.href = '/feed';\r\n            } else { alert(data.message); }\r\n        } catch (err) { alert(t('auth.reg_fail')); }\r\n        finally { setLoading(false); }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#F3F2EF] flex flex-col items-center justify-center p-6 text-gray-900 font-sans\">\r\n            <div className=\"max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl p-8 md:p-10 border border-gray-100\">\r\n                <div className=\"text-center mb-10\">\r\n                    <h1 className=\"text-4xl font-black text-[#1a237e] tracking-tighter uppercase italic\">SarkariMinds</h1>\r\n                    <p className=\"text-gray-400 font-bold uppercase tracking-widest text-[10px] mt-2\">{t('auth.joining')}</p>\r\n                </div>\r\n\r\n                {step === 1 && (\r\n                    <div className=\"space-y-4\">\r\n                        <h2 className=\"text-xl font-black text-gray-800 border-b-4 border-yellow-400 inline-block mb-2\">{t('auth.step1')}</h2>\r\n                        <div className=\"space-y-3\">\r\n                            <input name=\"name\" value={formData.name} placeholder={t('auth.fullname')} className=\"w-full px-4 py-4 bg-gray-50 border border-gray-200 focus:border-[#1a237e] rounded-2xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                            <input name=\"email\" type=\"email\" value={formData.email} placeholder={t('auth.email_hint')} className=\"w-full px-4 py-4 bg-gray-50 border border-gray-200 focus:border-[#1a237e] rounded-2xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                            <input name=\"mobile\" value={formData.mobile} placeholder={t('auth.mobile_hint')} className=\"w-full px-4 py-4 bg-gray-50 border border-gray-200 focus:border-[#1a237e] rounded-2xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                            <textarea name=\"about\" value={formData.about} placeholder={t('auth.bio_hint')} className=\"w-full px-4 py-4 bg-gray-50 border border-gray-200 focus:border-[#1a237e] rounded-2xl outline-none transition font-bold resize-none h-24\" onChange={handleInputChange} />\r\n\r\n                            <div className=\"bg-blue-50/50 p-5 rounded-[2rem] border border-blue-100 space-y-3\">\r\n                                <input name=\"password\" type=\"password\" value={formData.password} placeholder={t('auth.pass_hint')} className=\"w-full px-4 py-3 bg-white border border-gray-200 focus:border-[#1a237e] rounded-xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n                                <input name=\"confirmPassword\" type=\"password\" value={formData.confirmPassword} placeholder={t('auth.confirm_pass')} className=\"w-full px-4 py-3 bg-white border border-gray-200 focus:border-[#1a237e] rounded-xl outline-none transition font-bold\" onChange={handleInputChange} />\r\n\r\n                                <div className=\"mt-2 flex flex-wrap gap-4 text-[9px] font-black uppercase tracking-widest\">\r\n                                    <span className={passwordCriteria.length ? 'text-green-600' : 'text-gray-400'}>\r\n                                        {passwordCriteria.length ? '‚úì' : '‚óã'} {t('auth.len6')}\r\n                                    </span>\r\n                                    <span className={passwordCriteria.letter ? 'text-green-600' : 'text-gray-400'}>\r\n                                        {passwordCriteria.letter ? '‚úì' : '‚óã'} {t('auth.letter')}\r\n                                    </span>\r\n                                    <span className={passwordCriteria.match ? 'text-green-600' : 'text-gray-400'}>\r\n                                        {passwordCriteria.match ? '‚úì' : '‚óã'} {t('auth.matching')}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={() => setStep(2)}\r\n                            disabled={!formData.name || !formData.email || !formData.mobile || !isPasswordValid}\r\n                            className=\"w-full bg-[#1a237e] hover:bg-black text-white py-5 rounded-2xl font-black text-lg transition-all shadow-xl shadow-blue-900/10 disabled:opacity-30 uppercase tracking-widest mt-4\"\r\n                        >\r\n                            {t('auth.confirm_next')}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {step === 2 && (\r\n                    <div className=\"space-y-5\">\r\n                        <h2 className=\"text-xl font-black text-gray-800 border-b-4 border-yellow-400 inline-block mb-2\">{t('auth.step2')}</h2>\r\n                        <p className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('auth.route_select')}</p>\r\n\r\n                        <div className=\"flex gap-4\">\r\n                            <button\r\n                                onClick={() => setFormData({ ...formData, method: 'email' })}\r\n                                className={`flex-1 p-5 border-2 rounded-2xl transition-all ${formData.method === 'email' ? 'border-[#1a237e] bg-blue-50 shadow-lg' : 'border-gray-100 hover:border-blue-200'}`}\r\n                            >\r\n                                <div className=\"text-3xl mb-1\">üìß</div>\r\n                                <div className=\"text-[10px] font-black uppercase tracking-widest\">{t('auth.email_verified')}</div>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setFormData({ ...formData, method: 'mobile' })}\r\n                                className={`flex-1 p-5 border-2 rounded-2xl transition-all ${formData.method === 'mobile' ? 'border-[#1a237e] bg-blue-50 shadow-lg' : 'border-gray-100 hover:border-blue-200'}`}\r\n                            >\r\n                                <div className=\"text-3xl mb-1\">üì±</div>\r\n                                <div className=\"text-[10px] font-black uppercase tracking-widest\">{t('auth.mobile_otp')}</div>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <p className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{t('settings.label.exams')} (Select 1-5)</p>\r\n                            <div className=\"flex flex-wrap gap-2 max-h-60 overflow-y-auto no-scrollbar py-2 p-1 border-y border-gray-50\">\r\n                                {examsList.map(exam => (\r\n                                    <button\r\n                                        key={exam._id}\r\n                                        onClick={() => toggleExam(exam._id)}\r\n                                        className={`px-3 py-2 rounded-xl border text-[9px] font-black uppercase transition-all ${formData.preferredExams.includes(exam._id) ? 'bg-[#1a237e] border-[#1a237e] text-white shadow-md' : 'bg-gray-50 border-gray-100 text-gray-500 hover:border-gray-300'}`}\r\n                                    >\r\n                                        {exam.name}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                            <p className=\"text-[9px] text-gray-400 font-bold italic\">You can change this anytime later from your profile</p>\r\n                        </div>\r\n\r\n                        <button onClick={handleSendOtp} disabled={loading} className=\"w-full bg-[#1a237e] hover:bg-black text-white py-5 rounded-2xl font-black text-lg transition-all shadow-xl uppercase tracking-widest mt-4\">\r\n                            {loading ? t('auth.processing') : `${t('auth.get_code')} ${formData.method.toUpperCase()}`}\r\n                        </button>\r\n                        <button onClick={() => setStep(1)} className=\"w-full text-gray-400 py-2 font-black text-[10px] uppercase tracking-widest hover:text-black\">{t('auth.return_details')}</button>\r\n                    </div>\r\n                )}\r\n\r\n                {step === 3 && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"text-center\">\r\n                            <h2 className=\"text-2xl font-black text-gray-900 border-b-4 border-yellow-400 inline-block\">{t('auth.step3')}</h2>\r\n                            <p className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-6\">\r\n                                {t('auth.enter_code_sent')} <span className=\"text-[#1a237e] underline\">{formData.method === 'email' ? formData.email : formData.mobile}</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <input\r\n                                placeholder={t('auth.otp_placeholder')}\r\n                                className=\"w-full px-4 py-6 bg-gray-50 border-b-4 border-[#1a237e] rounded-2xl text-center tracking-[0.5em] text-4xl font-black focus:bg-white outline-none transition-all shadow-inner\"\r\n                                maxLength={formData.method === 'email' ? 6 : 4}\r\n                                onChange={(e) => setOtpData({ ...otpData, otp: e.target.value })}\r\n                            />\r\n\r\n                            <div className=\"bg-gray-900 text-white p-6 rounded-3xl shadow-3xl space-y-3 border-t-4 border-yellow-400\">\r\n                                <p className=\"text-[9px] font-black text-yellow-400 uppercase tracking-widest flex items-center gap-2\">\r\n                                    <span>üîí</span> {t('auth.sys_feedback')}\r\n                                </p>\r\n                                <p className=\"text-[11px] font-bold leading-relaxed opacity-90\">\r\n                                    {t('auth.otp_terminal_hint')}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={handleVerifyAndRegister}\r\n                            disabled={loading || !otpData.otp}\r\n                            className=\"w-full bg-[#1a237e] hover:bg-black text-white py-5 rounded-2xl font-black text-xl transition-all shadow-xl disabled:opacity-20 uppercase tracking-widest\"\r\n                        >\r\n                            {loading ? t('auth.authenticating') : t('auth.launch_portal')}\r\n                        </button>\r\n                        <button onClick={() => setStep(2)} className=\"w-full text-gray-400 py-2 font-black text-[10px] uppercase tracking-widest hover:text-black\">{t('auth.reset_method')}</button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"mt-12 pt-10 border-t border-gray-50 text-center\">\r\n                    <p className=\"text-gray-400 font-bold text-[10px] uppercase tracking-widest leading-relaxed\">\r\n                        {t('auth.inner_circle')} <Link href=\"/login\" className=\"text-[#1a237e] hover:underline transition ml-1 font-black\">{t('auth.secure_login')}</Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\components\\AdCard.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":32,"column":21,"nodeType":"JSXOpeningElement","endLine":36,"endColumn":23},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":67,"column":21,"nodeType":"JSXOpeningElement","endLine":71,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\ninterface Ad {\r\n    _id: string;\r\n    title: string;\r\n    description: string;\r\n    imageUrl: string;\r\n    redirectUrl: string;\r\n    slot: string;\r\n}\r\n\r\ninterface AdCardProps {\r\n    ad: Ad;\r\n    variant: 'feed' | 'sidebar';\r\n}\r\n\r\nconst AdCard: React.FC<AdCardProps> = ({ ad, variant }) => {\r\n    const { t } = useLanguage();\r\n    if (!ad) return null;\r\n\r\n    if (variant === 'sidebar') {\r\n        return (\r\n            <div className=\"bg-white border rounded-xl overflow-hidden shadow-sm mt-4 group\">\r\n                <div className=\"p-3 border-b flex justify-between items-center bg-gray-50\">\r\n                    <span className=\"text-[10px] font-black uppercase text-gray-400 tracking-widest\">{t('ad.sponsored')}</span>\r\n                    <span className=\"text-[10px] font-bold text-blue-600 group-hover:underline cursor-pointer\">{t('ad.sponsored')}</span>\r\n                </div>\r\n                <div className=\"p-4\">\r\n                    <img\r\n                        src={ad.imageUrl}\r\n                        alt={ad.title}\r\n                        className=\"w-full h-32 object-cover rounded-lg mb-3 shadow-inner\"\r\n                    />\r\n                    <h5 className=\"font-black text-sm text-gray-900 leading-tight uppercase tracking-tight\">{ad.title}</h5>\r\n                    <p className=\"text-xs text-gray-500 mt-2 line-clamp-2 font-medium\">\r\n                        {ad.description}\r\n                    </p>\r\n                    <a\r\n                        href={ad.redirectUrl}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"mt-4 block w-full text-center py-2 bg-blue-50 text-blue-700 rounded-lg text-xs font-black uppercase tracking-widest hover:bg-blue-600 hover:text-white transition-all active:scale-95\"\r\n                    >\r\n                        {t('ad.learn_more')}\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow group\">\r\n            <div className=\"px-5 py-3 border-b flex justify-between items-center bg-gray-50/50\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\r\n                    <span className=\"text-[10px] font-black uppercase text-gray-500 tracking-[0.2em]\">{t('ad.promoted')}</span>\r\n                </div>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-gray-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n            </div>\r\n            <div className=\"p-6\">\r\n                <div className=\"flex gap-6 items-start\">\r\n                    <img\r\n                        src={ad.imageUrl}\r\n                        alt={ad.title}\r\n                        className=\"w-32 h-32 object-cover rounded-2xl shadow-lg group-hover:scale-105 transition-transform duration-300\"\r\n                    />\r\n                    <div className=\"flex-1 space-y-2\">\r\n                        <h4 className=\"font-black text-xl text-gray-900 uppercase tracking-tight leading-none\">{ad.title}</h4>\r\n                        <p className=\"text-gray-600 text-sm leading-relaxed font-medium\">\r\n                            {ad.description}\r\n                        </p>\r\n                        <div className=\"pt-2\">\r\n                            <a\r\n                                href={ad.redirectUrl}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"inline-block px-8 py-3 bg-blue-700 text-white rounded-full text-xs font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg active:scale-95\"\r\n                            >\r\n                                {t('ad.visit_website')}\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdCard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\components\\Navbar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'language' is assigned a value but never used.","line":20,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setLanguage' is assigned a value but never used.","line":20,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":34},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchNotificationCounts' and 'fetchRecentSearches'. Either include them or remove the dependency array.","line":149,"column":8,"nodeType":"ArrayExpression","endLine":149,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchNotificationCounts, fetchRecentSearches, user]","fix":{"range":[5473,5479],"text":"[fetchNotificationCounts, fetchRecentSearches, user]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":241,"column":80,"nodeType":"JSXOpeningElement","endLine":241,"endColumn":148},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":241,"column":80,"nodeType":"JSXOpeningElement","endLine":241,"endColumn":148},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":276,"column":76,"nodeType":"JSXOpeningElement","endLine":276,"endColumn":144},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":276,"column":76,"nodeType":"JSXOpeningElement","endLine":276,"endColumn":144},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":353,"column":33,"nodeType":"JSXOpeningElement","endLine":353,"endColumn":101},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":353,"column":33,"nodeType":"JSXOpeningElement","endLine":353,"endColumn":101}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport debounce from 'lodash.debounce';\r\n\r\ninterface SearchUser {\r\n    _id: string;\r\n    name: string;\r\n    profilePic: string;\r\n    accountType: string;\r\n    about?: string;\r\n}\r\n\r\nexport default function Navbar() {\r\n    const { user, logout } = useAuth();\r\n    const { language, setLanguage, t } = useLanguage();\r\n    const router = useRouter();\r\n\r\n    // Search States\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [searchResults, setSearchResults] = useState<SearchUser[]>([]);\r\n    const [recentSearches, setRecentSearches] = useState<SearchUser[]>([]);\r\n    const [showSearchDropdown, setShowSearchDropdown] = useState(false);\r\n    const [isSearching, setIsSearching] = useState(false);\r\n\r\n    // Notification Counts\r\n    const [unreadNotifications, setUnreadNotifications] = useState(0);\r\n    const [unreadMessages, setUnreadMessages] = useState(0);\r\n    const [pendingConnections, setPendingConnections] = useState(0);\r\n    const [hasNewPosts, setHasNewPosts] = useState(false);\r\n\r\n    // Refs for click outside\r\n    const searchRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Fetch Recent Searches\r\n    const fetchRecentSearches = async () => {\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/recent-search', {\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (Array.isArray(data)) setRecentSearches(data);\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    // Fetch Notification Counts\r\n    const fetchNotificationCounts = async () => {\r\n        if (!user) return;\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/notifications/unread-counts', {\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n            const data = await res.json();\r\n            if (data) {\r\n                setUnreadNotifications(Number(data.notifications) || 0);\r\n                setUnreadMessages(Number(data.messages) || 0);\r\n                setPendingConnections(Number(data.connections) || 0);\r\n                setHasNewPosts(!!data.hasNewPosts);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const markNetworkSeen = async () => {\r\n        setPendingConnections(0);\r\n        try {\r\n            await fetch('http://localhost:5000/api/connections/mark-seen', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const markMessagesRead = async () => {\r\n        setUnreadMessages(0);\r\n        try {\r\n            await fetch('http://localhost:5000/api/messages/read-all', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const markNotificationsRead = async () => {\r\n        setUnreadNotifications(0);\r\n        try {\r\n            await fetch('http://localhost:5000/api/notifications/read', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const clearFeedDot = async () => {\r\n        setHasNewPosts(false);\r\n        try {\r\n            await fetch('http://localhost:5000/api/posts/last-visit', {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    // Search Users (Debounced)\r\n    const debouncedSearch = useRef(\r\n        debounce(async (query: string) => {\r\n            console.log('Frontend Search Triggered:', query);\r\n            if (!query.trim()) {\r\n                setSearchResults([]);\r\n                setIsSearching(false);\r\n                return;\r\n            }\r\n            try {\r\n                const res = await fetch(`http://localhost:5000/api/users/search?q=${encodeURIComponent(query)}`, {\r\n                    headers: { 'Authorization': `Bearer ${user?.token}` }\r\n                });\r\n                const data = await res.json();\r\n                console.log('Frontend Search Results Count:', data.length);\r\n                setSearchResults(data);\r\n            } catch (err) { console.error(err); }\r\n            finally { setIsSearching(false); }\r\n        }, 300)\r\n    ).current;\r\n\r\n    // Effects\r\n    useEffect(() => {\r\n        if (user) {\r\n            fetchRecentSearches();\r\n            fetchNotificationCounts();\r\n\r\n            // Poll for updates every 30 seconds\r\n            const interval = setInterval(() => {\r\n                fetchNotificationCounts();\r\n            }, 30000);\r\n\r\n            // Listen for manual updates\r\n            const handleManualUpdate = () => fetchNotificationCounts();\r\n            window.addEventListener('notificationsUpdated', handleManualUpdate);\r\n\r\n            return () => {\r\n                clearInterval(interval);\r\n                window.removeEventListener('notificationsUpdated', handleManualUpdate);\r\n            };\r\n        }\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\r\n                setShowSearchDropdown(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const query = e.target.value;\r\n        setSearchQuery(query);\r\n        setIsSearching(true);\r\n        debouncedSearch(query);\r\n        setShowSearchDropdown(true);\r\n    };\r\n\r\n    const handleSearchSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (searchQuery.trim()) {\r\n            router.push(`/network?search=${encodeURIComponent(searchQuery)}`);\r\n            setShowSearchDropdown(false);\r\n        }\r\n    };\r\n\r\n    const handleResultClick = async (targetUser: SearchUser) => {\r\n        router.push(`/profile/${targetUser._id}`);\r\n        setShowSearchDropdown(false);\r\n\r\n        // Add to recent searches API\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/users/recent-search', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${user?.token}` },\r\n                body: JSON.stringify({ targetUserId: targetUser._id })\r\n            });\r\n            if (res.ok) fetchRecentSearches(); // Update local list\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const clearRecent = async () => {\r\n        try {\r\n            await fetch('http://localhost:5000/api/users/recent-search', {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n            setRecentSearches([]);\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    return (\r\n        <nav className=\"sticky top-0 z-50 bg-white border-b px-4 lg:px-12 py-2 shadow-sm\">\r\n            <div className=\"max-w-[1800px] mx-auto flex items-center justify-between\">\r\n                <Link href=\"/feed\" className=\"text-2xl font-black text-[#1a237e] flex-shrink-0 tracking-tighter mr-8\">SarkariMinds</Link>\r\n\r\n                <div className=\"flex items-center space-x-8\">\r\n                    {/* Global Search Bar */}\r\n                    <div className=\"relative hidden md:block w-80\" ref={searchRef}>\r\n                        <form onSubmit={handleSearchSubmit}>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder={t('nav.search')}\r\n                                value={searchQuery}\r\n                                onFocus={() => setShowSearchDropdown(true)}\r\n                                onChange={handleSearchChange}\r\n                                className=\"w-full pl-10 pr-4 py-2 bg-gray-100 border border-transparent rounded-full text-sm outline-none focus:bg-white focus:border-blue-300 focus:ring-2 focus:ring-blue-100 transition-all font-medium\"\r\n                            />\r\n                            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">üîç</span>\r\n                        </form>\r\n\r\n                        {/* Search Dropdown */}\r\n                        {showSearchDropdown && (\r\n                            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white border rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in zoom-in duration-150 origin-top-left\">\r\n                                {searchQuery.trim() ? (\r\n                                    <>\r\n                                        <div className=\"p-3 bg-gray-50 border-b flex justify-between items-center text-xs font-black uppercase tracking-widest text-gray-500\">\r\n                                            {t('nav.search_results')}\r\n                                        </div>\r\n                                        {isSearching ? (\r\n                                            <div className=\"p-4 text-center text-gray-400 text-xs\">{t('nav.searching')}</div>\r\n                                        ) : searchResults.length > 0 ? (\r\n                                            <>\r\n                                                {searchResults.map(user => (\r\n                                                    <div\r\n                                                        key={user._id}\r\n                                                        onClick={() => handleResultClick(user)}\r\n                                                        className=\"flex items-center px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors border-b last:border-b-0\"\r\n                                                    >\r\n                                                        <div className=\"w-10 h-10 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0 border border-gray-100\">\r\n                                                            {user.profilePic ? <img src={user.profilePic} className=\"w-full h-full object-cover\" /> : null}\r\n                                                        </div>\r\n                                                        <div className=\"ml-3 flex-1 overflow-hidden\">\r\n                                                            <p className=\"text-sm font-bold text-gray-900 truncate\">{user.name}</p>\r\n                                                            <p className={`text-[10px] text-gray-500 tracking-wide truncate ${!user.about ? 'uppercase' : ''}`}>{user.about || user.accountType}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))}\r\n                                                <div\r\n                                                    onClick={handleSearchSubmit}\r\n                                                    className=\"block p-3 text-center text-xs font-bold text-blue-700 bg-gray-50 hover:bg-gray-100 border-t cursor-pointer transition uppercase tracking-widest\"\r\n                                                >\r\n                                                    {t('nav.see_all')}\r\n                                                </div>\r\n                                            </>\r\n                                        ) : (\r\n                                            <div className=\"p-8 text-center text-sm text-gray-500 italic\">{t('nav.no_results')}</div>\r\n                                        )}\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <div className=\"p-3 bg-gray-50 border-b flex justify-between items-center\">\r\n                                            <span className=\"text-xs font-black uppercase tracking-widest text-gray-500\">{t('nav.recent_searches')}</span>\r\n                                            {recentSearches.length > 0 && (\r\n                                                <button onClick={clearRecent} className=\"text-[10px] hover:text-red-500 text-gray-400 font-bold uppercase tracking-wider\">{t('nav.clear')}</button>\r\n                                            )}\r\n                                        </div>\r\n                                        {recentSearches.length > 0 ? (\r\n                                            recentSearches.map(user => (\r\n                                                <div\r\n                                                    key={user._id}\r\n                                                    onClick={() => handleResultClick(user)}\r\n                                                    className=\"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors border-b last:border-b-0 group\"\r\n                                                >\r\n                                                    <div className=\"w-8 h-8 rounded-full bg-gray-200 overflow-hidden flex-shrink-0 text-xs flex items-center justify-center font-bold text-gray-500\">\r\n                                                        {user.profilePic ? <img src={user.profilePic} className=\"w-full h-full object-cover\" /> : 'üïí'}\r\n                                                    </div>\r\n                                                    <div className=\"ml-3 flex-1\">\r\n                                                        <p className=\"text-sm font-bold text-gray-800 group-hover:text-blue-700 transition-colors\">{user.name}</p>\r\n                                                    </div>\r\n                                                    <span className=\"text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity\">‚Üó</span>\r\n                                                </div>\r\n                                            ))\r\n                                        ) : (\r\n                                            <div className=\"p-8 text-center text-xs text-gray-400\">\r\n                                                {t('nav.no_recent')}\r\n                                            </div>\r\n                                        )}\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"hidden lg:flex space-x-8 xl:space-x-12\">\r\n                        {/* Home - Shows dot if new posts */}\r\n                        <Link href=\"/feed\" onClick={clearFeedDot} className=\"relative text-gray-600 hover:text-blue-800 font-medium transition-colors whitespace-nowrap\">\r\n                            {t('nav.home')}\r\n                            {hasNewPosts && (\r\n                                <span className=\"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\r\n                            )}\r\n                        </Link>\r\n\r\n                        {/* My Network */}\r\n                        <Link href=\"/network\" onClick={markNetworkSeen} className=\"relative text-gray-600 hover:text-blue-800 font-medium transition-colors whitespace-nowrap\">\r\n                            {t('nav.network')}\r\n                            {pendingConnections > 0 && (\r\n                                <span className=\"absolute -top-2 -right-3 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1\">\r\n                                    {pendingConnections > 99 ? '99+' : pendingConnections}\r\n                                </span>\r\n                            )}\r\n                        </Link>\r\n\r\n                        {/* Messages - Shows count */}\r\n                        <Link href=\"/messages\" onClick={markMessagesRead} className=\"relative text-gray-600 hover:text-blue-800 font-medium transition-colors whitespace-nowrap\">\r\n                            {t('nav.messages')}\r\n                            {unreadMessages > 0 && (\r\n                                <span className=\"absolute -top-2 -right-3 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1\">\r\n                                    {unreadMessages > 99 ? '99+' : unreadMessages}\r\n                                </span>\r\n                            )}\r\n                        </Link>\r\n\r\n                        {/* Notifications - Shows count */}\r\n                        <Link href=\"/notifications\" onClick={markNotificationsRead} className=\"relative text-gray-600 hover:text-blue-800 font-medium transition-colors whitespace-nowrap\">\r\n                            {t('nav.notifications')}\r\n                            {unreadNotifications > 0 && (\r\n                                <span className=\"absolute -top-2 -right-3 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1\">\r\n                                    {unreadNotifications > 99 ? '99+' : unreadNotifications}\r\n                                </span>\r\n                            )}\r\n                        </Link>\r\n\r\n                        {/* My Profile */}\r\n                        <Link href={`/profile/${user?._id}`} className=\"text-gray-600 hover:text-blue-800 font-medium transition-colors whitespace-nowrap\">\r\n                            {t('nav.profile')}\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-6\">\r\n                    <Link href=\"/settings\" className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full transition text-xl\">\r\n                        ‚öôÔ∏è\r\n                    </Link>\r\n\r\n                    <div className=\"hidden sm:flex items-center space-x-3 border-l pl-6\">\r\n                        <div className=\"text-right\">\r\n                            <p className=\"text-xs font-bold text-gray-900\">{user?.name || 'Aspirant'}</p>\r\n                            <button onClick={logout} className=\"text-[10px] font-bold text-red-500 uppercase tracking-wider\">{t('nav.logout')}</button>\r\n                        </div>\r\n                        <Link href={`/profile/${user?._id}`} className=\"w-10 h-10 bg-blue-800 rounded-lg flex items-center justify-center text-white font-bold border-2 border-blue-200 uppercase overflow-hidden hover:scale-110 transition-transform\">\r\n                            {user?.profilePic ? (\r\n                                <img src={user.profilePic} className=\"w-full h-full object-cover\" />\r\n                            ) : (\r\n                                <span>{user?.name ? user.name.charAt(0) : t('sidebar.aspirant').charAt(0)}</span>\r\n                            )}\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\components\\PostBox.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":93,"column":29,"nodeType":"JSXOpeningElement","endLine":93,"endColumn":124}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useRef } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\nexport default function PostBox({ refreshPosts }: { refreshPosts: () => void }) {\r\n    const [content, setContent] = useState('');\r\n    const [media, setMedia] = useState<File | null>(null);\r\n    const [mediaPreview, setMediaPreview] = useState<string | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const { user } = useAuth();\r\n    const { t } = useLanguage();\r\n\r\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            if (file.size > 10 * 1024 * 1024) {\r\n                alert('File is too large! Maximum size is 10MB.');\r\n                return;\r\n            }\r\n            setMedia(file);\r\n            if (file.type.startsWith('image/')) {\r\n                const reader = new FileReader();\r\n                reader.onloadend = () => setMediaPreview(reader.result as string);\r\n                reader.readAsDataURL(file);\r\n            } else {\r\n                setMediaPreview(null); // Clear image preview for PDFs\r\n            }\r\n        }\r\n    };\r\n\r\n    const removeMedia = () => {\r\n        setMedia(null);\r\n        setMediaPreview(null);\r\n        if (fileInputRef.current) fileInputRef.current.value = '';\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!content.trim() && !media) return;\r\n        setLoading(true);\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('content', content);\r\n            formData.append('tags', JSON.stringify(user?.exams || []));\r\n            if (media) {\r\n                formData.append('media', media);\r\n            }\r\n\r\n            const res = await fetch('http://localhost:5000/api/posts', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: formData\r\n            });\r\n            if (res.ok) {\r\n                setContent('');\r\n                removeMedia();\r\n                refreshPosts();\r\n            } else {\r\n                const error = await res.json();\r\n                alert(error.message || 'Failed to create post');\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert('Something went wrong. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white border rounded-2xl p-5 mb-6 shadow-sm border-gray-100\">\r\n            <div className=\"flex space-x-4\">\r\n                <div className=\"w-12 h-12 bg-blue-800 rounded-xl flex-shrink-0 flex items-center justify-center text-white font-black text-xl shadow-inner uppercase\">\r\n                    {user?.name.charAt(0)}\r\n                </div>\r\n                <textarea\r\n                    placeholder={t('post.box_placeholder')}\r\n                    className=\"w-full bg-gray-50 border-none rounded-2xl px-5 py-4 focus:ring-2 focus:ring-blue-100 resize-none h-28 font-medium text-gray-700 transition-all\"\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                />\r\n            </div>\r\n\r\n            {/* Media Preview Section */}\r\n            {media && (\r\n                <div className=\"mt-4 relative group\">\r\n                    <div className=\"bg-gray-50 rounded-2xl p-4 border-2 border-dashed border-gray-200\">\r\n                        {mediaPreview ? (\r\n                            <img src={mediaPreview} alt=\"Preview\" className=\"max-h-64 rounded-xl mx-auto object-contain\" />\r\n                        ) : (\r\n                            <div className=\"flex items-center space-x-3 text-blue-700 font-bold p-2\">\r\n                                <span className=\"text-2xl\">üìÑ</span>\r\n                                <span className=\"text-sm truncate\">{media.name}</span>\r\n                                <span className=\"text-[10px] bg-blue-100 px-2 py-1 rounded-full\">PDF</span>\r\n                            </div>\r\n                        )}\r\n                        <button\r\n                            onClick={removeMedia}\r\n                            className=\"absolute top-2 right-2 bg-black/70 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-black transition-all\"\r\n                        >\r\n                            ‚úï\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-between items-center mt-5 border-t border-gray-50 pt-4\">\r\n                <div className=\"flex space-x-2\">\r\n                    <button\r\n                        onClick={() => fileInputRef.current?.click()}\r\n                        className=\"flex items-center space-x-2 hover:bg-blue-50 px-4 py-2 rounded-xl transition-all group\"\r\n                    >\r\n                        <span className=\"text-xl group-hover:scale-110 transition-transform\">üñºÔ∏è</span>\r\n                        <span className=\"text-xs font-black text-gray-500 uppercase tracking-tighter\">{t('post.media')}</span>\r\n                    </button>\r\n                    <input\r\n                        type=\"file\"\r\n                        hidden\r\n                        ref={fileInputRef}\r\n                        onChange={handleFileChange}\r\n                        accept=\"image/*,application/pdf\"\r\n                    />\r\n                </div>\r\n                <button\r\n                    onClick={handleSubmit}\r\n                    disabled={loading || (!content.trim() && !media)}\r\n                    className=\"bg-blue-700 text-white px-8 py-2.5 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-black transition-all shadow-lg active:scale-95 disabled:opacity-20 flex items-center space-x-2\"\r\n                >\r\n                    {loading ? (\r\n                        <>\r\n                            <span className=\"animate-spin text-lg\">‚è≥</span>\r\n                            <span>Posting...</span>\r\n                        </>\r\n                    ) : (\r\n                        <span>{t('post.button')}</span>\r\n                    )}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\components\\PostCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'language' is assigned a value but never used.","line":41,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":41,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":99,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3562,3565],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3562,3565],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":106,"column":46,"nodeType":"JSXOpeningElement","endLine":106,"endColumn":119},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":106,"column":46,"nodeType":"JSXOpeningElement","endLine":106,"endColumn":119},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":120,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5782,5785],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5782,5785],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":153,"column":25,"nodeType":"JSXOpeningElement","endLine":157,"endColumn":27},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":185,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":185,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9329,9332],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9329,9332],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":185,"column":108,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":185,"endColumn":111,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9370,9373],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9370,9373],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":294,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":294,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15623,15626],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15623,15626],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":297,"column":69,"nodeType":"JSXOpeningElement","endLine":297,"endColumn":145},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":297,"column":69,"nodeType":"JSXOpeningElement","endLine":297,"endColumn":145}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\n\r\nimport Link from 'next/link';\r\n\r\ninterface Post {\r\n    _id: string;\r\n    content: string;\r\n    user: {\r\n        _id: string;\r\n        name: string;\r\n        accountType: string;\r\n        exams: string[];\r\n        profilePic: string;\r\n        role: string;\r\n    };\r\n    tags: string[];\r\n    reactions: {\r\n        user: string;\r\n        type: 'like' | 'celebrate' | 'support' | 'love' | 'insightful' | 'funny';\r\n    }[];\r\n    mediaUrl?: string;\r\n    mediaType?: 'image' | 'pdf';\r\n    comments: {\r\n        user: {\r\n            _id: string;\r\n            name: string;\r\n            profilePic: string;\r\n        };\r\n        text: string;\r\n        createdAt: string;\r\n    }[];\r\n    createdAt: string;\r\n}\r\n\r\nexport default function PostCard({ post }: { post: Post }) {\r\n    const { user } = useAuth();\r\n    const { t, language } = useLanguage();\r\n    const [reactions, setReactions] = useState(post.reactions || []);\r\n    const [comments, setComments] = useState(post.comments || []);\r\n    const [showComments, setShowComments] = useState(false);\r\n    const [commentText, setCommentText] = useState('');\r\n    const [showReactions, setShowReactions] = useState(false);\r\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n\r\n    const REACTION_TYPES = [\r\n        { id: 'like', label: t('reaction.like'), icon: 'üëç', color: 'text-blue-600' },\r\n        { id: 'celebrate', label: t('reaction.celebrate'), icon: 'üëè', color: 'text-green-600' },\r\n        { id: 'support', label: t('reaction.support'), icon: '‚ù§Ô∏è', color: 'text-red-500' },\r\n        { id: 'love', label: t('reaction.love'), icon: 'üíñ', color: 'text-pink-500' },\r\n        { id: 'insightful', label: t('reaction.insightful'), icon: 'üí°', color: 'text-yellow-500' },\r\n        { id: 'funny', label: t('reaction.funny'), icon: 'üòÜ', color: 'text-orange-500' },\r\n    ];\r\n\r\n    const EMOJIS = ['üöÄ', 'üìö', 'üéØ', 'üî•', 'üëè', '‚úÖ', 'üí°', '‚úçÔ∏è', 'üíØ', 'üôè', 'üí™', 'üéì'];\r\n\r\n    const handleReaction = async (type: string) => {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/posts/${post._id}/like`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({ type })\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                setReactions(data);\r\n                setShowReactions(false);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleComment = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!commentText.trim()) return;\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/api/posts/${post._id}/comment`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user?.token}`\r\n                },\r\n                body: JSON.stringify({ text: commentText })\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                setComments(data);\r\n                setCommentText('');\r\n                setShowEmojiPicker(false);\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const myReaction = reactions.find((r: any) => r.user === user?._id);\r\n    const activeReaction = REACTION_TYPES.find(r => r.id === myReaction?.type);\r\n\r\n    return (\r\n        <div className=\"bg-white border rounded-xl p-6 mb-4 shadow-sm hover:shadow-md transition relative\">\r\n            <div className=\"flex items-center space-x-3 mb-4\">\r\n                <Link href={`/profile/${post.user?._id}`} className=\"w-12 h-12 bg-blue-100 rounded-full border-2 border-white shadow-sm flex items-center justify-center font-bold text-blue-800 uppercase overflow-hidden shrink-0 transition-transform hover:scale-105 active:scale-95\">\r\n                    {post.user?.profilePic ? <img src={post.user.profilePic} className=\"w-full h-full object-cover\" /> : (post.user?.name ? post.user.name.charAt(0) : '?')}\r\n                </Link>\r\n                <div>\r\n                    <h4 className=\"font-bold text-gray-900 flex items-center\">\r\n                        <Link href={`/profile/${post.user?._id}`} className=\"hover:text-blue-700 transition-colors flex items-center gap-1\">\r\n                            {post.user?.name}\r\n                            {['mentor', 'academy'].includes(post.user?.role || '') && (\r\n                                <span className=\"text-blue-500\" title=\"Verified\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-3 h-3\">\r\n                                        <path fillRule=\"evenodd\" d=\"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.491 4.491 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                </span>\r\n                            )}\r\n                        </Link>\r\n                        {(post as any).postType === 'mentor_insight' && (\r\n                            <span className=\"ml-2 text-[10px] bg-violet-100 text-violet-800 px-2 py-0.5 rounded-full border border-violet-200 font-bold uppercase tracking-wider flex items-center gap-1\">\r\n                                <span>üí°</span> MENTOR INSIGHT\r\n                            </span>\r\n                        )}\r\n                        <span className=\"ml-2 text-[10px] bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full border border-yellow-200 hidden sm:inline-block\">\r\n                            {post.user?.accountType === 'Aspirant' ? t('sidebar.aspirant') : post.user?.accountType}\r\n                        </span>\r\n                    </h4>\r\n                    <p className=\"text-xs text-gray-500\">{new Date(post.createdAt).toLocaleDateString()}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {post.content && (\r\n                <p className=\"text-gray-800 leading-relaxed mb-4 whitespace-pre-wrap\">\r\n                    {post.content}\r\n                </p>\r\n            )}\r\n\r\n            {post.tags && (\r\n                <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                    {post.tags.map((tag: string) => (\r\n                        <span key={tag} className=\"text-xs font-semibold text-blue-700 bg-blue-50 px-2 py-1 rounded\">\r\n                            #{tag.replace(/\\s+/g, '')}\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Media Rendering */}\r\n            {post.mediaUrl && (\r\n                <div className=\"mb-4 rounded-xl overflow-hidden border border-gray-100 shadow-sm\">\r\n                    {post.mediaType === 'image' ? (\r\n                        <img\r\n                            src={post.mediaUrl}\r\n                            alt=\"Post Media\"\r\n                            className=\"w-full h-auto max-h-[500px] object-contain bg-gray-50\"\r\n                        />\r\n                    ) : (\r\n                        <div className=\"p-6 bg-blue-50 flex items-center justify-between group\">\r\n                            <div className=\"flex items-center space-x-4\">\r\n                                <div className=\"text-4xl\">üìÑ</div>\r\n                                <div>\r\n                                    <p className=\"text-sm font-black text-blue-900 uppercase tracking-tighter\">{t('post.doc_attachment')}</p>\r\n                                    <p className=\"text-[10px] font-bold text-blue-600\">{t('post.doc_hint')}</p>\r\n                                </div>\r\n                            </div>\r\n                            <a\r\n                                href={post.mediaUrl}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"bg-blue-700 text-white px-5 py-2 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-black transition-all shadow-md group-hover:scale-105\"\r\n                            >\r\n                                {t('post.view_pdf')}\r\n                            </a>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Reaction Stats */}\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n                <div className=\"flex items-center space-x-1\">\r\n                    {reactions.length > 0 && (\r\n                        <div className=\"flex -space-x-1\">\r\n                            {Array.from(new Set(reactions.map((r: any) => r.type))).slice(0, 3).map((type: any) => (\r\n                                <span key={type} className=\"text-xs\">{REACTION_TYPES.find(r => r.id === type)?.icon}</span>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                    <span className=\"text-[10px] text-gray-500 font-bold ml-1\">\r\n                        {reactions.length > 0 ? `${reactions.length} ${t('post.reactions')}` : ''}\r\n                    </span>\r\n                </div>\r\n                <span className=\"text-[10px] text-gray-500 font-bold uppercase tracking-tighter\">{comments.length} {t('post.comments')}</span>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between pt-3 border-t text-sm font-semibold text-gray-500 relative\">\r\n                <div\r\n                    className=\"relative group flex-1 flex justify-center py-2 hover:bg-gray-50 rounded-lg\"\r\n                    onMouseEnter={() => setShowReactions(true)}\r\n                    onMouseLeave={() => setShowReactions(false)}\r\n                >\r\n                    <button\r\n                        onClick={() => handleReaction(activeReaction?.id || 'like')}\r\n                        className={`flex items-center space-x-2 transition ${activeReaction ? activeReaction.color : 'hover:text-blue-700'}`}\r\n                    >\r\n                        <span>{activeReaction ? activeReaction.icon : 'üëç'}</span>\r\n                        <span>{activeReaction ? activeReaction.label : t('post.like')}</span>\r\n                    </button>\r\n\r\n                    {/* Reactions Hover Menu */}\r\n                    {showReactions && (\r\n                        <div className=\"absolute bottom-full mb-2 left-0 bg-white border shadow-2xl rounded-full px-4 py-2 flex space-x-4 animate-in fade-in slide-in-from-bottom-2 duration-200 z-50\">\r\n                            {REACTION_TYPES.map(r => (\r\n                                <button\r\n                                    key={r.id}\r\n                                    onClick={() => handleReaction(r.id)}\r\n                                    className=\"text-2xl transform hover:scale-150 transition-transform duration-200 hover:-translate-y-2 origin-bottom\"\r\n                                    title={r.label}\r\n                                >\r\n                                    {r.icon}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"flex-1 flex justify-center py-2 hover:bg-gray-50 rounded-lg\">\r\n                    <button\r\n                        onClick={() => setShowComments(!showComments)}\r\n                        className=\"flex items-center space-x-2 hover:text-blue-700\"\r\n                    >\r\n                        <span>üí¨</span>\r\n                        <span>{t('post.comment')}</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex-1 flex justify-center py-2 hover:bg-gray-50 rounded-lg\">\r\n                    <button onClick={() => alert(t('post.link_copied'))} className=\"flex items-center space-x-2 hover:text-blue-700\">\r\n                        <span>‚ÜóÔ∏è</span>\r\n                        <span>{t('post.share')}</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {showComments && (\r\n                <div className=\"mt-4 space-y-4 border-t pt-4\">\r\n                    <div className=\"relative\">\r\n                        <form onSubmit={handleComment} className=\"flex space-x-2 relative\">\r\n                            <div className=\"relative flex-1\">\r\n                                <input\r\n                                    value={commentText}\r\n                                    onChange={(e) => setCommentText(e.target.value)}\r\n                                    placeholder={t('post.add_comment')}\r\n                                    className=\"w-full bg-gray-100 border-none rounded-2xl px-4 py-3 text-sm focus:ring-1 focus:ring-blue-500 outline-none pr-10\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowEmojiPicker(!showEmojiPicker)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-lg hover:grayscale-0 grayscale transition opacity-60 hover:opacity-100\"\r\n                                >\r\n                                    üòä\r\n                                </button>\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={!commentText.trim()}\r\n                                className=\"text-blue-700 font-black text-xs uppercase tracking-widest px-4 hover:text-blue-900 disabled:opacity-30 self-center\"\r\n                            >\r\n                                {t('post.button')}\r\n                            </button>\r\n                        </form>\r\n\r\n                        {/* Emoji Picker Dropdown */}\r\n                        {showEmojiPicker && (\r\n                            <div className=\"absolute bottom-full mb-2 right-0 bg-white border shadow-xl rounded-2xl p-3 grid grid-cols-4 gap-2 z-50 animate-in fade-in zoom-in duration-200\">\r\n                                {EMOJIS.map(emoji => (\r\n                                    <button\r\n                                        key={emoji}\r\n                                        onClick={() => {\r\n                                            setCommentText(prev => prev + emoji);\r\n                                        }}\r\n                                        className=\"text-xl hover:bg-gray-100 p-1 rounded transition\"\r\n                                    >\r\n                                        {emoji}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4 max-h-60 overflow-y-auto no-scrollbar\">\r\n                        {comments.length > 0 ? (\r\n                            comments.map((comment: any, idx: number) => (\r\n                                <div key={idx} className=\"flex items-start space-x-3 group animate-in fade-in slide-in-from-top-1\">\r\n                                    <Link href={`/profile/${comment.user?._id}`} className=\"w-8 h-8 bg-blue-100 rounded-lg flex-shrink-0 flex items-center justify-center text-[10px] font-black text-blue-800 shadow-sm uppercase overflow-hidden hover:scale-105 transition-transform\">\r\n                                        {comment.user?.profilePic ? <img src={comment.user.profilePic} className=\"w-full h-full object-cover\" /> : (comment.user?.name ? comment.user.name.charAt(0) : '?')}\r\n                                    </Link>\r\n                                    <div className=\"bg-gray-50 rounded-2xl px-4 py-2 flex-1 border border-gray-100 group-hover:bg-gray-200/50 transition duration-200\">\r\n                                        <div className=\"flex justify-between items-center mb-1\">\r\n                                            <Link href={`/profile/${comment.user?._id}`} className=\"text-[10px] font-black text-gray-900 uppercase tracking-tighter hover:text-blue-700 transition-colors\">\r\n                                                {comment.user?.name || 'Aspirant'}\r\n                                            </Link>\r\n                                            <p className=\"text-[9px] text-gray-400 font-bold\">{new Date(comment.createdAt).toLocaleDateString()}</p>\r\n                                        </div>\r\n                                        <p className=\"text-xs text-gray-700 leading-relaxed font-bold\">{comment.text}</p>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <p className=\"text-center text-xs font-black text-gray-400 py-4 uppercase tracking-[0.2em] italic\">{t('post.no_replies')}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\components\\Sidebar.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":20,"column":33,"nodeType":"JSXOpeningElement","endLine":20,"endColumn":101},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":20,"column":33,"nodeType":"JSXOpeningElement","endLine":20,"endColumn":101},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":40,"column":96,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2976,2977],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2976,2977],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2976,2977],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2976,2977],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":40,"column":109,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2989,2990],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2989,2990],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2989,2990],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2989,2990],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport Link from 'next/link';\r\n\r\nexport default function Sidebar() {\r\n    const { user } = useAuth();\r\n    const { t, language, setLanguage } = useLanguage();\r\n\r\n    return (\r\n        <aside className=\"space-y-4\">\r\n            <div className=\"bg-white border rounded-xl overflow-hidden shadow-sm\">\r\n                <div className=\"h-16 bg-gradient-to-r from-blue-700 via-blue-600 to-indigo-800\"></div>\r\n                <div className=\"px-4 pb-6 -mt-8 text-center\">\r\n                    <Link href={`/profile/${user?._id}`} className=\"block group\">\r\n                        <div className=\"w-16 h-16 bg-white border-4 border-white rounded-full mx-auto flex items-center justify-center font-bold text-blue-800 text-xl shadow-md overflow-hidden group-hover:scale-105 transition-transform\">\r\n                            {user?.profilePic ? (\r\n                                <img src={user.profilePic} className=\"w-full h-full object-cover\" />\r\n                            ) : (\r\n                                <span>{user?.name ? user.name.charAt(0) : '?'}</span>\r\n                            )}\r\n                        </div>\r\n                        <h3 className=\"mt-2 font-bold text-lg group-hover:text-blue-700 transition-colors flex items-center justify-center gap-1\">\r\n                            {user?.name || t('sidebar.aspirant')}\r\n                            {['mentor', 'academy'].includes(user?.role || '') && (\r\n                                <span className=\"text-blue-500\" title=\"Verified\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-4 h-4\">\r\n                                        <path fillRule=\"evenodd\" d=\"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.491 4.491 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                </span>\r\n                            )}\r\n                        </h3>\r\n                    </Link>\r\n                    <p className=\"text-xs text-gray-500 mb-2 font-bold\">\r\n                        {user?.accountType === 'Aspirant' ? t('sidebar.aspirant') : (user?.accountType || 'User')}\r\n                    </p>\r\n                    {user?.about && (\r\n                        <p className=\"text-[10px] text-gray-400 italic mb-4 line-clamp-2 px-2\">\"{user.about}\"</p>\r\n                    )}\r\n\r\n                    {/* Verified Dashboard Links */}\r\n                    {user?.role === 'mentor' && (\r\n                        <Link href=\"/mentor-dashboard\" className=\"block mb-4 mx-4 py-2 bg-violet-600 text-white rounded-lg text-xs font-black uppercase tracking-widest hover:bg-violet-700 transition-colors shadow-md\">\r\n                            Mentor Dashboard\r\n                        </Link>\r\n                    )}\r\n                    {user?.role === 'academy' && (\r\n                        <Link href=\"/academy-dashboard\" className=\"block mb-4 mx-4 py-2 bg-violet-600 text-white rounded-lg text-xs font-black uppercase tracking-widest hover:bg-violet-700 transition-colors shadow-md\">\r\n                            Academy Dashboard\r\n                        </Link>\r\n                    )}\r\n                    <div className=\"border-t pt-4 text-left text-[10px] space-y-3 uppercase tracking-widest font-black\">\r\n                        <Link href=\"/network\" className=\"flex justify-between items-center hover:bg-gray-50 -mx-4 px-4 py-1 transition-colors cursor-pointer\">\r\n                            <span className=\"text-gray-400\">{t('sidebar.connections')}</span>\r\n                            <span className=\"text-blue-700\">{user?.connectionsCount || 0}</span>\r\n                        </Link>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-gray-400\">{t('sidebar.followers')}</span>\r\n                            <span className=\"text-blue-700\">{user?.followersCount || 0}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-gray-400\">{t('sidebar.following')}</span>\r\n                            <span className=\"text-blue-700\">{user?.followingCount || 0}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Daily Newspaper Link - CLEAN SINGLE ENTRY */}\r\n            <Link href=\"/daily-newspaper\" className=\"block\">\r\n                <div className=\"bg-white border rounded-xl p-4 shadow-sm hover:border-blue-300 hover:bg-blue-50/30 transition-all flex items-center justify-between group\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-2xl group-hover:scale-110 transition-transform\">üì∞</span>\r\n                        <div>\r\n                            <h4 className=\"font-bold text-gray-700 group-hover:text-blue-700 transition-colors\">{t('sidebar.daily_newspaper')}</h4>\r\n                            <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-wider\">{t('sidebar.read_papers')}</p>\r\n                        </div>\r\n                    </div>\r\n                    <svg className=\"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                    </svg>\r\n                </div>\r\n            </Link>\r\n\r\n            {/* Exam Ecosystem Hub Link */}\r\n            <Link href=\"/exams\" className=\"block\">\r\n                <div className=\"bg-white border rounded-xl p-4 shadow-sm hover:border-blue-300 hover:bg-blue-50/30 transition-all flex items-center justify-between group\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-2xl group-hover:scale-110 transition-transform\">üèõÔ∏è</span>\r\n                        <div>\r\n                            <h4 className=\"font-bold text-gray-700 group-hover:text-blue-700 transition-colors\">Exams Hub</h4>\r\n                            <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-wider\">Master your Exams</p>\r\n                        </div>\r\n                    </div>\r\n                    <svg className=\"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                    </svg>\r\n                </div>\r\n            </Link>\r\n\r\n            {/* Job Updates Link */}\r\n            <Link href=\"/job-updates\" className=\"block\">\r\n                <div className=\"bg-white border rounded-xl p-4 shadow-sm hover:border-blue-300 hover:bg-blue-50/30 transition-all flex items-center justify-between group\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-2xl group-hover:scale-110 transition-transform\">üíº</span>\r\n                        <div>\r\n                            <h4 className=\"font-bold text-gray-700 group-hover:text-blue-700 transition-colors\">Jobs</h4>\r\n                            <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-wider\">Latest Updates</p>\r\n                        </div>\r\n                    </div>\r\n                    <svg className=\"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                    </svg>\r\n                </div>\r\n            </Link>\r\n\r\n            <div className=\"bg-white border rounded-xl p-4 shadow-sm\">\r\n                <h4 className=\"font-bold text-sm mb-3 text-gray-700\">{t('sidebar.my_exams')}</h4>\r\n                <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                    {user?.exams?.map(exam => (\r\n                        <span key={exam} className=\"text-xs font-semibold bg-gray-100 px-2 py-1 rounded text-gray-600 border\">\r\n                            {exam}\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"border-t pt-4\">\r\n                    <div className=\"flex items-center justify-between text-left\">\r\n                        <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-400\">{t('sidebar.language')}</span>\r\n                        <div className=\"flex items-center space-x-3 bg-gray-50 px-2 py-1 rounded-lg border border-gray-100\">\r\n                            <button\r\n                                onClick={() => setLanguage('en')}\r\n                                className={`text-[10px] font-bold uppercase transition-all ${language === 'en' ? 'text-blue-700' : 'text-gray-400 hover:text-gray-500'}`}\r\n                            >\r\n                                EN\r\n                            </button>\r\n                            <span className=\"text-gray-200 text-xs\">|</span>\r\n                            <button\r\n                                onClick={() => setLanguage('kn')}\r\n                                className={`text-[10px] font-bold transition-all ${language === 'kn' ? 'text-blue-700' : 'text-gray-400 hover:text-gray-500'}`}\r\n                            >\r\n                                ‡≤ï‡≤®‡≥ç\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\components\\StoryBar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Link' is defined but never used.","line":6,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[186,215],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'mentionInput' is assigned a value but never used.","line":46,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":46,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setMentionInput' is assigned a value but never used.","line":46,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":46,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'tagInput' is assigned a value but never used.","line":47,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":47,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setTagInput' is assigned a value but never used.","line":47,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":47,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'language' is assigned a value but never used.","line":51,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":51,"endColumn":24},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchStories'. Either include it or remove the dependency array.","line":89,"column":8,"nodeType":"ArrayExpression","endLine":89,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchStories, user]","fix":{"range":[3189,3195],"text":"[fetchStories, user]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'handleNext', 'markAsViewed', 'storyGroups', and 'user'. Either include them or remove the dependency array.","line":151,"column":8,"nodeType":"ArrayExpression","endLine":151,"endColumn":45,"suggestions":[{"desc":"Update the dependencies array to be: [activeGroupIndex, currentStoryIndex, handleNext, markAsViewed, storyGroups, user]","fix":{"range":[5259,5296],"text":"[activeGroupIndex, currentStoryIndex, handleNext, markAsViewed, storyGroups, user]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":277,"column":29,"nodeType":"JSXOpeningElement","endLine":277,"endColumn":97},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":277,"column":29,"nodeType":"JSXOpeningElement","endLine":277,"endColumn":97},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":306,"column":37,"nodeType":"JSXOpeningElement","endLine":306,"endColumn":118},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":345,"column":33,"nodeType":"JSXOpeningElement","endLine":345,"endColumn":127},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":345,"column":33,"nodeType":"JSXOpeningElement","endLine":345,"endColumn":127},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":363,"column":37,"nodeType":"JSXOpeningElement","endLine":363,"endColumn":110},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":363,"column":37,"nodeType":"JSXOpeningElement","endLine":363,"endColumn":110},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":416,"column":41,"nodeType":"JSXOpeningElement","endLine":416,"endColumn":117},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":416,"column":41,"nodeType":"JSXOpeningElement","endLine":416,"endColumn":117}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport Link from 'next/link';\r\n\r\ninterface Story {\r\n    _id: string;\r\n    user: {\r\n        _id: string;\r\n        name: string;\r\n        profilePic: string;\r\n    };\r\n    content?: string;\r\n    mediaUrl?: string;\r\n    mediaType?: 'image' | 'video';\r\n    mentions?: { _id: string; name: string }[];\r\n    tags?: string[];\r\n    reactions: { user: string; type: string }[];\r\n    viewers: string[];\r\n    createdAt: string;\r\n}\r\n\r\ninterface StoryGroup {\r\n    user: Story['user'];\r\n    stories: Story[];\r\n    hasUnviewed: boolean;\r\n}\r\n\r\nexport default function StoryBar() {\r\n    const [storyGroups, setStoryGroups] = useState<StoryGroup[]>([]);\r\n    const [showAddStory, setShowAddStory] = useState(false);\r\n\r\n    // Viewer State\r\n    const [activeGroupIndex, setActiveGroupIndex] = useState<number | null>(null);\r\n    const [currentStoryIndex, setCurrentStoryIndex] = useState(0);\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    // Upload State\r\n    const [newStoryContent, setNewStoryContent] = useState('');\r\n    const [media, setMedia] = useState<File | null>(null);\r\n    const [mediaPreview, setMediaPreview] = useState<string | null>(null);\r\n    const [mentions, setMentions] = useState<string[]>([]);\r\n    const [tags, setTags] = useState<string[]>([]);\r\n    const [mentionInput, setMentionInput] = useState('');\r\n    const [tagInput, setTagInput] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const { user, logout } = useAuth();\r\n    const { t, language } = useLanguage();\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const progressInterval = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    const fetchStories = async () => {\r\n        try {\r\n            const res = await fetch('http://localhost:5000/api/stories', {\r\n                headers: { 'Authorization': `Bearer ${user?.token}` }\r\n            });\r\n\r\n            if (res.status === 401) {\r\n                console.error('Authentication failed - logging out');\r\n                logout();\r\n                return;\r\n            }\r\n\r\n            const data: Story[] = await res.json();\r\n\r\n            if (Array.isArray(data)) {\r\n                const groups: Record<string, StoryGroup> = {};\r\n                data.forEach(story => {\r\n                    const uid = story.user._id;\r\n                    if (!groups[uid]) {\r\n                        groups[uid] = { user: story.user, stories: [], hasUnviewed: false };\r\n                    }\r\n                    groups[uid].stories.push(story);\r\n                    if (!story.viewers.includes(user?._id || '')) {\r\n                        groups[uid].hasUnviewed = true;\r\n                    }\r\n                });\r\n                // Sort: unviewed first, then by latest story\r\n                setStoryGroups(Object.values(groups).sort((a, b) => (b.hasUnviewed === a.hasUnviewed) ? 0 : b.hasUnviewed ? 1 : -1));\r\n            }\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user) fetchStories();\r\n    }, [user]);\r\n\r\n    // Media Preview\r\n    useEffect(() => {\r\n        if (media) {\r\n            const url = URL.createObjectURL(media);\r\n            setMediaPreview(url);\r\n            return () => URL.revokeObjectURL(url);\r\n        } else {\r\n            setMediaPreview(null);\r\n        }\r\n    }, [media]);\r\n\r\n    // Mark as Viewed\r\n    const markAsViewed = async (storyId: string) => {\r\n        if (!user) return;\r\n        try {\r\n            await fetch(`http://localhost:5000/api/stories/${storyId}/view`, {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n            // Update local state without refetching to avoid flicker\r\n            setStoryGroups(prev => prev.map(g => ({\r\n                ...g,\r\n                stories: g.stories.map(s => s._id === storyId ? { ...s, viewers: [...(s.viewers || []), user._id] } : s)\r\n            })));\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    // Viewer Logic\r\n    useEffect(() => {\r\n        if (activeGroupIndex === null) return;\r\n\r\n        const group = storyGroups[activeGroupIndex];\r\n        if (!group || !group.stories || !group.stories[currentStoryIndex]) return;\r\n\r\n        const story = group.stories[currentStoryIndex];\r\n\r\n        // Mark as viewed\r\n        if (user && !story.viewers.includes(user._id)) {\r\n            markAsViewed(story._id);\r\n        }\r\n\r\n        setProgress(0);\r\n        if (progressInterval.current) clearInterval(progressInterval.current);\r\n\r\n        const duration = story.mediaType === 'video' ? 10000 : 5000; // 10s video (mock), 5s image\r\n        const step = 100;\r\n\r\n        progressInterval.current = setInterval(() => {\r\n            setProgress(prev => {\r\n                if (prev >= 100) {\r\n                    handleNext();\r\n                    return 100;\r\n                }\r\n                return prev + (step / duration) * 100;\r\n            });\r\n        }, step);\r\n\r\n        return () => {\r\n            if (progressInterval.current) clearInterval(progressInterval.current);\r\n        };\r\n    }, [activeGroupIndex, currentStoryIndex]);\r\n\r\n    const handleNext = () => {\r\n        if (activeGroupIndex === null) return;\r\n        const group = storyGroups[activeGroupIndex];\r\n\r\n        if (currentStoryIndex < group.stories.length - 1) {\r\n            setCurrentStoryIndex(prev => prev + 1);\r\n        } else if (activeGroupIndex < storyGroups.length - 1) {\r\n            setActiveGroupIndex(prev => (prev !== null ? prev + 1 : null));\r\n            setCurrentStoryIndex(0);\r\n        } else {\r\n            setActiveGroupIndex(null); // Close\r\n        }\r\n    };\r\n\r\n    const handlePrev = () => {\r\n        if (activeGroupIndex === null) return;\r\n\r\n        if (currentStoryIndex > 0) {\r\n            setCurrentStoryIndex(prev => prev - 1);\r\n        } else if (activeGroupIndex > 0) {\r\n            setActiveGroupIndex(prev => (prev !== null ? prev - 1 : null));\r\n            // Go to last story of previous group\r\n            setCurrentStoryIndex(storyGroups[activeGroupIndex - 1].stories.length - 1);\r\n        } else {\r\n            setActiveGroupIndex(null);\r\n        }\r\n    };\r\n\r\n    const openStory = (index: number) => {\r\n        const group = storyGroups[index];\r\n        if (!group || !group.stories || group.stories.length === 0) return;\r\n\r\n        // Start from first unviewed, or 0\r\n        const firstUnviewed = group.stories.findIndex(s => s.viewers && !s.viewers.includes(user?._id || ''));\r\n        setCurrentStoryIndex(firstUnviewed !== -1 ? firstUnviewed : 0);\r\n        setActiveGroupIndex(index);\r\n    };\r\n\r\n    const handleAddStory = async () => {\r\n        if (!newStoryContent.trim() && !media) return;\r\n        setLoading(true);\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('content', newStoryContent);\r\n            formData.append('mentions', JSON.stringify(mentions));\r\n            formData.append('tags', JSON.stringify(tags));\r\n            if (media) formData.append('media', media);\r\n\r\n            const res = await fetch('http://localhost:5000/api/stories', {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${user?.token}` },\r\n                body: formData\r\n            });\r\n\r\n            if (res.status === 401) {\r\n                console.error('Authentication failed - logging out');\r\n                logout();\r\n                return;\r\n            }\r\n\r\n            if (res.ok) {\r\n                setNewStoryContent('');\r\n                setMedia(null);\r\n                setMentions([]);\r\n                setTags([]);\r\n                setShowAddStory(false);\r\n                fetchStories();\r\n            } else {\r\n                const errorData = await res.json();\r\n                alert(`Failed to upload story: ${errorData.message || 'Unknown error'}`);\r\n            }\r\n        } catch (err) {\r\n            console.error('Story upload error:', err);\r\n            alert('Failed to upload story. Please try again.');\r\n        }\r\n        finally { setLoading(false); }\r\n    };\r\n\r\n    const [replyText, setReplyText] = useState('');\r\n    const handleReact = async (storyId: string, type: string) => {\r\n        try {\r\n            await fetch(`http://localhost:5000/api/stories/${storyId}/react`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${user?.token}` },\r\n                body: JSON.stringify({ type })\r\n            });\r\n            // Optimistic update\r\n            // (In real app, update state properly)\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const handleReply = async (e: React.FormEvent, storyId: string) => {\r\n        e.preventDefault();\r\n        if (!replyText.trim()) return;\r\n        try {\r\n            await fetch(`http://localhost:5000/api/stories/${storyId}/reply`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${user?.token}` },\r\n                body: JSON.stringify({ text: replyText })\r\n            });\r\n            setReplyText('');\r\n            alert(t('story.reply_sent'));\r\n        } catch (err) { console.error(err); }\r\n    };\r\n\r\n    const activeStory = activeGroupIndex !== null ? storyGroups[activeGroupIndex].stories[currentStoryIndex] : null;\r\n\r\n    return (\r\n        <div className=\"flex space-x-4 overflow-x-auto no-scrollbar py-2 px-1\">\r\n            {/* Your Story Section */}\r\n            <div className=\"flex flex-col items-center flex-shrink-0 cursor-pointer group\">\r\n                <div\r\n                    onClick={() => {\r\n                        const myGroupIndex = storyGroups.findIndex(g => g.user._id === user?._id);\r\n                        if (myGroupIndex !== -1) {\r\n                            openStory(myGroupIndex);\r\n                        } else {\r\n                            setShowAddStory(true);\r\n                        }\r\n                    }}\r\n                    className={`w-16 h-16 rounded-full p-[2px] border-2 ${storyGroups.some(g => g.user._id === user?._id) ? 'border-blue-600' : 'border-dashed border-gray-300'} group-hover:border-blue-500 transition-colors`}\r\n                >\r\n                    <div className=\"w-full h-full bg-gray-50 rounded-full flex items-center justify-center relative border-2 border-white overflow-hidden text-blue-600\">\r\n                        {user?.profilePic && storyGroups.some(g => g.user._id === user?._id) ? (\r\n                            <img src={user.profilePic} className=\"w-full h-full object-cover\" />\r\n                        ) : (\r\n                            <span className=\"text-3xl font-black\">{storyGroups.some(g => g.user._id === user?._id) ? user?.name?.charAt(0) : '+'}</span>\r\n                        )}\r\n                        {/* Smaller plus icon if they already have a story */}\r\n                        {storyGroups.some(g => g.user._id === user?._id) && (\r\n                            <div\r\n                                onClick={(e) => { e.stopPropagation(); setShowAddStory(true); }}\r\n                                className=\"absolute bottom-0 right-0 w-5 h-5 bg-blue-600 rounded-full border-2 border-white flex items-center justify-center text-white text-[10px] font-bold\"\r\n                            >+</div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <span className=\"text-[10px] mt-1 font-black text-gray-400 uppercase tracking-tighter\">{t('story.your_story')}</span>\r\n            </div>\r\n\r\n            {/* Other Users' Stories */}\r\n            {storyGroups.filter(g => g.user._id !== user?._id).map((group) => {\r\n                // Find actual index in the original array for openStory\r\n                const originalIndex = storyGroups.findIndex(sg => sg.user._id === group.user._id);\r\n                return (\r\n                    <div\r\n                        key={group.user._id}\r\n                        onClick={() => openStory(originalIndex)}\r\n                        className=\"flex flex-col items-center flex-shrink-0 cursor-pointer group\"\r\n                    >\r\n                        <div className={`w-16 h-16 rounded-full p-[2px] border-[2.5px] ${group.hasUnviewed ? 'border-blue-600' : 'border-gray-300'}`}>\r\n                            <div className=\"w-full h-full bg-blue-50 rounded-full flex items-center justify-center font-black text-blue-800 border-2 border-white overflow-hidden uppercase transition-transform hover:scale-105\">\r\n                                {group.user.profilePic && group.user.profilePic.trim() ? (\r\n                                    <img src={group.user.profilePic} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                                ) : (\r\n                                    group.user.name?.charAt(0) || '?'\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        <span className={`text-[10px] mt-1 font-black truncate w-16 text-center uppercase tracking-tighter ${group.hasUnviewed ? 'text-gray-800' : 'text-gray-400'}`}>\r\n                            {group.user.name?.split(' ')[0] || 'Aspirant'}\r\n                        </span>\r\n                    </div>\r\n                );\r\n            })}\r\n\r\n            {/* Viewer Modal */}\r\n            {activeStory && activeGroupIndex !== null && (\r\n                <div className=\"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center animate-in fade-in duration-200\">\r\n                    <button onClick={() => setActiveGroupIndex(null)} className=\"absolute top-4 right-4 text-white text-4xl z-[120]\">‚úï</button>\r\n\r\n                    {/* Navigation Areas */}\r\n                    <div className=\"absolute inset-y-0 left-0 w-1/3 z-[110]\" onClick={handlePrev}></div>\r\n                    <div className=\"absolute inset-y-0 right-0 w-1/3 z-[110]\" onClick={handleNext}></div>\r\n\r\n                    <div className=\"relative w-full max-w-sm h-full md:h-[90vh] bg-gray-900 md:rounded-3xl overflow-hidden shadow-2xl flex flex-col\">\r\n\r\n                        {/* Progress Bars */}\r\n                        <div className=\"flex space-x-1 p-2 pt-4 absolute top-0 left-0 right-0 z-50\">\r\n                            {storyGroups[activeGroupIndex].stories.map((s, idx) => (\r\n                                <div key={s._id} className=\"h-1 flex-1 bg-white/30 rounded-full overflow-hidden\">\r\n                                    <div\r\n                                        className=\"h-full bg-white transition-all duration-100 ease-linear\"\r\n                                        style={{ width: idx < currentStoryIndex ? '100%' : idx === currentStoryIndex ? `${progress}%` : '0%' }}\r\n                                    ></div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* User Header */}\r\n                        <div className=\"flex items-center space-x-3 p-4 pt-8 z-50\">\r\n                            {activeStory.user.profilePic && activeStory.user.profilePic.trim() ? (\r\n                                <img src={activeStory.user.profilePic} className=\"w-8 h-8 rounded-full border border-white\" />\r\n                            ) : (\r\n                                <div className=\"w-8 h-8 rounded-full border border-white bg-blue-100 flex items-center justify-center text-blue-800 font-bold text-xs\">\r\n                                    {activeStory.user.name.charAt(0)}\r\n                                </div>\r\n                            )}\r\n                            <div>\r\n                                <h4 className=\"text-white text-xs font-black uppercase tracking-widest\">{activeStory.user.name}</h4>\r\n                                <span className=\"text-white/60 text-[10px]\">{new Date(activeStory.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Content */}\r\n                        <div className=\"flex-1 bg-black flex items-center justify-center relative\">\r\n                            {activeStory.mediaUrl ? (\r\n                                activeStory.mediaType === 'video' ? (\r\n                                    <video src={activeStory.mediaUrl} autoPlay className=\"w-full h-full object-cover\" />\r\n                                ) : (\r\n                                    <img src={activeStory.mediaUrl} className=\"w-full h-full object-cover\" />\r\n                                )\r\n                            ) : (\r\n                                <div className=\"p-8 text-center bg-gradient-to-br from-blue-900 to-black w-full h-full flex items-center justify-center\">\r\n                                    <p className=\"text-2xl font-black text-white italic\">{activeStory.content}</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Overlay Text */}\r\n                            {activeStory.mediaUrl && activeStory.content && (\r\n                                <div className=\"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent\">\r\n                                    <p className=\"text-white text-center font-medium\">{activeStory.content}</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Footer Actions */}\r\n                        <div className=\"p-4 z-[120] pb-8\">\r\n                            <form onSubmit={(e) => handleReply(e, activeStory._id)} className=\"flex items-center space-x-4\">\r\n                                <input\r\n                                    value={replyText}\r\n                                    onChange={e => setReplyText(e.target.value)}\r\n                                    placeholder={t('story.message')}\r\n                                    className=\"flex-1 bg-transparent border border-white/50 rounded-full px-4 py-3 text-white text-sm outline-none focus:border-white placeholder-white/70\"\r\n                                />\r\n                                {['‚ù§Ô∏è', 'üî•'].map(emoji => (\r\n                                    <button\r\n                                        key={emoji}\r\n                                        type=\"button\"\r\n                                        onClick={() => handleReact(activeStory._id, emoji)}\r\n                                        className=\"text-2xl hover:scale-125 transition\"\r\n                                    >\r\n                                        {emoji}\r\n                                    </button>\r\n                                ))}\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Upload Modal */}\r\n            {showAddStory && (\r\n                <div className=\"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-3xl w-full max-w-sm p-6 overflow-hidden animate-zoom-in\">\r\n                        <h3 className=\"text-xl font-black text-gray-900 mb-6 uppercase tracking-wider\">{t('story.new_story')}</h3>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            {mediaPreview ? (\r\n                                <div className=\"relative h-48 w-full rounded-xl overflow-hidden group bg-black\">\r\n                                    {media?.type.startsWith('video') ? (\r\n                                        <video src={mediaPreview} className=\"w-full h-full object-cover opacity-80\" />\r\n                                    ) : (\r\n                                        <img src={mediaPreview} className=\"w-full h-full object-cover opacity-80\" />\r\n                                    )}\r\n                                    <button\r\n                                        onClick={() => setMedia(null)}\r\n                                        className=\"absolute top-2 right-2 bg-white/20 p-1.5 rounded-full text-white hover:bg-red-500 transition\"\r\n                                    >‚úï</button>\r\n                                </div>\r\n                            ) : (\r\n                                <div\r\n                                    onClick={() => fileInputRef.current?.click()}\r\n                                    className=\"h-32 w-full border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 hover:border-blue-500 transition text-gray-400 group\"\r\n                                >\r\n                                    <span className=\"text-3xl mb-2 group-hover:scale-110 transition\">üì∑</span>\r\n                                    <span className=\"text-xs font-bold uppercase\">{t('story.select_media')}</span>\r\n                                </div>\r\n                            )}\r\n                            <input ref={fileInputRef} type=\"file\" hidden accept=\"image/*,video/*\" onChange={e => setMedia(e.target.files?.[0] || null)} />\r\n\r\n                            <textarea\r\n                                value={newStoryContent}\r\n                                onChange={e => setNewStoryContent(e.target.value)}\r\n                                placeholder={t('story.caption_placeholder')}\r\n                                className=\"w-full bg-gray-100 rounded-xl p-4 text-sm font-medium outline-none border-2 border-transparent focus:border-blue-500 transition resize-none h-24\"\r\n                            />\r\n\r\n                            <div className=\"flex space-x-3 pt-2\">\r\n                                <button onClick={() => setShowAddStory(false)} className=\"flex-1 py-3 font-bold text-gray-500 hover:bg-gray-100 rounded-xl text-xs uppercase tracking-widest\">{t('common.cancel')}</button>\r\n                                <button\r\n                                    onClick={handleAddStory}\r\n                                    disabled={loading || (!newStoryContent && !media)}\r\n                                    className=\"flex-1 py-3 bg-blue-600 text-white font-black rounded-xl hover:bg-blue-700 transition shadow-lg active:scale-95 disabled:opacity-50 text-xs uppercase tracking-widest\"\r\n                                >\r\n                                    {loading ? t('story.posting') : t('post.share')}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\context\\AuthContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[411,414],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[411,414],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":52,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":52,"endColumn":25}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface User {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n    role: string;\r\n    accountType: string;\r\n    token: string;\r\n    profilePic?: string;\r\n    coverPic?: string;\r\n    about?: string;\r\n    exams?: string[];\r\n    preferredExams?: any[];\r\n    receiveAllNotifications?: boolean;\r\n    connectionsCount?: number;\r\n    followersCount?: number;\r\n    followingCount?: number;\r\n    mentorApplicationStatus?: string;\r\n    academyApplicationStatus?: string;\r\n    examHashtags?: string[];\r\n    language?: string;\r\n    isVerified?: boolean;\r\n    mentorshipEnabled?: boolean;\r\n    mentorshipPrice?: number;\r\n}\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    login: (userData: User) => void;\r\n    updateUser: (newData: Partial<User>) => void;\r\n    logout: () => void;\r\n    loading: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        // Check local storage on load\r\n        const storedUser = localStorage.getItem('user');\r\n        if (storedUser) {\r\n            try {\r\n                setUser(JSON.parse(storedUser));\r\n            } catch (err) {\r\n                console.error('Failed to parse user data');\r\n                localStorage.removeItem('user');\r\n            }\r\n        }\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    const login = (userData: User) => {\r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n    };\r\n\r\n    const updateUser = (newData: Partial<User>) => {\r\n        setUser(prevUser => {\r\n            if (!prevUser) return null;\r\n            const updatedUser = { ...prevUser, ...newData };\r\n            localStorage.setItem('user', JSON.stringify(updatedUser));\r\n            return updatedUser;\r\n        });\r\n    };\r\n\r\n    const logout = () => {\r\n        setUser(null);\r\n        localStorage.removeItem('user');\r\n        router.push('/login');\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, login, updateUser, logout, loading }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\context\\LanguageContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\arunp\\mmm\\SARAKARIMINDS\\frontend\\src\\translations\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]